/*!
 * jsoneditor.js
 *
 * @brief
 * JSONEditor is a web-based tool to view, edit, format, and validate JSON.
 * It has various modes such as a tree editor, a code editor, and a plain text
 * editor.
 *
 * Supported browsers: Chrome, Firefox, Safari, Opera, Internet Explorer 8+
 *
 * @license
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a copy
 * of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations under
 * the License.
 *
 * Copyright (c) 2011-2019 Jos de Jong, http://jsoneditoronline.org
 *
 * @author  Jos de Jong, <wjosdejong@gmail.com>
 * @version 6.3.0
 * @date    2019-08-15
 */
(function(n,t){typeof exports=="object"&&typeof module=="object"?module.exports=t():typeof define=="function"&&define.amd?define([],t):typeof exports=="object"?exports.JSONEditor=t():n.JSONEditor=t()})(window,function(){return function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={i:r,l:!1,exports:{}};return n[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var i={};return t.m=n,t.c=i,t.d=function(n,i,r){t.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:r})},t.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,i){var r,u;if((i&1&&(n=t(n)),i&8)||i&4&&typeof n=="object"&&n&&n.__esModule)return n;if(r=Object.create(null),t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),i&2&&typeof n!="string")for(u in n)t.d(r,u,function(t){return n[t]}.bind(null,u));return r},t.n=function(n){var i=n&&n.__esModule?function(){return n["default"]}:function(){return n};return t.d(i,"a",i),i},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s=29)}([function(n,t,i){"use strict";var e,r;i(23);var o=i(24),u=i(72),s=i(73),f=i(1).translate,h=1e4;t.parse=function(n){try{return JSON.parse(n)}catch(i){t.validate(n);throw i;}};t.repair=function(n){function r(){return n.charAt(t)}function e(){return n.charAt(t+1)}function l(){return n.charAt(t-1)}function c(n){return n===" "||n==="\n"||n==="\r"||n==="\t"}function a(){for(var n=u.length-1,t;n>=0;){if(t=u[n],!c(t))return t;n--}return""}function v(){for(var i=t+1;i<n.length&&c(n[i]);)i++;return n[i]}function y(){for(t+=2;t<n.length&&(r()!=="*"||e()!=="/");)t++;t+=2}function p(){for(t+=2;t<n.length&&r()!=="\n";)t++}function f(i){var f="",u;for(f+='"',t++,u=r();t<n.length&&u!==i;)u==='"'&&l()!=="\\"?f+='\\"':s.hasOwnProperty(u)?f+=s[u]:u==="\\"?(t++,u=r(),u!=="'"&&(f+="\\"),f+=u):f+=u,t++,u=r();return u===i&&(f+='"',t++),f}function w(){for(var n="",i=r();/[a-zA-Z_$\d]/.test(i);)n+=i,t++,i=r();return["null","true","false"].indexOf(n)===-1?'"'+n+'"':n}function b(){for(var n=r(),i,u="";/[a-zA-Z_$]/.test(n);)u+=n,t++,n=r();if(u.length>0&&n==="("){if(t++,n=r(),n==='"')i=f(n),n=r();else for(i="";n!==")"&&n!=="";)i+=n,t++,n=r();return n===")"?(t++,i):u+"("+i+n}return u}function k(n){return n===" "||n>=" "&&n<=" "||n===" "||n===" "||n==="　"}var u=[],t=0,o=n.match(/^\s*(\/\*(.|[\r\n])*?\*\/)?\s*[\da-zA-Z_$]+\s*\(([\s\S]*)\)\s*;?\s*$/),i;o&&(n=o[3]);for(var s={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},h='"';t<n.length;)i=r(),i==="/"&&e()==="*"?y():i==="/"&&e()==="/"?p():k(i)?(u.push(" "),t++):i==="'"?u.push(f(i)):i===h?u.push(f(h)):i==="`"?u.push(f("´")):i==="‘"?u.push(f("’")):i==="“"?u.push(f("”")):i===","&&["]","}"].indexOf(v())!==-1?t++:/[a-zA-Z_$]/.test(i)&&["{",","].indexOf(a())!==-1?u.push(w()):/[a-zA-Z_$]/.test(i)?u.push(b()):(u.push(i),t++);return u.join("")};t.escapeUnicodeChars=function(n){return n.replace(/[\u007F-\uFFFF]/g,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})};t.validate=function(n){typeof u!="undefined"?u.parse(n):JSON.parse(n)};t.extend=function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n};t.clear=function(n){for(var t in n)n.hasOwnProperty(t)&&delete n[t];return n};t.type=function(n){return n===null?"null":n===undefined?"undefined":n instanceof Number||typeof n=="number"?"number":n instanceof String||typeof n=="string"?"string":n instanceof Boolean||typeof n=="boolean"?"boolean":n instanceof RegExp||typeof n=="regexp"?"regexp":t.isArray(n)?"array":"object"};e=/^https?:\/\/\S+$/;t.isUrl=function(n){return(typeof n=="string"||n instanceof String)&&e.test(n)};t.isArray=function(n){return Object.prototype.toString.call(n)==="[object Array]"};t.getAbsoluteLeft=function(n){var t=n.getBoundingClientRect();return t.left+window.pageXOffset||document.scrollLeft||0};t.getAbsoluteTop=function(n){var t=n.getBoundingClientRect();return t.top+window.pageYOffset||document.scrollTop||0};t.addClassName=function(n,t){var i=n.className.split(" ");i.indexOf(t)==-1&&(i.push(t),n.className=i.join(" "))};t.removeAllClassNames=function(n){n.className=""};t.removeClassName=function(n,t){var i=n.className.split(" "),r=i.indexOf(t);r!=-1&&(i.splice(r,1),n.className=i.join(" "))};t.stripFormatting=function(n){for(var i,r,u,e,o=n.childNodes,f=0,s=o.length;f<s;f++){if(i=o[f],i.style&&i.removeAttribute("style"),r=i.attributes,r)for(u=r.length-1;u>=0;u--)e=r[u],e.specified===!0&&i.removeAttribute(e.name);t.stripFormatting(i)}};t.setEndOfContentEditable=function(n){var t,i;document.createRange&&(t=document.createRange(),t.selectNodeContents(n),t.collapse(!1),i=window.getSelection(),i.removeAllRanges(),i.addRange(t))};t.selectContentEditable=function(n){if(n&&n.nodeName=="DIV"){var t,i;window.getSelection&&document.createRange&&(i=document.createRange(),i.selectNodeContents(n),t=window.getSelection(),t.removeAllRanges(),t.addRange(i))}};t.getSelection=function(){if(window.getSelection){var n=window.getSelection();if(n.getRangeAt&&n.rangeCount)return n.getRangeAt(0)}return null};t.setSelection=function(n){if(n&&window.getSelection){var t=window.getSelection();t.removeAllRanges();t.addRange(n)}};t.getSelectionOffset=function(){var n=t.getSelection();return n&&"startOffset"in n&&"endOffset"in n&&n.startContainer&&n.startContainer==n.endContainer?{startOffset:n.startOffset,endOffset:n.endOffset,container:n.startContainer.parentNode}:null};t.setSelectionOffset=function(n){var r,i;document.createRange&&window.getSelection&&(r=window.getSelection(),r&&(i=document.createRange(),n.container.firstChild||n.container.appendChild(document.createTextNode("")),i.setStart(n.container.firstChild,n.startOffset),i.setEnd(n.container.firstChild,n.endOffset),t.setSelection(i)))};t.getInnerText=function(n,i){var c=i==undefined,o,r,f,h,u,s,e;if(c&&(i={text:"",flush:function(){var n=this.text;return this.text="",n},set:function(n){this.text=n}}),n.nodeValue)return i.flush()+n.nodeValue;if(n.hasChildNodes()){for(o=n.childNodes,r="",f=0,h=o.length;f<h;f++)u=o[f],u.nodeName=="DIV"||u.nodeName=="P"?(s=o[f-1],e=s?s.nodeName:undefined,e&&e!="DIV"&&e!="P"&&e!="BR"&&(r+="\n",i.flush()),r+=t.getInnerText(u,i),i.set("\n")):u.nodeName=="BR"?(r+=i.flush(),i.set("\n")):r+=t.getInnerText(u,i);return r}return n.nodeName=="P"&&t.getInternetExplorerVersion()!=-1?i.flush():""};t.hasParentNode=function(n,t){for(var i=n?n.parentNode:undefined;i;){if(i===t)return!0;i=i.parentNode}return!1};t.getInternetExplorerVersion=function(){var n,t,i;return r==-1&&(n=-1,typeof navigator!="undefined"&&navigator.appName=="Microsoft Internet Explorer"&&(t=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),i.exec(t)!=null&&(n=parseFloat(RegExp.$1))),r=n),r};t.isFirefox=function(){return typeof navigator!="undefined"&&navigator.userAgent.indexOf("Firefox")!==-1};r=-1;t.addEventListener=function(n,i,r,u){if(n.addEventListener)return u===undefined&&(u=!1),i==="mousewheel"&&t.isFirefox()&&(i="DOMMouseScroll"),n.addEventListener(i,r,u),r;if(n.attachEvent){var f=function(){return r.call(n,window.event)};return n.attachEvent("on"+i,f),f}};t.removeEventListener=function(n,i,r,u){n.removeEventListener?(u===undefined&&(u=!1),i==="mousewheel"&&t.isFirefox()&&(i="DOMMouseScroll"),n.removeEventListener(i,r,u)):n.detachEvent&&n.detachEvent("on"+i,r)};t.isChildOf=function(n,t){for(var i=n.parentNode;i;){if(i===t)return!0;i=i.parentNode}return!1};t.parsePath=function(n){function e(){for(var i="";n[t]!==undefined&&/[\w$]/.test(n[t]);)i+=n[t],t++;if(i==="")throw new Error("Invalid JSON path: property name expected at index "+t);return i}function f(i){for(var r="";n[t]!==undefined&&n[t]!==i;)r+=n[t],t++;if(n[t]!==i)throw new Error("Invalid JSON path: unexpected end, character "+i+" expected");return r}for(var r=[],t=0,u,i;n[t]!==undefined;)if(n[t]===".")t++,r.push(e());else if(n[t]==="["){if(t++,n[t]==="'"||n[t]==='"'){if(u=n[t],t++,r.push(f(u)),n[t]!==u)throw new Error("Invalid JSON path: closing quote ' expected at index "+t);t++}else{if(i=f("]").trim(),i.length===0)throw new Error("Invalid JSON path: array value expected at index "+t);i=i==="*"?i:JSON.parse(i);r.push(i)}if(n[t]!=="]")throw new Error("Invalid JSON path: closing bracket ] expected at index "+t);t++}else throw new Error('Invalid JSON path: unexpected character "'+n[t]+'" at index '+t);return r};t.stringifyPath=function(n){return n.map(function(n){return typeof n=="number"?"["+n+"]":typeof n=="string"&&n.match(/^[A-Za-z0-9_$]+$/)?"."+n:'["'+n+'"]'}).join("")};t.improveSchemaError=function(n){var t,i;return n.keyword==="enum"&&Array.isArray(n.schema)&&(t=n.schema,t&&(t=t.map(function(n){return JSON.stringify(n)}),t.length>5&&(i=["("+(t.length-5)+" more...)"],t=t.slice(0,5),t.push(i)),n.message="should be equal to one of: "+t.join(", "))),n.keyword==="additionalProperties"&&(n.message="should NOT have additional property: "+n.params.additionalProperty),n};t.isPromise=function(n){return n&&typeof n.then=="function"&&typeof n["catch"]=="function"};t.isValidValidationError=function(n){return typeof n=="object"&&Array.isArray(n.path)&&typeof n.message=="string"};t.insideRect=function(n,t,i){var r=i!==undefined?i:0;return t.left-r>=n.left&&t.right+r<=n.right&&t.top-r>=n.top&&t.bottom+r<=n.bottom};t.debounce=function(n,t,i){var r;return function(){var u=this,f=arguments,e=function(){r=null;i||n.apply(u,f)},o=i&&!r;clearTimeout(r);r=setTimeout(e,t);o&&n.apply(u,f)}};t.textDiff=function(n,t){for(var f=t.length,i=0,u=n.length,r=t.length;t.charAt(i)===n.charAt(i)&&i<f;)i++;while(t.charAt(r-1)===n.charAt(u-1)&&r>i&&u>0)r--,u--;return{start:i,end:r}};t.getInputSelection=function(n){function s(t){var i=n.value.substring(0,t),r=(i.match(/\n/g)||[]).length+1,u=i.length-i.lastIndexOf("\n");return{row:r,column:u}}var i=0,t=0,o,f,r,u,e;return typeof n.selectionStart=="number"&&typeof n.selectionEnd=="number"?(i=n.selectionStart,t=n.selectionEnd):(f=document.selection.createRange(),f&&f.parentElement()==n&&(u=n.value.length,o=n.value.replace(/\r\n/g,"\n"),r=n.createTextRange(),r.moveToBookmark(f.getBookmark()),e=n.createTextRange(),e.collapse(!1),r.compareEndPoints("StartToEnd",e)>-1?i=t=u:(i=-r.moveStart("character",-u),i+=o.slice(0,i).split("\n").length-1,r.compareEndPoints("EndToEnd",e)>-1?t=u:(t=-r.moveEnd("character",-u),t+=o.slice(0,t).split("\n").length-1)))),{startIndex:i,endIndex:t,start:s(i),end:s(t)}};t.getIndexForPosition=function(n,t,i){var f=n.value||"",r,u;return t>0&&i>0?(r=f.split("\n",t),t=Math.min(r.length,t),i=Math.min(r[t-1].length,i-1),u=t==1?i:i+1,r.slice(0,t-1).join("\n").length+u):-1};t.getPositionForPath=function(n,t){var u=this,i=[],r;if(!t||!t.length)return i;try{r=s.parse(n)}catch(f){return i}return t.forEach(function(n){var f=u.parsePath(n),e=f.length?"/"+f.join("/"):"",t=r.pointers[e];t&&i.push({path:n,line:t.key?t.key.line:t.value?t.value.line:0,column:t.key?t.key.column:t.value?t.value.column:0})}),i};t.getColorCSS=function(n){var t=document.createElement("div");return t.style.color=n,t.style.color.split(/\s+/).join("").toLowerCase()||null};t.isValidColor=function(n){return!!t.getColorCSS(n)};t.makeFieldTooltip=function(n,t){if(!n)return"";var i="";return n.title&&(i+=n.title),n.description&&(i.length>0&&(i+="\n"),i+=n.description),n["default"]&&(i.length>0&&(i+="\n\n"),i+=f("default",undefined,t)+"\n",i+=JSON.stringify(n["default"],null,2)),Array.isArray(n.examples)&&n.examples.length>0&&(i.length>0&&(i+="\n\n"),i+=f("examples",undefined,t)+"\n",n.examples.forEach(function(t,r){i+=JSON.stringify(t,null,2);r!==n.examples.length-1&&(i+="\n")})),i};t.get=function(n,t){for(var i=n,r=0;r<t.length&&i!==undefined&&i!==null;r++)i=i[t[r]];return i};t.findUniqueName=function(n,t){for(var u=n.replace(/ \(copy( \d+)?\)$/,""),i=u,r=1,f;t.indexOf(i)!==-1;)f="copy"+(r>1?" "+r:""),i=u+" ("+f+")",r++;return i};t.getChildPaths=function(n,i){function f(n,i,r,u){var e=!Array.isArray(n)&&!t.isObject(n);(e||u)&&(i[r||""]=!0);t.isObject(n)&&Object.keys(n).forEach(function(t){f(n[t],i,r+"."+t,u)})}var u={},e,r,o;if(Array.isArray(n))for(e=Math.min(n.length,h),r=0;r<e;r++)o=n[r],f(o,u,"",i);else u[""]=!0;return Object.keys(u).sort()};t.sort=function(n,i,r){var u=i&&i!=="."?t.parsePath(i):[],e=r==="desc"?-1:1,f=n.slice();return f.sort(function(n,i){var r=t.get(n,u),f=t.get(i,u);return e*(r>f?1:r<f?-1:0)}),f};t.sortObjectKeys=function(n,t){var r=t==="desc"?-1:1,u=Object.keys(n).sort(function(n,t){return r*o(n,t)}),i={};return u.forEach(function(t){i[t]=n[t]}),i};t.parseString=function(n){var t=n.toLowerCase(),i=Number(n),r=parseFloat(n);return n===""?"":t==="null"?null:t==="true"?!0:t==="false"?!1:isNaN(i)||isNaN(r)?n:i};t.formatSize=function(n){var t,i,r,u;return n<900?n.toFixed()+" B":(t=n/1024,t<900)?t.toFixed(1)+" KiB":(i=t/1024,i<900)?i.toFixed(1)+" MiB":(r=i/1024,r<900)?r.toFixed(1)+" GiB":(u=r/1024,u.toFixed(1)+" TiB")};t.limitCharacters=function(n,t){return n.length<=t?n:n.slice(0,t)+"..."};t.isObject=function(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)};t.contains=function(n,t){return n.indexOf(t)!==-1}},function(n,t,i){"use strict";i(23);var u=["en","pt-BR","zh-CN","tr","es"],f={en:{array:"Array",auto:"Auto",appendText:"Append",appendTitle:"Append a new field with type 'auto' after this field (Ctrl+Shift+Ins)",appendSubmenuTitle:"Select the type of the field to be appended",appendTitleAuto:"Append a new field with type 'auto' (Ctrl+Shift+Ins)",ascending:"Ascending",ascendingTitle:"Sort the childs of this ${type} in ascending order",actionsMenu:"Click to open the actions menu (Ctrl+M)",collapseAll:"Collapse all fields",descending:"Descending",descendingTitle:"Sort the childs of this ${type} in descending order",drag:"Drag to move this field (Alt+Shift+Arrows)",duplicateKey:"duplicate key",duplicateText:"Duplicate",duplicateTitle:"Duplicate selected fields (Ctrl+D)",duplicateField:"Duplicate this field (Ctrl+D)",duplicateFieldError:"Duplicate field name",cannotParseFieldError:"Cannot parse field into JSON",cannotParseValueError:"Cannot parse value into JSON",empty:"empty",expandAll:"Expand all fields",expandTitle:"Click to expand/collapse this field (Ctrl+E). \nCtrl+Click to expand/collapse including all childs.",insert:"Insert",insertTitle:"Insert a new field with type 'auto' before this field (Ctrl+Ins)",insertSub:"Select the type of the field to be inserted",object:"Object",ok:"Ok",redo:"Redo (Ctrl+Shift+Z)",removeText:"Remove",removeTitle:"Remove selected fields (Ctrl+Del)",removeField:"Remove this field (Ctrl+Del)",selectNode:"Select a node...",showAll:"show all",showMore:"show more",showMoreStatus:"displaying ${visibleChilds} of ${totalChilds} items.",sort:"Sort",sortTitle:"Sort the childs of this ${type}",sortTitleShort:"Sort contents",sortFieldLabel:"Field:",sortDirectionLabel:"Direction:",sortFieldTitle:"Select the nested field by which to sort the array or object",sortAscending:"Ascending",sortAscendingTitle:"Sort the selected field in ascending order",sortDescending:"Descending",sortDescendingTitle:"Sort the selected field in descending order",string:"String",transform:"Transform",transformTitle:"Filter, sort, or transform the childs of this ${type}",transformTitleShort:"Filter, sort, or transform contents",extract:"Extract",extractTitle:"Extract this ${type}",transformQueryTitle:"Enter a JMESPath query",transformWizardLabel:"Wizard",transformWizardFilter:"Filter",transformWizardSortBy:"Sort by",transformWizardSelectFields:"Select fields",transformQueryLabel:"Query",transformPreviewLabel:"Preview",type:"Type",typeTitle:"Change the type of this field",openUrl:"Ctrl+Click or Ctrl+Enter to open url in new window",undo:"Undo last action (Ctrl+Z)",validationCannotMove:"Cannot move a field into a child of itself",autoType:'Field type "auto". The field type is automatically determined from the value and can be a string, number, boolean, or null.',objectType:'Field type "object". An object contains an unordered set of key/value pairs.',arrayType:'Field type "array". An array contains an ordered collection of values.',stringType:'Field type "string". Field type is not determined from the value, but always returned as string.',modeCodeText:"Code",modeCodeTitle:"Switch to code highlighter",modeFormText:"Form",modeFormTitle:"Switch to form editor",modeTextText:"Text",modeTextTitle:"Switch to plain text editor",modeTreeText:"Tree",modeTreeTitle:"Switch to tree editor",modeViewText:"View",modeViewTitle:"Switch to tree view",modePreviewText:"Preview",modePreviewTitle:"Switch to preview mode",examples:"Examples","default":"Default"},es:{array:"Array",auto:"Auto",appendText:"Append",appendTitle:"Añadir un nuevo campo con el tipo ' auto  después de este campo (Ctrl + Shift + Ins)",appendSubmenuTitle:"Seleccione el tipo de campo que se agregará",appendTitleAuto:"Agregar un nuevo campo con el tipo ' auto  (Ctrl + Shift + Ins)",ascending:"ascendente",ascendingTitle:"Ordenar los hijos de este $ {type} en orden ascendente",actionsMenu:"Haga clic para abrir el menú de acciones (Ctrl + M)",collapseAll:"Contraer todos los campos",descending:"descendente",descendingTitle:"Ordena los hijos de este $ {type} en orden descendente",drag:"Arrastra para mover este campo (Alt + Mayús + Flechas)",duplicateKey:"clave duplicada",duplicateText:"Duplicar",duplicateTitle:"Duplicar campos seleccionados (Ctrl + D)",duplicateField:"Duplicar este campo (Ctrl + D)",duplicateFieldError:"Nombre de campo duplicado",cannotParseFieldError:"No se puede analizar el campo en JSON",cannotParseValueError:"No se puede analizar el valor en JSON",empty:"vacío",expandAll:"Expandir todos los campos",expandTitle:"Haga clic para expandir / contraer este campo (Ctrl + E).  n Ctrl + clic para expandir / contraer, incluidos todos los elementos secundarios",insert:"Insertar",insertTitle:"Insertar un nuevo campo con el tipo ' auto  antes de este campo (Ctrl + Ins)",insertSub:"Seleccione el tipo de campo a insertar",object:"Objeto",ok:"bien",redo:"Rehacer (Ctrl + Shift + Z)",removeText:"Eliminar",removeTitle:"Eliminar campos seleccionados (Ctrl + Supr)",removeField:"Eliminar este campo (Ctrl + Supr)",selectNode:"Seleccione un nodo ...",showAll:"mostrar todo",showMore:"mostrar más",showMoreStatus:"mostrando $ {visibleChilds} de $ {totalChilds} elementos.",sort:"Ordenar",sortTitle:"Ordenar los hijos de este $ {type}",sortTitleShort:"Ordenar contenido",sortFieldLabel:"Field:",sortDirectionLabel:"Dirección:",sortFieldTitle:"Seleccione el campo anidado por el cual ordenar la matriz u objeto",sortAscending:"Ascending",sortAscendingTitle:"Ordenar el campo seleccionado en orden ascendente",sortDescending:"Descending",sortDescendingTitle:"Ordenar el campo seleccionado en orden descendente",string:"String",transform:"Transformar",transformTitle:"Filtra, ordena o transforma los elementos secundarios de este $ {type}",transformTitleShort:"Filtrar, ordenar o transformar contenidos",extract:"Extracto",extractTitle:"Extrae este $ {type}",transformQueryTitle:"Ingrese una consulta JMESPath",transformWizardLabel:"Asistente",transformWizardFilter:"Filtro",transformWizardSortBy:"Ordenar por",transformWizardSelectFields:"Seleccionar campos",transformQueryLabel:"Query",transformPreviewLabel:"Vista previa",type:"Tipo",typeTitle:"Cambiar el tipo de este campo",openUrl:"Ctrl + Click o Ctrl + Enter para abrir url en una nueva ventana",undo:"Deshacer la última acción (Ctrl + Z)",validationCannotMove:"No se puede mover un campo a un hijo de sí mismo",autoType:'Tipo de campo "auto". El tipo de campo se determina automáticamente a partir del valor y puede ser una cadena, número, booleano o nulo.',objectType:'Tipo de campo "object". Un objeto contiene un conjunto desordenado de pares clave / valor',arrayType:'Tipo de campo". Una matriz contiene una colección ordenada de valores.',stringType:'Tipo de campo"string". El tipo de campo no se determina a partir del valor, pero siempre devuelto como cadena.',modeCodeText:"Código",modeCodeTitle:"Cambiar al resaltador de código",modeFormText:"Form",modeFormTitle:"Cambiar al editor de formularios",modeTextText:"Text",modeTextTitle:"Cambiar al editor de texto plano",modeTreeText:"Tree",modeTreeTitle:"Cambiar al editor de árbolr",modeViewText:"View",modeViewTitle:"Cambiar a vista de árbol",modePreviewText:"Preview",modePreviewTitle:"Cambiar al modo de vista previa",examples:"Ejemplos","default":"Predeterminado"}},e="es",r,o=typeof navigator!="undefined"?navigator.language||navigator.userLanguage:undefined;r=u.find(function(n){return n===o});r||(r=e);n.exports={_locales:u,_defs:f,_lang:r,setLanguage:function(n){if(n){var t=u.find(function(t){return t===n});t?r=t:console.error("Language not found")}},setLanguages:function(n){var t,i;if(n)for(t in n)i=u.find(function(n){return n===t}),i||u.push(t),f[t]=Object.assign({},f[e],f[t],n[t])},translate:function(n,t,i){i||(i=r);var u=f[i][n];if(t)for(n in t)u=u.replace("${"+n+"}",t[n]);return u||n}}},function(n,t){t.DEFAULT_MODAL_ANCHOR=document.body;t.SIZE_LARGE=10485760;t.MAX_PREVIEW_CHARACTERS=2e4;t.PREVIEW_HISTORY_LIMIT=2147483648},function(n,t,i){"use strict";function w(n,t){t=t||{};for(var i in n)t[i]=n[i];return t}function r(n,t,i){var r=i?" !== ":" === ",u=i?" || ":" && ",f=i?"!":"",e=i?"":"!";switch(n){case"null":return t+r+"null";case"array":return f+"Array.isArray("+t+")";case"object":return"("+f+t+u+"typeof "+t+r+'"object"'+u+e+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+r+'"number"'+u+e+"("+t+" % 1)"+u+t+r+t+")";default:return"typeof "+t+r+'"'+n+'"'}}function b(n,t){var u,i,e;switch(n.length){case 1:return r(n[0],t,!0);default:u="";i=f(n);i.array&&i.object&&(u=i["null"]?"(":"(!"+t+" || ",u+="typeof "+t+' !== "object")',delete i["null"],delete i.array,delete i.object);i.number&&delete i.integer;for(e in i)u+=(u?" && ":"")+r(e,t,!0);return u}}function k(n,t){var i,f,r;if(Array.isArray(t)){for(i=[],f=0;f<t.length;f++)r=t[f],u[r]?i[i.length]=r:n==="array"&&r==="array"&&(i[i.length]=r);if(i.length)return i}else{if(u[t])return[t];if(n==="array"&&t==="array")return["array"]}}function f(n){for(var i={},t=0;t<n.length;t++)i[n[t]]=!0;return i}function e(n){return typeof n=="number"?"["+n+"]":l.test(n)?"."+n:"['"+o(n)+"']"}function o(n){return n.replace(a,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function d(n,t){t+="[^0-9]";var i=n.match(new RegExp(t,"g"));return i?i.length:0}function g(n,t,i){return t+="([^0-9])",i=i.replace(/\$/g,"$$$$"),n.replace(new RegExp(t,"g"),i+"$1")}function rt(n){return n.replace(nt,"").replace(tt,"").replace(it,"if (!($1))")}function vt(n,t){var i=n.match(ut);return(i&&i.length==2&&(n=t?n.replace(et,"").replace(ht,ct):n.replace(ft,"").replace(ot,st)),i=n.match(lt),!i||i.length!==3)?n:n.replace(at,"")}function yt(n,t){if(typeof n=="boolean")return!n;for(var i in n)if(t[i])return!0}function pt(n,t,i){if(typeof n=="boolean")return!n&&i!="not";for(var r in n)if(r!=i&&t[r])return!0}function wt(n,t){if(typeof n!="boolean")for(var i in n)if(!t[i])return i}function s(n){return"'"+o(n)+"'"}function bt(n,t,i,r){var u=i?"'/' + "+t+(r?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):r?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'";return p(n,u)}function kt(n,t,i){var r=i?s("/"+h(t)):s(e(t));return p(n,r)}function dt(n,t,i){var r,f,u,o,h,l,s,a;if(n==="")return"rootData";if(n[0]=="/"){if(!v.test(n))throw new Error("Invalid JSON-pointer: "+n);f=n;u="rootData"}else{if(o=n.match(y),!o)throw new Error("Invalid JSON-pointer: "+n);if(r=+o[1],f=o[2],f=="#"){if(r>=t)throw new Error("Cannot access property/index "+r+" levels up, current level is "+t);return i[t-r]}if(r>t)throw new Error("Cannot access data "+r+" levels up, current level is "+t);if(u="data"+(t-r||""),!f)return u}for(h=u,l=f.split("/"),s=0;s<l.length;s++)a=l[s],a&&(u+=e(c(a)),h+=" && "+u);return h}function p(n,t){return n=='""'?t:(n+" + "+t).replace(/' \+ '/g,"")}function gt(n){return c(decodeURIComponent(n))}function ni(n){return encodeURIComponent(h(n))}function h(n){return n.replace(/~/g,"~0").replace(/\//g,"~1")}function c(n){return n.replace(/~1/g,"/").replace(/~0/g,"~")}var u,l,a,v,y;n.exports={copy:w,checkDataType:r,checkDataTypes:b,coerceToTypes:k,toHash:f,getProperty:e,escapeQuotes:o,equal:i(7),ucs2length:i(33),varOccurences:d,varReplace:g,cleanUpCode:rt,finalCleanUpCode:vt,schemaHasRules:yt,schemaHasRulesExcept:pt,schemaUnknownRules:wt,toQuotedString:s,getPathExpr:bt,getPath:kt,getData:dt,unescapeFragment:gt,unescapeJsonPointer:c,escapeFragment:ni,escapeJsonPointer:h};u=f(["string","number","integer","boolean","null"]);l=/^[a-z$_][a-z$_0-9]*$/i;a=/'|\\/g;var nt=/else\s*{\s*}/g,tt=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,it=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g;var ut=/[^v.]errors/g,ft=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,et=/var errors = 0;|var vErrors = null;/g,ot="return errors === 0;",st="validate.errors = null; return true;",ht=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,ct="return data;",lt=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,at=/if \(rootData === undefined\) rootData = data;/;v=/^\/(?:[^~]|~0|~1)*$/;y=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/},function(n,t,i){"use strict";function r(n,t){function c(n,t,i){i.forEach(function(i){var v,s,f,r,y,l,a,o,p,w,h;i.type=="separator"?(v=document.createElement("div"),v.className="jsoneditor-separator",f=document.createElement("li"),f.appendChild(v),n.appendChild(f)):(s={},f=document.createElement("li"),n.appendChild(f),r=document.createElement("button"),r.type="button",r.className=i.className,s.button=r,i.title&&(r.title=i.title),i.click&&(r.onclick=function(n){n.preventDefault();u.hide();i.click()}),f.appendChild(r),i.submenu?(y=document.createElement("div"),y.className="jsoneditor-icon",r.appendChild(y),l=document.createElement("div"),l.className="jsoneditor-text"+(i.click?"":" jsoneditor-right-margin"),l.appendChild(document.createTextNode(i.text)),r.appendChild(l),i.click?(r.className+=" jsoneditor-default",o=document.createElement("button"),o.type="button",s.buttonExpand=o,o.className="jsoneditor-expand",o.innerHTML='<div class="jsoneditor-expand"><\/div>',f.appendChild(o),i.submenuTitle&&(o.title=i.submenuTitle),a=o):(p=document.createElement("div"),p.className="jsoneditor-expand",r.appendChild(p),a=r),a.onclick=function(n){n.preventDefault();u._onExpandItem(s);a.focus()},w=[],s.subItems=w,h=document.createElement("ul"),s.ul=h,h.className="jsoneditor-menu",h.style.height="0",f.appendChild(h),c(h,w,i.submenu)):r.innerHTML='<div class="jsoneditor-icon"><\/div><div class="jsoneditor-text">'+e(i.text)+"<\/div>",t.push(s))})}var u,i,s,f,r,h,o;this.dom={};u=this;i=this.dom;this.anchor=undefined;this.items=n;this.eventListeners={};this.selection=undefined;this.onClose=t?t.close:undefined;s=document.createElement("div");s.className="jsoneditor-contextmenu-root";i.root=s;f=document.createElement("div");f.className="jsoneditor-contextmenu";i.menu=f;s.appendChild(f);r=document.createElement("ul");r.className="jsoneditor-menu";f.appendChild(r);i.list=r;i.items=[];h=document.createElement("button");h.type="button";i.focusButton=h;o=document.createElement("li");o.style.overflow="hidden";o.style.height="0";o.appendChild(h);r.appendChild(o);c(r,this.dom.items,n);this.maxHeight=0;n.forEach(function(t){var i=(n.length+(t.submenu?t.submenu.length:0))*24;u.maxHeight=Math.max(u.maxHeight,i)})}var f=i(25).createAbsoluteAnchor,u=i(0),e=i(1).translate;r.prototype._getVisibleButtons=function(){var n=[],t=this;return this.dom.items.forEach(function(i){n.push(i.button);i.buttonExpand&&n.push(i.buttonExpand);i.subItems&&i==t.expandedItem&&i.subItems.forEach(function(t){n.push(t.button);t.buttonExpand&&n.push(t.buttonExpand)})}),n};r.visibleMenu=undefined;r.prototype.show=function(n,t,i){var c,l;this.hide();var o=!0,a=n.parentNode,e=n.getBoundingClientRect(),v=a.getBoundingClientRect(),s=t.getBoundingClientRect(),h=this;this.dom.absoluteAnchor=f(n,t,function(){h.hide()});e.bottom+this.maxHeight<s.bottom||e.top-this.maxHeight>s.top&&(o=!1);c=i?0:e.top-v.top;o?(l=n.offsetHeight,this.dom.menu.style.left="0",this.dom.menu.style.top=c+l+"px",this.dom.menu.style.bottom=""):(this.dom.menu.style.left="0",this.dom.menu.style.top="",this.dom.menu.style.bottom="0px");this.dom.absoluteAnchor.appendChild(this.dom.root);this.selection=u.getSelection();this.anchor=n;setTimeout(function(){h.dom.focusButton.focus()},0);r.visibleMenu&&r.visibleMenu.hide();r.visibleMenu=this};r.prototype.hide=function(){this.dom.absoluteAnchor&&(this.dom.absoluteAnchor.destroy(),delete this.dom.absoluteAnchor);this.dom.root.parentNode&&(this.dom.root.parentNode.removeChild(this.dom.root),this.onClose&&this.onClose());r.visibleMenu==this&&(r.visibleMenu=undefined)};r.prototype._onExpandItem=function(n){var r=this,f=n==this.expandedItem,i=this.expandedItem,t,e;i&&(i.ul.style.height="0",i.ul.style.padding="",setTimeout(function(){r.expandedItem!=i&&(i.ul.style.display="",u.removeClassName(i.ul.parentNode,"jsoneditor-selected"))},300),this.expandedItem=undefined);f||(t=n.ul,t.style.display="block",e=t.clientHeight,setTimeout(function(){var u,i;if(r.expandedItem==n){for(u=0,i=0;i<t.childNodes.length;i++)u+=t.childNodes[i].clientHeight;t.style.height=u+"px";t.style.padding="5px 10px"}},0),u.addClassName(t.parentNode,"jsoneditor-selected"),this.expandedItem=n)};r.prototype._onKeyDown=function(n){var o=n.target,s=n.which,e=!1,t,i,f,r;s==27?(this.selection&&u.setSelection(this.selection),this.anchor&&this.anchor.focus(),this.hide(),e=!0):s==9?n.shiftKey?(t=this._getVisibleButtons(),i=t.indexOf(o),i==0&&(t[t.length-1].focus(),e=!0)):(t=this._getVisibleButtons(),i=t.indexOf(o),i==t.length-1&&(t[0].focus(),e=!0)):s==37?(o.className=="jsoneditor-expand"&&(t=this._getVisibleButtons(),i=t.indexOf(o),f=t[i-1],f&&f.focus()),e=!0):s==38?(t=this._getVisibleButtons(),i=t.indexOf(o),f=t[i-1],f&&f.className=="jsoneditor-expand"&&(f=t[i-2]),f||(f=t[t.length-1]),f&&f.focus(),e=!0):s==39?(t=this._getVisibleButtons(),i=t.indexOf(o),r=t[i+1],r&&r.className=="jsoneditor-expand"&&r.focus(),e=!0):s==40&&(t=this._getVisibleButtons(),i=t.indexOf(o),r=t[i+1],r&&r.className=="jsoneditor-expand"&&(r=t[i+2]),r||(r=t[0]),r&&(r.focus(),e=!0),e=!0);e&&(n.stopPropagation(),n.preventDefault())};n.exports=r},function(n,t){(function(n){"use strict";function o(n){return n!==null?Object.prototype.toString.call(n)==="[object Array]":!1}function d(n){return n!==null?Object.prototype.toString.call(n)==="[object Object]":!1}function g(n,t){var e,i,u,r,f;if(n===t)return!0;if(e=Object.prototype.toString.call(n),e!==Object.prototype.toString.call(t))return!1;if(o(n)===!0){if(n.length!==t.length)return!1;for(i=0;i<n.length;i++)if(g(n[i],t[i])===!1)return!1;return!0}if(d(n)===!0){u={};for(r in n)if(hasOwnProperty.call(n,r)){if(g(n[r],t[r])===!1)return!1;u[r]=!0}for(f in t)if(hasOwnProperty.call(t,f)&&u[f]!==!0)return!1;return!0}return!1}function ht(n){if(n===""||n===!1||n===null||o(n)&&n.length===0)return!0;if(d(n)){for(var t in n)if(n.hasOwnProperty(t))return!1;return!0}return!1}function ci(n){for(var i=Object.keys(n),r=[],t=0;t<i.length;t++)r.push(n[i[t]]);return r}function vi(n){return n>="a"&&n<="z"||n>="A"&&n<="Z"||n==="_"}function oi(n){return n>="0"&&n<="9"||n==="-"}function yi(n){return n>="a"&&n<="z"||n>="A"&&n<="Z"||n>="0"&&n<="9"||n==="_"}function ii(){}function ri(){}function si(n){this.runtime=n}function hi(n){this._interpreter=n;this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[u]}]},avg:{_func:this._functionAvg,_signature:[{types:[l]}]},ceil:{_func:this._functionCeil,_signature:[{types:[u]}]},contains:{_func:this._functionContains,_signature:[{types:[i,r]},{types:[c]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[i]},{types:[i]}]},floor:{_func:this._functionFloor,_signature:[{types:[u]}]},length:{_func:this._functionLength,_signature:[{types:[i,r,p]}]},map:{_func:this._functionMap,_signature:[{types:[w]},{types:[r]}]},max:{_func:this._functionMax,_signature:[{types:[l,b]}]},merge:{_func:this._functionMerge,_signature:[{types:[p],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[r]},{types:[w]}]},sum:{_func:this._functionSum,_signature:[{types:[l]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[i]},{types:[i]}]},min:{_func:this._functionMin,_signature:[{types:[l,b]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[r]},{types:[w]}]},type:{_func:this._functionType,_signature:[{types:[c]}]},keys:{_func:this._functionKeys,_signature:[{types:[p]}]},values:{_func:this._functionValues,_signature:[{types:[p]}]},sort:{_func:this._functionSort,_signature:[{types:[b,l]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[r]},{types:[w]}]},join:{_func:this._functionJoin,_signature:[{types:[i]},{types:[b]}]},reverse:{_func:this._functionReverse,_signature:[{types:[i,r]}]},to_array:{_func:this._functionToArray,_signature:[{types:[c]}]},to_string:{_func:this._functionToString,_signature:[{types:[c]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[c]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[c],variadic:!0}]}}}function pi(n){var t=new ri;return t.parse(n)}function wi(n){var t=new ii;return t.tokenize(n)}function bi(n,t){var f=new ri,i=new hi,r=new si(i),u;return i._interpreter=r,u=f.parse(t),r.search(u,n)}var ui,t;ui=typeof String.prototype.trimLeft=="function"?function(n){return n.trimLeft()}:function(n){return n.match(/^\s*(.*)/)[1]};var u=0,c=1,i=2,r=3,p=4,fi=5,w=6,bt=7,l=8,b=9,kt="EOF",nt="UnquotedIdentifier",tt="QuotedIdentifier",f="Rbracket",k="Rparen",s="Comma",a="Colon",ct="Rbrace",it="Number",e="Current",rt="Expref",ut="Pipe",dt="Or",gt="And",lt="EQ",at="GT",vt="LT",yt="GTE",pt="LTE",wt="NE",h="Flatten",v="Star",ft="Filter",et="Dot",ni="Not",ot="Lbrace",y="Lbracket",st="Lparen",ti="Literal",ei={".":et,"*":v,",":s,":":a,"{":ot,"}":ct,"]":f,"(":st,")":k,"@":e},li={"<":!0,">":!0,"=":!0,"!":!0},ai={" ":!0,"\t":!0,"\n":!0};ii.prototype={tokenize:function(n){var i=[],t,r,u,e,f;for(this._current=0;this._current<n.length;)if(vi(n[this._current]))t=this._current,r=this._consumeUnquotedIdentifier(n),i.push({type:nt,value:r,start:t});else if(ei[n[this._current]]!==undefined)i.push({type:ei[n[this._current]],value:n[this._current],start:this._current}),this._current++;else if(oi(n[this._current]))u=this._consumeNumber(n),i.push(u);else if(n[this._current]==="[")u=this._consumeLBracket(n),i.push(u);else if(n[this._current]==='"')t=this._current,r=this._consumeQuotedIdentifier(n),i.push({type:tt,value:r,start:t});else if(n[this._current]==="'")t=this._current,r=this._consumeRawStringLiteral(n),i.push({type:ti,value:r,start:t});else if(n[this._current]==="`")t=this._current,e=this._consumeLiteral(n),i.push({type:ti,value:e,start:t});else if(li[n[this._current]]!==undefined)i.push(this._consumeOperator(n));else if(ai[n[this._current]]!==undefined)this._current++;else if(n[this._current]==="&")t=this._current,this._current++,n[this._current]==="&"?(this._current++,i.push({type:gt,value:"&&",start:t})):i.push({type:rt,value:"&",start:t});else if(n[this._current]==="|")t=this._current,this._current++,n[this._current]==="|"?(this._current++,i.push({type:dt,value:"||",start:t})):i.push({type:ut,value:"|",start:t});else{f=new Error("Unknown character:"+n[this._current]);f.name="LexerError";throw f;}return i},_consumeUnquotedIdentifier:function(n){var t=this._current;for(this._current++;this._current<n.length&&yi(n[this._current]);)this._current++;return n.slice(t,this._current)},_consumeQuotedIdentifier:function(n){var r=this._current,i,t;for(this._current++,i=n.length;n[this._current]!=='"'&&this._current<i;)t=this._current,n[t]==="\\"&&(n[t+1]==="\\"||n[t+1]==='"')?t+=2:t++,this._current=t;return this._current++,JSON.parse(n.slice(r,this._current))},_consumeRawStringLiteral:function(n){var u=this._current,i,t,r;for(this._current++,i=n.length;n[this._current]!=="'"&&this._current<i;)t=this._current,n[t]==="\\"&&(n[t+1]==="\\"||n[t+1]==="'")?t+=2:t++,this._current=t;return this._current++,r=n.slice(u+1,this._current-1),r.replace("\\'","'")},_consumeNumber:function(n){var t=this._current,i,r;for(this._current++,i=n.length;oi(n[this._current])&&this._current<i;)this._current++;return r=parseInt(n.slice(t,this._current)),{type:it,value:r,start:t}},_consumeLBracket:function(n){var t=this._current;return this._current++,n[this._current]==="?"?(this._current++,{type:ft,value:"[?",start:t}):n[this._current]==="]"?(this._current++,{type:h,value:"[]",start:t}):{type:y,value:"[",start:t}},_consumeOperator:function(n){var t=this._current,i=n[t];return(this._current++,i==="!")?n[this._current]==="="?(this._current++,{type:wt,value:"!=",start:t}):{type:ni,value:"!",start:t}:i==="<"?n[this._current]==="="?(this._current++,{type:pt,value:"<=",start:t}):{type:vt,value:"<",start:t}:i===">"?n[this._current]==="="?(this._current++,{type:yt,value:">=",start:t}):{type:at,value:">",start:t}:i==="="&&n[this._current]==="="?(this._current++,{type:lt,value:"==",start:t}):void 0},_consumeLiteral:function(n){var r,u,f,t,i;for(this._current++,r=this._current,u=n.length;n[this._current]!=="`"&&this._current<u;)t=this._current,n[t]==="\\"&&(n[t+1]==="\\"||n[t+1]==="`")?t+=2:t++,this._current=t;return i=ui(n.slice(r,this._current)),i=i.replace("\\`","`"),f=this._looksLikeJSON(i)?JSON.parse(i):JSON.parse('"'+i+'"'),this._current++,f},_looksLikeJSON:function(n){if(n==="")return!1;if('[{"'.indexOf(n[0])>=0||["true","false","null"].indexOf(n)>=0)return!0;if("-0123456789".indexOf(n[0])>=0)try{return JSON.parse(n),!0}catch(t){return!1}else return!1}};t={};t[kt]=0;t[nt]=0;t[tt]=0;t[f]=0;t[k]=0;t[s]=0;t[ct]=0;t[it]=0;t[e]=0;t[rt]=0;t[ut]=1;t[dt]=2;t[gt]=3;t[lt]=5;t[at]=5;t[vt]=5;t[yt]=5;t[pt]=5;t[wt]=5;t[h]=9;t[v]=20;t[ft]=21;t[et]=40;t[ni]=45;t[ot]=50;t[y]=55;t[st]=60;ri.prototype={parse:function(n){var r,t,i;if(this._loadTokens(n),this.index=0,r=this.expression(0),this._lookahead(0)!==kt){t=this._lookaheadToken(0);i=new Error("Unexpected token type: "+t.type+", value: "+t.value);i.name="ParserError";throw i;}return r},_loadTokens:function(n){var i=new ii,t=i.tokenize(n);t.push({type:kt,value:"",start:n.length});this.tokens=t},expression:function(n){var u=this._lookaheadToken(0),i,r;for(this._advance(),i=this.nud(u),r=this._lookahead(0);n<t[r];)this._advance(),i=this.led(r,i),r=this._lookahead(0);return i},_lookahead:function(n){return this.tokens[this.index+n].type},_lookaheadToken:function(n){return this.tokens[this.index+n]},_advance:function(){this.index++},nud:function(n){var u,i,r,s,o;switch(n.type){case ti:return{type:"Literal",value:n.value};case nt:return{type:"Field",name:n.value};case tt:if(s={type:"Field",name:n.value},this._lookahead(0)===st)throw new Error("Quoted identifier not allowed for function names.");else return s;break;case ni:return i=this.expression(t.Not),{type:"NotExpression",children:[i]};case v:return u={type:"Identity"},i=null,i=this._lookahead(0)===f?{type:"Identity"}:this._parseProjectionRHS(t.Star),{type:"ValueProjection",children:[u,i]};case ft:return this.led(n.type,{type:"Identity"});case ot:return this._parseMultiselectHash();case h:return u={type:h,children:[{type:"Identity"}]},i=this._parseProjectionRHS(t.Flatten),{type:"Projection",children:[u,i]};case y:return this._lookahead(0)===it||this._lookahead(0)===a?(i=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},i)):this._lookahead(0)===v&&this._lookahead(1)===f?(this._advance(),this._advance(),i=this._parseProjectionRHS(t.Star),{type:"Projection",children:[{type:"Identity"},i]}):this._parseMultiselectList();case e:return{type:e};case rt:return r=this.expression(t.Expref),{type:"ExpressionReference",children:[r]};case st:for(o=[];this._lookahead(0)!==k;)this._lookahead(0)===e?(r={type:e},this._advance()):r=this.expression(0),o.push(r);return this._match(k),o[0];default:this._errorToken(n)}},led:function(n,i){var r,u,p,o,c,w,b,d,l;switch(n){case et:return u=t.Dot,this._lookahead(0)!==v?(r=this._parseDotRHS(u),{type:"Subexpression",children:[i,r]}):(this._advance(),r=this._parseProjectionRHS(u),{type:"ValueProjection",children:[i,r]});case ut:return r=this.expression(t.Pipe),{type:ut,children:[i,r]};case dt:return r=this.expression(t.Or),{type:"OrExpression",children:[i,r]};case gt:return r=this.expression(t.And),{type:"AndExpression",children:[i,r]};case st:for(p=i.name,o=[];this._lookahead(0)!==k;)this._lookahead(0)===e?(c={type:e},this._advance()):c=this.expression(0),this._lookahead(0)===s&&this._match(s),o.push(c);return this._match(k),{type:"Function",name:p,children:o};case ft:return w=this.expression(0),this._match(f),r=this._lookahead(0)===h?{type:"Identity"}:this._parseProjectionRHS(t.Filter),{type:"FilterProjection",children:[i,r,w]};case h:return b={type:h,children:[i]},d=this._parseProjectionRHS(t.Flatten),{type:"Projection",children:[b,d]};case lt:case wt:case at:case yt:case vt:case pt:return this._parseComparator(i,n);case y:return l=this._lookaheadToken(0),l.type===it||l.type===a?(r=this._parseIndexExpression(),this._projectIfSlice(i,r)):(this._match(v),this._match(f),r=this._parseProjectionRHS(t.Star),{type:"Projection",children:[i,r]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(n){if(this._lookahead(0)===n)this._advance();else{var i=this._lookaheadToken(0),t=new Error("Expected "+n+", got: "+i.type);t.name="ParserError";throw t;}},_errorToken:function(n){var t=new Error("Invalid token ("+n.type+'): "'+n.value+'"');t.name="ParserError";throw t;},_parseIndexExpression:function(){if(this._lookahead(0)===a||this._lookahead(1)===a)return this._parseSliceExpression();var n={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match(f),n},_projectIfSlice:function(n,i){var r={type:"IndexExpression",children:[n,i]};return i.type==="Slice"?{type:"Projection",children:[r,this._parseProjectionRHS(t.Star)]}:r},_parseSliceExpression:function(){for(var u=[null,null,null],t=0,n=this._lookahead(0),i,r;n!==f&&t<3;){if(n===a)t++,this._advance();else if(n===it)u[t]=this._lookaheadToken(0).value,this._advance();else{i=this._lookahead(0);r=new Error("Syntax error, unexpected token: "+i.value+"("+i.type+")");r.name="Parsererror";throw r;}n=this._lookahead(0)}return this._match(f),{type:"Slice",children:u}},_parseComparator:function(n,i){var r=this.expression(t[i]);return{type:"Comparator",name:i,children:[n,r]}},_parseDotRHS:function(n){var t=this._lookahead(0),i=[nt,tt,v];return i.indexOf(t)>=0?this.expression(n):t===y?(this._match(y),this._parseMultiselectList()):t===ot?(this._match(ot),this._parseMultiselectHash()):void 0},_parseProjectionRHS:function(n){var i,r,u;if(t[this._lookahead(0)]<10)i={type:"Identity"};else if(this._lookahead(0)===y)i=this.expression(n);else if(this._lookahead(0)===ft)i=this.expression(n);else if(this._lookahead(0)===et)this._match(et),i=this._parseDotRHS(n);else{r=this._lookaheadToken(0);u=new Error("Sytanx error, unexpected token: "+r.value+"("+r.type+")");u.name="ParserError";throw u;}return i},_parseMultiselectList:function(){for(var n=[],t;this._lookahead(0)!==f;)if(t=this.expression(0),n.push(t),this._lookahead(0)===s&&(this._match(s),this._lookahead(0)===f))throw new Error("Unexpected token Rbracket");return this._match(f),{type:"MultiSelectList",children:n}},_parseMultiselectHash:function(){for(var t=[],f=[nt,tt],n,i,r,u;;){if(n=this._lookaheadToken(0),f.indexOf(n.type)<0)throw new Error("Expecting an identifier token, got: "+n.type);if(i=n.value,this._advance(),this._match(a),r=this.expression(0),u={type:"KeyValuePair",name:i,value:r},t.push(u),this._lookahead(0)===s)this._match(s);else if(this._lookahead(0)===ct){this._match(ct);break}}return{type:"MultiSelectHash",children:t}}};si.prototype={search:function(n,t){return this.visit(n,t)},visit:function(n,t){var a,u,r,f,l,nt,p,s,i,v,c,ft,w,et,b,k,y,ot,st,ct;switch(n.type){case"Field":return t===null?null:d(t)?(nt=t[n.name],nt===undefined?null:nt):null;case"Subexpression":for(r=this.visit(n.children[0],t),i=1;i<n.children.length;i++)if(r=this.visit(n.children[1],r),r===null)return null;return r;case"IndexExpression":return p=this.visit(n.children[0],t),this.visit(n.children[1],p);case"Index":return o(t)?(v=n.value,v<0&&(v=t.length+v),r=t[v],r===undefined&&(r=null),r):null;case"Slice":if(!o(t))return null;var dt=n.children.slice(0),tt=this.computeSliceParams(t.length,dt),bt=tt[0],kt=tt[1],it=tt[2];if(r=[],it>0)for(i=bt;i<kt;i+=it)r.push(t[i]);else for(i=bt;i>kt;i+=it)r.push(t[i]);return r;case"Projection":if(c=this.visit(n.children[0],t),!o(c))return null;for(s=[],i=0;i<c.length;i++)u=this.visit(n.children[1],c[i]),u!==null&&s.push(u);return s;case"ValueProjection":if(c=this.visit(n.children[0],t),!d(c))return null;for(s=[],ft=ci(c),i=0;i<ft.length;i++)u=this.visit(n.children[1],ft[i]),u!==null&&s.push(u);return s;case"FilterProjection":if(c=this.visit(n.children[0],t),!o(c))return null;for(w=[],et=[],i=0;i<c.length;i++)a=this.visit(n.children[2],c[i]),ht(a)||w.push(c[i]);for(b=0;b<w.length;b++)u=this.visit(n.children[1],w[b]),u!==null&&et.push(u);return et;case"Comparator":f=this.visit(n.children[0],t);l=this.visit(n.children[1],t);switch(n.name){case lt:r=g(f,l);break;case wt:r=!g(f,l);break;case at:r=f>l;break;case yt:r=f>=l;break;case vt:r=f<l;break;case pt:r=f<=l;break;default:throw new Error("Unknown comparator: "+n.name);}return r;case h:if(k=this.visit(n.children[0],t),!o(k))return null;for(y=[],i=0;i<k.length;i++)u=k[i],o(u)?y.push.apply(y,u):y.push(u);return y;case"Identity":return t;case"MultiSelectList":if(t===null)return null;for(s=[],i=0;i<n.children.length;i++)s.push(this.visit(n.children[i],t));return s;case"MultiSelectHash":if(t===null)return null;for(s={},i=0;i<n.children.length;i++)ot=n.children[i],s[ot.name]=this.visit(ot.value,t);return s;case"OrExpression":return a=this.visit(n.children[0],t),ht(a)&&(a=this.visit(n.children[1],t)),a;case"AndExpression":return(f=this.visit(n.children[0],t),ht(f)===!0)?f:this.visit(n.children[1],t);case"NotExpression":return f=this.visit(n.children[0],t),ht(f);case"Literal":return n.value;case ut:return p=this.visit(n.children[0],t),this.visit(n.children[1],p);case e:return t;case"Function":for(st=[],i=0;i<n.children.length;i++)st.push(this.visit(n.children[i],t));return this.runtime.callFunction(n.name,st);case"ExpressionReference":return ct=n.children[0],ct.jmespathType=rt,ct;default:throw new Error("Unknown node type: "+n.type);}},computeSliceParams:function(n,t){var r=t[0],u=t[1],i=t[2],f=[null,null,null],e,o;if(i===null)i=1;else if(i===0){e=new Error("Invalid slice, step cannot be 0");e.name="RuntimeError";throw e;}return o=i<0?!0:!1,r=r===null?o?n-1:0:this.capSliceRange(n,r,i),u=u===null?o?-1:n:this.capSliceRange(n,u,i),f[0]=r,f[1]=u,f[2]=i,f},capSliceRange:function(n,t,i){return t<0?(t+=n,t<0&&(t=i<0?-1:0)):t>=n&&(t=i<0?n-1:n),t}};hi.prototype={callFunction:function(n,t){var i=this.functionTable[n];if(i===undefined)throw new Error("Unknown function: "+n+"()");return this._validateArgs(n,t,i._signature),i._func.call(this,t)},_validateArgs:function(n,t,i){var u,f,o,s,r,e;if(i[i.length-1].variadic){if(t.length<i.length){u=i.length===1?" argument":" arguments";throw new Error("ArgumentError: "+n+"() takes at least"+i.length+u+" but received "+t.length);}}else if(t.length!==i.length){u=i.length===1?" argument":" arguments";throw new Error("ArgumentError: "+n+"() takes "+i.length+u+" but received "+t.length);}for(r=0;r<i.length;r++){for(s=!1,f=i[r].types,o=this._getTypeName(t[r]),e=0;e<f.length;e++)if(this._typeMatches(o,f[e],t[r])){s=!0;break}if(!s)throw new Error("TypeError: "+n+"() expected argument "+(r+1)+" to be type "+f+" but received type "+o+" instead.");}},_typeMatches:function(n,t,f){var o,e;if(t===c)return!0;if(t===b||t===l||t===r){if(t===r)return n===r;if(n===r){for(t===l?o=u:t===b&&(o=i),e=0;e<f.length;e++)if(!this._typeMatches(this._getTypeName(f[e]),o,f[e]))return!1;return!0}}else return n===t},_getTypeName:function(n){switch(Object.prototype.toString.call(n)){case"[object String]":return i;case"[object Number]":return u;case"[object Array]":return r;case"[object Boolean]":return fi;case"[object Null]":return bt;case"[object Object]":return n.jmespathType===rt?w:p}},_functionStartsWith:function(n){return n[0].lastIndexOf(n[1])===0},_functionEndsWith:function(n){var t=n[0],i=n[1];return t.indexOf(i,t.length-i.length)!==-1},_functionReverse:function(n){var e=this._getTypeName(n[0]),r,u,t,f;if(e===i){for(r=n[0],u="",t=r.length-1;t>=0;t--)u+=r[t];return u}return f=n[0].slice(0),f.reverse(),f},_functionAbs:function(n){return Math.abs(n[0])},_functionCeil:function(n){return Math.ceil(n[0])},_functionAvg:function(n){for(var r=0,t=n[0],i=0;i<t.length;i++)r+=t[i];return r/t.length},_functionContains:function(n){return n[0].indexOf(n[1])>=0},_functionFloor:function(n){return Math.floor(n[0])},_functionLength:function(n){return d(n[0])?Object.keys(n[0]).length:n[0].length},_functionMap:function(n){for(var i=[],u=this._interpreter,f=n[0],r=n[1],t=0;t<r.length;t++)i.push(u.visit(f,r[t]));return i},_functionMerge:function(n){for(var i,r,u={},t=0;t<n.length;t++){i=n[t];for(r in i)u[r]=i[r]}return u},_functionMax:function(n){var f,t,r,i;if(n[0].length>0){if(f=this._getTypeName(n[0][0]),f===u)return Math.max.apply(Math,n[0]);for(t=n[0],r=t[0],i=1;i<t.length;i++)r.localeCompare(t[i])<0&&(r=t[i]);return r}return null},_functionMin:function(n){var f,t,r,i;if(n[0].length>0){if(f=this._getTypeName(n[0][0]),f===u)return Math.min.apply(Math,n[0]);for(t=n[0],r=t[0],i=1;i<t.length;i++)t[i].localeCompare(r)<0&&(r=t[i]);return r}return null},_functionSum:function(n){for(var i=0,r=n[0],t=0;t<r.length;t++)i+=r[t];return i},_functionType:function(n){switch(this._getTypeName(n[0])){case u:return"number";case i:return"string";case r:return"array";case p:return"object";case fi:return"boolean";case w:return"expref";case bt:return"null"}},_functionKeys:function(n){return Object.keys(n[0])},_functionValues:function(n){for(var i=n[0],r=Object.keys(i),u=[],t=0;t<r.length;t++)u.push(i[r[t]]);return u},_functionJoin:function(n){var t=n[0],i=n[1];return i.join(t)},_functionToArray:function(n){return this._getTypeName(n[0])===r?n[0]:[n[0]]},_functionToString:function(n){return this._getTypeName(n[0])===i?n[0]:JSON.stringify(n[0])},_functionToNumber:function(n){var r=this._getTypeName(n[0]),t;return r===u?n[0]:r===i&&(t=+n[0],!isNaN(t))?t:null},_functionNotNull:function(n){for(var t=0;t<n.length;t++)if(this._getTypeName(n[t])!==bt)return n[t];return null},_functionSort:function(n){var t=n[0].slice(0);return t.sort(),t},_functionSortBy:function(n){var t=n[0].slice(0),f,e,o,s;if(t.length===0)return t;var h=this._interpreter,c=n[1],r=this._getTypeName(h.visit(c,t[0]));if([u,i].indexOf(r)<0)throw new Error("TypeError");for(f=this,e=[],o=0;o<t.length;o++)e.push([o,t[o]]);for(e.sort(function(n,t){var i=h.visit(c,n[1]),u=h.visit(c,t[1]);if(f._getTypeName(i)!==r)throw new Error("TypeError: expected "+r+", received "+f._getTypeName(i));else if(f._getTypeName(u)!==r)throw new Error("TypeError: expected "+r+", received "+f._getTypeName(u));return i>u?1:i<u?-1:n[0]-t[0]}),s=0;s<e.length;s++)t[s]=e[s][1];return t},_functionMaxBy:function(n){for(var s=n[1],r=n[0],h=this.createKeyFunction(s,[u,i]),e=-Infinity,o,f,t=0;t<r.length;t++)f=h(r[t]),f>e&&(e=f,o=r[t]);return o},_functionMinBy:function(n){for(var s=n[1],r=n[0],h=this.createKeyFunction(s,[u,i]),e=Infinity,o,f,t=0;t<r.length;t++)f=h(r[t]),f<e&&(e=f,o=r[t]);return o},createKeyFunction:function(n,t){var i=this,r=this._interpreter;return function(u){var f=r.visit(n,u),e;if(t.indexOf(i._getTypeName(f))<0){e="TypeError: expected one of "+t+", received "+i._getTypeName(f);throw new Error(e);}return f}}};n.tokenize=wi;n.compile=pi;n.search=bi;n.strictDeepEqual=g})(t)},function(n,t,i){"use strict";function u(n,t,i){var u=this,c=!0,r,h,f,y,p;n:while(c){var a=n,e=t,v=i;if(c=!1,r=u._refs[v],typeof r=="string")if(u._refs[r])r=u._refs[r];else{n=a;t=e;i=r;c=!0;r=undefined;continue n}return(r=r||u._schemas[v],r instanceof o)?l(r.schema,u._opts.inlineRefs)?r.schema:r.validate||u._compile(r):(h=s.call(u,e,v),h&&(f=h.schema,e=h.root,p=h.baseId),f instanceof o?y=f.validate||a.call(u,f.schema,e,undefined,p):f!==undefined&&(y=l(f,u._opts.inlineRefs)?f:a.call(u,f,e,undefined,p)),y)}}function s(n,t){var s=f.parse(t),c=k(s),u=h(this._getId(n.schema)),e,i;if(Object.keys(n.schema).length===0||c!==u){if(e=r(c),i=this._refs[e],typeof i=="string")return nt.call(this,n,i,s);if(i instanceof o)i.validate||this._compile(i),n=i;else if(i=this._schemas[e],i instanceof o){if(i.validate||this._compile(i),e==r(t))return{schema:i,root:n,baseId:u};n=i}else return;if(!n.schema)return;u=h(this._getId(n.schema))}return w.call(this,s,u,n.schema,n)}function nt(n,t,i){var r=s.call(this,n,t),f,u,e;if(r)return f=r.schema,u=r.baseId,n=r.root,e=this._getId(f),e&&(u=c(u,e)),w.call(this,i,u,f,n)}function w(n,t,i,r){var h,o,u,l,a,f;if(n.fragment=n.fragment||"",n.fragment.slice(0,1)=="/"){for(h=n.fragment.split("/"),o=1;o<h.length;o++)if(u=h[o],u){if(u=e.unescapeFragment(u),i=i[u],i===undefined)break;p[u]||(l=this._getId(i),l&&(t=c(t,l)),i.$ref&&(a=c(t,i.$ref),f=s.call(this,r,a),f&&(i=f.schema,r=f.root,t=f.baseId)))}if(i!==undefined&&i!==r.schema)return{schema:i,root:r,baseId:t}}}function l(n,t){return t===!1?!1:t===undefined||t===!0?a(n):t?v(n)<=t:void 0}function a(n){var t,i,r;if(Array.isArray(n)){for(i=0;i<n.length;i++)if(t=n[i],typeof t=="object"&&!a(t))return!1}else for(r in n)if(r=="$ref"||(t=n[r],typeof t=="object"&&!a(t)))return!1;return!0}function v(n){var t=0,i,r,u;if(Array.isArray(n)){for(r=0;r<n.length;r++)if(i=n[r],typeof i=="object"&&(t+=v(i)),t==Infinity)return Infinity}else for(u in n){if(u=="$ref")return Infinity;if(b[u])t++;else if(i=n[u],typeof i=="object"&&(t+=v(i)+1),t==Infinity)return Infinity}return t}function h(n,t){t!==!1&&(n=r(n));var i=f.parse(n);return k(i)}function k(n){return f.serialize(n).split("#")[0]+"#"}function r(n){return n?n.replace(d,""):""}function c(n,t){return t=r(t),f.resolve(n,t)}function tt(n){var u=r(this._getId(n)),o={"":u},s={"":h(u,!1)},t={},i=this;return g(n,{allKeys:!0},function(n,u,h,c,l,a,v){var w;if(u!==""){var p=i._getId(n),b=o[c],k=s[c]+"/"+l;if(v!==undefined&&(k+="/"+(typeof v=="number"?v:e.escapeFragment(v))),typeof p=="string")if(p=b=r(b?f.resolve(b,p):p),w=i._refs[p],typeof w=="string"&&(w=i._refs[w]),w&&w.schema){if(!y(n,w.schema))throw new Error('id "'+p+'" resolves to more than one schema');}else if(p!=r(k))if(p[0]=="#"){if(t[p]&&!y(n,t[p]))throw new Error('id "'+p+'" resolves to more than one schema');t[p]=n}else i._refs[p]=k;o[u]=b;s[u]=k}}),t}var f=i(32),y=i(7),e=i(3),o=i(12),g=i(34),p,b,d;n.exports=u;u.normalizeId=r;u.fullPath=h;u.url=c;u.ids=tt;u.inlineRef=l;u.schema=s;p=e.toHash(["properties","patternProperties","enum","dependencies","definitions"]);b=e.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);d=/#\/?$/},function(n){"use strict";var t=Array.isArray,i=Object.keys,u=Object.prototype.hasOwnProperty;n.exports=function r(n,f){var h,c,e,o,l,a,v,y,p,s;if(n===f)return!0;if(n&&f&&typeof n=="object"&&typeof f=="object"){if(h=t(n),c=t(f),h&&c){if(o=n.length,o!=f.length)return!1;for(e=o;e--!=0;)if(!r(n[e],f[e]))return!1;return!0}if(h!=c||(a=n instanceof Date,v=f instanceof Date,a!=v))return!1;if(a&&v)return n.getTime()==f.getTime();if(y=n instanceof RegExp,p=f instanceof RegExp,y!=p)return!1;if(y&&p)return n.toString()==f.toString();if(s=i(n),o=s.length,o!==i(f).length)return!1;for(e=o;e--!=0;)if(!u.call(f,s[e]))return!1;for(e=o;e--!=0;)if(l=s[e],!r(n[l],f[l]))return!1;return!0}return n!==n&&f!==f}},function(n,t,i){"use strict";function e(n){this.message="validation failed";this.errors=n;this.ajv=this.validation=!0}function u(n,t,i){this.message=i||u.message(n,t);this.missingRef=r.url(n,t);this.missingSchema=r.normalizeId(r.fullPath(this.missingRef))}function f(n){return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var r=i(6);n.exports={Validation:f(e),MissingRef:f(u)};u.message=function(n,t){return"can't resolve reference "+t+" from id "+n}},function(n,t,i){function e(n,t,i,e){var o=Array.isArray(t)?u.getChildPaths(t):[""],s=e&&e.path&&u.contains(o,e.path)?e.path:o[0],h=e&&e.direction||"asc",c='<div class="pico-modal-contents"><div class="pico-modal-header">'+r("sort")+"<\/div><form><table><tbody><tr>  <td>"+r("sortFieldLabel")+' <\/td>  <td class="jsoneditor-modal-input">  <div class="jsoneditor-select-wrapper">    <select id="field" title="'+r("sortFieldTitle")+'">    <\/select>  <\/div>  <\/td><\/tr><tr>  <td>'+r("sortDirectionLabel")+' <\/td>  <td class="jsoneditor-modal-input">  <div id="direction" class="jsoneditor-button-group"><input type="button" value="'+r("sortAscending")+'" title="'+r("sortAscendingTitle")+'" data-value="asc" class="jsoneditor-button-first jsoneditor-button-asc"/><input type="button" value="'+r("sortDescending")+'" title="'+r("sortDescendingTitle")+'" data-value="desc" class="jsoneditor-button-last jsoneditor-button-desc"/>  <\/div>  <\/td><\/tr><tr><td colspan="2" class="jsoneditor-modal-input jsoneditor-modal-actions">  <input type="submit" id="ok" value="'+r("ok")+'" /><\/td><\/tr><\/tbody><\/table><\/form><\/div>';f({parent:n,content:c,overlayClass:"jsoneditor-modal-overlay",modalClass:"jsoneditor-modal jsoneditor-modal-sort"}).afterCreate(function(n){function c(n){return n===""?"@":n[0]==="."?n.slice(1):n}function e(n){t.value=n;t.className="jsoneditor-button-group jsoneditor-button-group-value-"+t.value}var u=n.modalElem().querySelector("form"),f=n.modalElem().querySelector("#ok"),r=n.modalElem().querySelector("#field"),t=n.modalElem().querySelector("#direction");o.forEach(function(n){var t=document.createElement("option");t.text=c(n);t.value=n;r.appendChild(t)});r.value=s||o[0];e(h||"asc");t.onclick=function(n){e(n.target.getAttribute("data-value"))};f.onclick=function(u){u.preventDefault();u.stopPropagation();n.close();i({path:r.value,direction:t.value})};u&&(u.onsubmit=f.onclick)}).afterClose(function(n){n.destroy()}).show()}var f=i(26),r=i(1).translate,u=i(0);n.exports=e},function(n,t,i){function l(n,t,i){var l=t,a='<label class="pico-modal-contents"><div class="pico-modal-header">'+r("transform")+'<\/div><p>Enter a <a href="http://jmespath.org" target="_blank">JMESPath<\/a> query to filter, sort, or transform the JSON data.<br/>To learn JMESPath, go to <a href="http://jmespath.org/tutorial.html" target="_blank">the interactive tutorial<\/a>.<\/p><div class="jsoneditor-jmespath-label">'+r("transformWizardLabel")+' <\/div><div id="wizard" class="jsoneditor-jmespath-block jsoneditor-jmespath-wizard">  <table class="jsoneditor-jmespath-wizard-table">    <tbody>      <tr>        <th>'+r("transformWizardFilter")+'<\/th>        <td class="jsoneditor-jmespath-filter">          <div class="jsoneditor-inline jsoneditor-jmespath-filter-field" >            <select id="filterField">            <\/select>          <\/div>          <div class="jsoneditor-inline jsoneditor-jmespath-filter-relation" >            <select id="filterRelation">              <option value="==">==<\/option>              <option value="!=">!=<\/option>              <option value="<">&lt;<\/option>              <option value="<=">&lt;=<\/option>              <option value=">">&gt;<\/option>              <option value=">=">&gt;=<\/option>            <\/select>          <\/div>          <div class="jsoneditor-inline jsoneditor-jmespath-filter-value" >            <input placeholder="value..." id="filterValue" />          <\/div>        <\/td>      <\/tr>      <tr>        <th>'+r("transformWizardSortBy")+'<\/th>        <td class="jsoneditor-jmespath-filter">          <div class="jsoneditor-inline jsoneditor-jmespath-sort-field">            <select id="sortField">            <\/select>          <\/div>          <div class="jsoneditor-inline jsoneditor-jmespath-sort-order" >            <select id="sortOrder">              <option value="asc">Ascending<\/option>              <option value="desc">Descending<\/option>            <\/select>          <\/div>        <\/td>      <\/tr>      <tr id="selectFieldsPart">        <th>'+r("transformWizardSelectFields")+'<\/th>        <td class="jsoneditor-jmespath-filter">          <select class="jsoneditor-jmespath-select-fields" id="selectFields" multiple><\/select>        <\/td>      <\/tr>    <\/tbody>  <\/table><\/div><div class="jsoneditor-jmespath-label">'+r("transformQueryLabel")+' <\/div><div class="jsoneditor-jmespath-block">  <textarea id="query"             rows="4"             autocomplete="off"             autocorrect="off"             autocapitalize="off"             spellcheck="false"            title="'+r("transformQueryTitle")+'">[*]<\/textarea><\/div><div class="jsoneditor-jmespath-label">'+r("transformPreviewLabel")+' <\/div><div class="jsoneditor-jmespath-block">  <textarea id="preview"       class="jsoneditor-transform-preview"      readonly> <\/textarea><\/div><div class="jsoneditor-jmespath-block jsoneditor-modal-actions">  <input type="submit" id="ok" value="'+r("ok")+'" autofocus /><\/div><\/div>';o({parent:n,content:a,overlayClass:"jsoneditor-modal-overlay",modalClass:"jsoneditor-modal jsoneditor-modal-transform",focus:!1}).afterCreate(function(n){function ft(n){return n===""?"@":n[0]==="."?n.slice(1):n}function v(){var f,n,t,e;if(y.value&&g.value&&p.value){var i=y.value,o=i!=="@"?["0"].concat(u.parsePath("."+i)):["0"],s=u.get(l,o),h=typeof s=="string"?p.value:u.parseString(p.value);r.value="[? "+i+" "+g.value+" `"+JSON.stringify(h)+"`]"}else r.value="[*]";if(w.value&&nt.value&&(f=w.value,r.value+=nt.value==="desc"?" | reverse(sort_by(@, &"+f+"))":" | sort_by(@, &"+f+")"),a.value){for(n=[],t=0;t<a.options.length;t++)a.options[t].selected&&(e=a.options[t].value,n.push(e));r.value[r.value.length-1]!=="]"&&(r.value+=" | [*]");n.length===1?r.value+="."+n[0]:n.length>1&&(r.value+=".{"+n.map(function(n){var t=n.split("."),i=t[t.length-1];return i+": "+n}).join(", ")+"}")}k()}function lt(){try{var n=e.search(l,r.value);b.className="jsoneditor-transform-preview";b.value=s(n,2,h);d.disabled=!1}catch(t){b.className="jsoneditor-transform-preview jsoneditor-error";b.value=t.toString();d.disabled=!0}}var o=n.modalElem(),rt=o.querySelector("#wizard"),d=o.querySelector("#ok"),y=o.querySelector("#filterField"),g=o.querySelector("#filterRelation"),p=o.querySelector("#filterValue"),w=o.querySelector("#sortField"),nt=o.querySelector("#sortOrder"),a=o.querySelector("#selectFields"),r=o.querySelector("#query"),b=o.querySelector("#preview"),ut,tt,it,k;Array.isArray(l)||(rt.style.fontStyle="italic",rt.innerHTML="(wizard not available for objects, only for arrays)");ut=u.getChildPaths(t);ut.forEach(function(n){var t=ft(n),r=document.createElement("option"),i;r.text=t;r.value=t;y.appendChild(r);i=document.createElement("option");i.text=t;i.value=t;w.appendChild(i)});tt=u.getChildPaths(t,!0).filter(function(n){return n!==""});tt.length>0?tt.forEach(function(n){var i=ft(n),t=document.createElement("option");t.text=i;t.value=i;a.appendChild(t)}):(it=o.querySelector("#selectFieldsPart"),it&&(it.style.display="none"));var et=new f(y,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"field..."}),ot=new f(g,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"compare..."}),st=new f(w,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"field..."}),ht=new f(nt,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"order..."}),ct=new f(a,{multiple:!0,clearable:!0,defaultSelected:!1,placeholder:"select fields..."});et.on("selectr.change",v);ot.on("selectr.change",v);p.oninput=v;st.on("selectr.change",v);ht.on("selectr.change",v);ct.on("selectr.change",v);o.querySelector(".pico-modal-contents").onclick=function(n){n.target.nodeName!=="A"&&n.preventDefault()};r.value=Array.isArray(l)?"[*]":"@";k=c(lt,300);r.oninput=k;k();d.onclick=function(t){t.preventDefault();t.stopPropagation();n.close();i(r.value)};setTimeout(function(){r.select();r.focus();r.selectionStart=3;r.selectionEnd=3})}).afterClose(function(n){n.destroy()}).show()}var e=i(5),o=i(26),f=i(79),r=i(1).translate,s=i(80).stringifyPartial,u=i(0),h=i(2).MAX_PREVIEW_CHARACTERS,c=u.debounce;n.exports=l},function(n,t,i){"use strict";function u(n,t,i,u){for(var s,h,l,y,e,o,a={code:{text:r("modeCodeText"),title:r("modeCodeTitle"),click:function(){u("code")}},form:{text:r("modeFormText"),title:r("modeFormTitle"),click:function(){u("form")}},text:{text:r("modeTextText"),title:r("modeTextTitle"),click:function(){u("text")}},tree:{text:r("modeTreeText"),title:r("modeTreeTitle"),click:function(){u("tree")}},view:{text:r("modeViewText"),title:r("modeViewTitle"),click:function(){u("view")}},preview:{text:r("modePreviewText"),title:r("modePreviewTitle"),click:function(){u("preview")}}},v=[],c=0;c<t.length;c++){if(s=t[c],h=a[s],!h)throw new Error('Unknown mode "'+s+'"');h.className="jsoneditor-type-modes"+(i==s?" jsoneditor-selected":"");v.push(h)}if(l=a[i],!l)throw new Error('Unknown mode "'+i+'"');y=l.text;e=document.createElement("button");e.type="button";e.className="jsoneditor-modes jsoneditor-separator";e.innerHTML=y+" &#x25BE;";e.title="Switch editor mode";e.onclick=function(){var t=new f(v);t.show(e,n)};o=document.createElement("div");o.className="jsoneditor-modes";o.style.position="relative";o.appendChild(e);n.appendChild(o);this.dom={container:n,box:e,frame:o}}var f=i(4),r=i(1).translate;u.prototype.focus=function(){this.dom.box.focus()};u.prototype.destroy=function(){this.dom&&this.dom.frame&&this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame);this.dom=null};n.exports=u},function(n,t,i){"use strict";function u(n){r.copy(n,this)}var r=i(3);n.exports=u},function(n){"use strict";n.exports=function(n,t){t||(t={});typeof t=="function"&&(t={cmp:t});var f=typeof t.cycles=="boolean"?t.cycles:!1,r=t.cmp&&function(n){return function(t){return function(i,r){var u={key:i,value:t[i]},f={key:r,value:t[r]};return n(u,f)}}}(t.cmp),i=[];return function u(n){var t,e,c,o,s,h;if(n&&n.toJSON&&typeof n.toJSON=="function"&&(n=n.toJSON()),n!==undefined){if(typeof n=="number")return isFinite(n)?""+n:"null";if(typeof n!="object")return JSON.stringify(n);if(Array.isArray(n)){for(e="[",t=0;t<n.length;t++)t&&(e+=","),e+=u(n[t])||"null";return e+"]"}if(n===null)return"null";if(i.indexOf(n)!==-1){if(f)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}for(c=i.push(n)-1,o=Object.keys(n).sort(r&&r(n)),e="",t=0;t<o.length;t++)(s=o[t],h=u(n[s]),h)&&(e&&(e+=","),e+=JSON.stringify(s)+":"+h);return i.splice(c,1),"{"+e+"}"}}(n)}},function(n){"use strict";n.exports=function(n,t){function ci(n){for(var i=n.rules,t=0;t<i.length;t++)if(li(i[t]))return!0}function li(t){return n.schema[t.keyword]!==undefined||t["implements"]&&yi(t)}function yi(t){for(var r=t["implements"],i=0;i<r.length;i++)if(n.schema[r[i]]!==undefined)return!0}var i="",d=n.schema.$async===!0,nt=n.util.schemaHasRulesExcept(n.schema,n.RULES.all,"$ref"),tt=n.self._getId(n.schema),ct,lt,g,h,s,wt,ft,y,ui,bt,fi,e,et,o,kt,ei,gt,ni,oi,ot,b,w,si,l,v,st,ht,ti,hi,ii,f;if(n.opts.strictKeywords&&(ct=n.util.schemaUnknownRules(n.schema,n.RULES.keywords),ct))if(lt="unknown keyword: "+ct,n.opts.strictKeywords==="log")n.logger.warn(lt);else throw new Error(lt);if(n.isTop&&(i+=" var validate = ",d&&(n.async=!0,i+="async "),i+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",tt&&(n.opts.sourceCode||n.opts.processCode)&&(i+=" "+("/*# sourceURL="+tt+" */")+" ")),typeof n.schema=="boolean"||!(nt||n.schema.$ref)){var t="false schema",p=n.level,k=n.dataLevel,ri=n.schema[t],at=n.schemaPath+n.util.getProperty(t),it=n.errSchemaPath+"/"+t,a=!n.opts.allErrors,rt,r="data"+(k||""),vt="valid"+p;return n.schema===!1?(n.isTop?a=!0:i+=" var "+vt+" = false; ",e=e||[],e.push(i),i="",n.createErrors!==!1?(i+=" { keyword: '"+(rt||"false schema")+"' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(it)+" , params: {} ",n.opts.messages!==!1&&(i+=" , message: 'boolean schema is false' "),n.opts.verbose&&(i+=" , schema: false , parentSchema: validate.schema"+n.schemaPath+" , data: "+r+" "),i+=" } "):i+=" {} ",f=i,i=e.pop()+(!n.compositeRule&&a?n.async?" throw new ValidationError(["+f+"]); ":" validate.errors = ["+f+"]; return false; ":" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ")):i+=n.isTop?d?" return data; ":" validate.errors = null; return true; ":" var "+vt+" = true; ",n.isTop&&(i+=" }; return validate; "),i}if(n.isTop){var ut=n.isTop,p=n.level=0,k=n.dataLevel=0,r="data";if(n.rootId=n.resolve.fullPath(n.self._getId(n.root.schema)),n.baseId=n.baseId||n.rootId,delete n.isTop,n.dataPathArr=[undefined],n.schema["default"]!==undefined&&n.opts.useDefaults&&n.opts.strictDefaults)if(v="default is ignored in the schema root",n.opts.strictDefaults==="log")n.logger.warn(v);else throw new Error(v);i+=" var vErrors = null; ";i+=" var errors = 0;     ";i+=" if (rootData === undefined) rootData = data; "}else{var p=n.level,k=n.dataLevel,r="data"+(k||"");if(tt&&(n.baseId=n.resolve.url(n.baseId,tt)),d&&!n.async)throw new Error("async schema in sync schema");i+=" var errs_"+p+" = errors;"}var vt="valid"+p,a=!n.opts.allErrors,yt="",pt="",rt,u=n.schema.type,c=Array.isArray(u);if(u&&n.opts.nullable&&n.schema.nullable===!0&&(c?u.indexOf("null")==-1&&(u=u.concat("null")):u!="null"&&(u=[u,"null"],c=!0)),c&&u.length==1&&(u=u[0],c=!1),n.schema.$ref&&nt)if(n.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+n.errSchemaPath+'" (see option extendRefs)');else n.opts.extendRefs!==!0&&(nt=!1,n.logger.warn('$ref: keywords ignored in schema at path "'+n.errSchemaPath+'"'));if(n.schema.$comment&&n.opts.$comment&&(i+=" "+n.RULES.all.$comment.code(n,"$comment")),u&&(n.opts.coerceTypes&&(g=n.util.coerceToTypes(n.opts.coerceTypes,u)),o=n.RULES.types[u],g||c||o===!0||o&&!ci(o))){var at=n.schemaPath+".type",it=n.errSchemaPath+"/type",at=n.schemaPath+".type",it=n.errSchemaPath+"/type",ai=c?"checkDataTypes":"checkDataType";if(i+=" if ("+n.util[ai](u,r,!0)+") { ",g){if(h="dataType"+p,s="coerced"+p,i+=" var "+h+" = typeof "+r+"; ",n.opts.coerceTypes=="array"&&(i+=" if ("+h+" == 'object' && Array.isArray("+r+")) "+h+" = 'array'; "),i+=" var "+s+" = undefined; ",wt="",ft=g,ft)for(w=-1,ui=ft.length-1;w<ui;)y=ft[w+=1],w&&(i+=" if ("+s+" === undefined) { ",wt+="}"),n.opts.coerceTypes=="array"&&y!="array"&&(i+=" if ("+h+" == 'array' && "+r+".length == 1) { "+s+" = "+r+" = "+r+"[0]; "+h+" = typeof "+r+";  } "),y=="string"?i+=" if ("+h+" == 'number' || "+h+" == 'boolean') "+s+" = '' + "+r+"; else if ("+r+" === null) "+s+" = ''; ":y=="number"||y=="integer"?(i+=" if ("+h+" == 'boolean' || "+r+" === null || ("+h+" == 'string' && "+r+" && "+r+" == +"+r+" ",y=="integer"&&(i+=" && !("+r+" % 1)"),i+=")) "+s+" = +"+r+"; "):y=="boolean"?i+=" if ("+r+" === 'false' || "+r+" === 0 || "+r+" === null) "+s+" = false; else if ("+r+" === 'true' || "+r+" === 1) "+s+" = true; ":y=="null"?i+=" if ("+r+" === '' || "+r+" === 0 || "+r+" === false) "+s+" = null; ":n.opts.coerceTypes=="array"&&y=="array"&&(i+=" if ("+h+" == 'string' || "+h+" == 'number' || "+h+" == 'boolean' || "+r+" == null) "+s+" = ["+r+"]; ");i+=" "+wt+" if ("+s+" === undefined) {   ";e=e||[];e.push(i);i="";n.createErrors!==!1?(i+=" { keyword: '"+(rt||"type")+"' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(it)+" , params: { type: '",i+=c?""+u.join(","):""+u,i+="' } ",n.opts.messages!==!1&&(i+=" , message: 'should be ",i+=c?""+u.join(","):""+u,i+="' "),n.opts.verbose&&(i+=" , schema: validate.schema"+at+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+r+" "),i+=" } "):i+=" {} ";f=i;i=e.pop();i+=!n.compositeRule&&a?n.async?" throw new ValidationError(["+f+"]); ":" validate.errors = ["+f+"]; return false; ":" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";i+=" } else {  ";bt=k?"data"+(k-1||""):"parentData";fi=k?n.dataPathArr[k]:"parentDataProperty";i+=" "+r+" = "+s+"; ";k||(i+="if ("+bt+" !== undefined)");i+=" "+bt+"["+fi+"] = "+s+"; } "}else e=e||[],e.push(i),i="",n.createErrors!==!1?(i+=" { keyword: '"+(rt||"type")+"' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(it)+" , params: { type: '",i+=c?""+u.join(","):""+u,i+="' } ",n.opts.messages!==!1&&(i+=" , message: 'should be ",i+=c?""+u.join(","):""+u,i+="' "),n.opts.verbose&&(i+=" , schema: validate.schema"+at+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+r+" "),i+=" } "):i+=" {} ",f=i,i=e.pop()+(!n.compositeRule&&a?n.async?" throw new ValidationError(["+f+"]); ":" validate.errors = ["+f+"]; return false; ":" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ");i+=" } "}if(n.schema.$ref&&!nt)i+=" "+n.RULES.all.$ref.code(n,"$ref")+" ",a&&(i+=" } if (errors === ",i+=ut?"0":"errs_"+p,i+=") { ",pt+="}");else if(et=n.RULES,et)for(kt=-1,ei=et.length-1;kt<ei;)if(o=et[kt+=1],ci(o)){if(o.type&&(i+=" if ("+n.util.checkDataType(o.type,r)+") { "),n.opts.useDefaults)if(o.type=="object"&&n.schema.properties){var ri=n.schema.properties,vi=Object.keys(ri),dt=vi;if(dt)for(ni=-1,oi=dt.length-1;ni<oi;)if(gt=dt[ni+=1],b=ri[gt],b["default"]!==undefined)if(l=r+n.util.getProperty(gt),n.compositeRule){if(n.opts.strictDefaults)if(v="default is ignored for: "+l,n.opts.strictDefaults==="log")n.logger.warn(v);else throw new Error(v);}else i+=" if ("+l+" === undefined ",n.opts.useDefaults=="empty"&&(i+=" || "+l+" === null || "+l+" === '' "),i+=" ) "+l+" = ",i+=n.opts.useDefaults=="shared"?" "+n.useDefault(b["default"])+" ":" "+JSON.stringify(b["default"])+" ",i+="; "}else if(o.type=="array"&&Array.isArray(n.schema.items)&&(ot=n.schema.items,ot))for(w=-1,si=ot.length-1;w<si;)if(b=ot[w+=1],b["default"]!==undefined)if(l=r+"["+w+"]",n.compositeRule){if(n.opts.strictDefaults)if(v="default is ignored for: "+l,n.opts.strictDefaults==="log")n.logger.warn(v);else throw new Error(v);}else i+=" if ("+l+" === undefined ",n.opts.useDefaults=="empty"&&(i+=" || "+l+" === null || "+l+" === '' "),i+=" ) "+l+" = ",i+=n.opts.useDefaults=="shared"?" "+n.useDefault(b["default"])+" ":" "+JSON.stringify(b["default"])+" ",i+="; ";if(st=o.rules,st)for(ti=-1,hi=st.length-1;ti<hi;)ht=st[ti+=1],li(ht)&&(ii=ht.code(n,ht.keyword,o.type),ii&&(i+=" "+ii+" ",a&&(yt+="}")));if(a&&(i+=" "+yt+" ",yt=""),o.type&&(i+=" } ",u&&u===o.type&&!g)){i+=" else { ";var at=n.schemaPath+".type",it=n.errSchemaPath+"/type",e=e||[];e.push(i);i="";n.createErrors!==!1?(i+=" { keyword: '"+(rt||"type")+"' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(it)+" , params: { type: '",i+=c?""+u.join(","):""+u,i+="' } ",n.opts.messages!==!1&&(i+=" , message: 'should be ",i+=c?""+u.join(","):""+u,i+="' "),n.opts.verbose&&(i+=" , schema: validate.schema"+at+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+r+" "),i+=" } "):i+=" {} ";f=i;i=e.pop();i+=!n.compositeRule&&a?n.async?" throw new ValidationError(["+f+"]); ":" validate.errors = ["+f+"]; return false; ":" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";i+=" } "}a&&(i+=" if (errors === ",i+=ut?"0":"errs_"+p,i+=") { ",pt+="}")}return a&&(i+=" "+pt+" "),ut?(d?(i+=" if (errors === 0) return data;           ",i+=" else throw new ValidationError(vErrors); "):(i+=" validate.errors = vErrors; ",i+=" return errors === 0;       "),i+=" }; return validate;"):i+=" var "+vt+" = errors === errs_"+p+";",i=n.util.cleanUpCode(i),ut&&(i=n.util.finalCleanUpCode(i,d)),i}},function(n){"use strict";n.exports=function(n,t){var i=" ",f=n.level,it=n.dataLevel,h=n.schema[t],ut=n.schemaPath+n.util.getProperty(t),w=n.errSchemaPath+"/"+t,rt=!n.opts.allErrors,u="data"+(it||""),l=n.opts.$data&&h&&h.$data,r,c,d,g,tt,v,y;l?(i+=" var schema"+f+" = "+n.util.getData(h.$data,it,n.dataPathArr)+"; ",r="schema"+f):r=h;var nt=t=="maximum",e=nt?"exclusiveMaximum":"exclusiveMinimum",o=n.schema[e],ft=n.opts.$data&&o&&o.$data,b=nt?"<":">",s=nt?">":"<",c=undefined;if(ft){var p=n.util.getData(o.$data,it,n.dataPathArr),a="exclusive"+f,k="exclType"+f,d="exclIsNumber"+f,tt="op"+f,g="' + "+tt+" + '";i+=" var schemaExcl"+f+" = "+p+"; ";p="schemaExcl"+f;i+=" var "+a+"; var "+k+" = typeof "+p+"; if ("+k+" != 'boolean' && "+k+" != 'undefined' && "+k+" != 'number') { ";c=e;v=v||[];v.push(i);i="";n.createErrors!==!1?(i+=" { keyword: '"+(c||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(w)+" , params: {} ",n.opts.messages!==!1&&(i+=" , message: '"+e+" should be boolean' "),n.opts.verbose&&(i+=" , schema: validate.schema"+ut+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";y=i;i=v.pop();i+=!n.compositeRule&&rt?n.async?" throw new ValidationError(["+y+"]); ":" validate.errors = ["+y+"]; return false; ":" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";i+=" } else if ( ";l&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || ");i+=" "+k+" == 'number' ? ( ("+a+" = "+r+" === undefined || "+p+" "+b+"= "+r+") ? "+u+" "+s+"= "+p+" : "+u+" "+s+" "+r+" ) : ( ("+a+" = "+p+" === true) ? "+u+" "+s+"= "+r+" : "+u+" "+s+" "+r+" ) || "+u+" !== "+u+") { var op"+f+" = "+a+" ? '"+b+"' : '"+b+"='; ";h===undefined&&(c=e,w=n.errSchemaPath+"/"+e,r=p,l=ft)}else d=typeof o=="number",g=b,d&&l?(tt="'"+g+"'",i+=" if ( ",l&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" ( "+r+" === undefined || "+o+" "+b+"= "+r+" ? "+u+" "+s+"= "+o+" : "+u+" "+s+" "+r+" ) || "+u+" !== "+u+") { "):(d&&h===undefined?(a=!0,c=e,w=n.errSchemaPath+"/"+e,r=o,s+="="):(d&&(r=Math[nt?"min":"max"](o,h)),o===(d?r:!0)?(a=!0,c=e,w=n.errSchemaPath+"/"+e,s+="="):(a=!1,g+="=")),tt="'"+g+"'",i+=" if ( ",l&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+u+" "+s+" "+r+" || "+u+" !== "+u+") { ");return c=c||t,v=v||[],v.push(i),i="",n.createErrors!==!1?(i+=" { keyword: '"+(c||"_limit")+"' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(w)+" , params: { comparison: "+tt+", limit: "+r+", exclusive: "+a+" } ",n.opts.messages!==!1&&(i+=" , message: 'should be "+g+" ",i+=l?"' + "+r:""+r+"'"),n.opts.verbose&&(i+=" , schema:  ",i+=l?"validate.schema"+ut:""+h,i+="         , parentSchema: validate.schema"+n.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ",y=i,i=v.pop(),i+=!n.compositeRule&&rt?n.async?" throw new ValidationError(["+y+"]); ":" validate.errors = ["+y+"]; return false; ":" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",rt&&(i+=" else { "),i}},function(n){"use strict";n.exports=function(n,t){var i=" ",s=n.level,h=n.dataLevel,u=n.schema[t],y=n.schemaPath+n.util.getProperty(t),p=n.errSchemaPath+"/"+t,c=!n.opts.allErrors,a="data"+(h||""),f=n.opts.$data&&u&&u.$data,r,v,l,e,o;return f?(i+=" var schema"+s+" = "+n.util.getData(u.$data,h,n.dataPathArr)+"; ",r="schema"+s):r=u,v=t=="maxItems"?">":"<",i+="if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+a+".length "+v+" "+r+") { ",l=t,e=e||[],e.push(i),i="",n.createErrors!==!1?(i+=" { keyword: '"+(l||"_limitItems")+"' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(p)+" , params: { limit: "+r+" } ",n.opts.messages!==!1&&(i+=" , message: 'should NOT have ",i+=t=="maxItems"?"more":"fewer",i+=" than ",i+=f?"' + "+r+" + '":""+u,i+=" items' "),n.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+y:""+u,i+="         , parentSchema: validate.schema"+n.schemaPath+" , data: "+a+" "),i+=" } "):i+=" {} ",o=i,i=e.pop(),i+=!n.compositeRule&&c?n.async?" throw new ValidationError(["+o+"]); ":" validate.errors = ["+o+"]; return false; ":" var err = "+o+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(n){"use strict";n.exports=function(n,t){var i=" ",h=n.level,c=n.dataLevel,u=n.schema[t],y=n.schemaPath+n.util.getProperty(t),p=n.errSchemaPath+"/"+t,l=!n.opts.allErrors,s="data"+(c||""),f=n.opts.$data&&u&&u.$data,r,v,a,e,o;return f?(i+=" var schema"+h+" = "+n.util.getData(u.$data,c,n.dataPathArr)+"; ",r="schema"+h):r=u,v=t=="maxLength"?">":"<",i+="if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=n.opts.unicode===!1?" "+s+".length ":" ucs2length("+s+") ",i+=" "+v+" "+r+") { ",a=t,e=e||[],e.push(i),i="",n.createErrors!==!1?(i+=" { keyword: '"+(a||"_limitLength")+"' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(p)+" , params: { limit: "+r+" } ",n.opts.messages!==!1&&(i+=" , message: 'should NOT be ",i+=t=="maxLength"?"longer":"shorter",i+=" than ",i+=f?"' + "+r+" + '":""+u,i+=" characters' "),n.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+y:""+u,i+="         , parentSchema: validate.schema"+n.schemaPath+" , data: "+s+" "),i+=" } "):i+=" {} ",o=i,i=e.pop(),i+=!n.compositeRule&&l?n.async?" throw new ValidationError(["+o+"]); ":" validate.errors = ["+o+"]; return false; ":" var err = "+o+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},function(n){"use strict";n.exports=function(n,t){var i=" ",s=n.level,h=n.dataLevel,u=n.schema[t],y=n.schemaPath+n.util.getProperty(t),p=n.errSchemaPath+"/"+t,c=!n.opts.allErrors,a="data"+(h||""),f=n.opts.$data&&u&&u.$data,r,v,l,e,o;return f?(i+=" var schema"+s+" = "+n.util.getData(u.$data,h,n.dataPathArr)+"; ",r="schema"+s):r=u,v=t=="maxProperties"?">":"<",i+="if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" Object.keys("+a+").length "+v+" "+r+") { ",l=t,e=e||[],e.push(i),i="",n.createErrors!==!1?(i+=" { keyword: '"+(l||"_limitProperties")+"' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(p)+" , params: { limit: "+r+" } ",n.opts.messages!==!1&&(i+=" , message: 'should NOT have ",i+=t=="maxProperties"?"more":"fewer",i+=" than ",i+=f?"' + "+r+" + '":""+u,i+=" properties' "),n.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+y:""+u,i+="         , parentSchema: validate.schema"+n.schemaPath+" , data: "+a+" "),i+=" } "):i+=" {} ",o=i,i=e.pop(),i+=!n.compositeRule&&c?n.async?" throw new ValidationError(["+o+"]); ":" validate.errors = ["+o+"]; return false; ":" var err = "+o+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(n){n.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},function(n,t,i){var r;if(window.ace)r=window.ace;else try{r=i(64);i(65);i(67)}catch(u){}n.exports=r},function(n){n.exports=function(){throw new Error("define cannot be used indirect");}},function(n,t,i){var r;if(window.Picker)r=window.Picker;else try{r=i(68)}catch(u){}n.exports=r},function(){typeof Element!="undefined"&&function(){function n(n){n.hasOwnProperty("remove")||Object.defineProperty(n,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode!=null&&this.parentNode.removeChild(this)}})}typeof Element!="undefined"&&n(Element.prototype);typeof CharacterData!="undefined"&&n(CharacterData.prototype);typeof DocumentType!="undefined"&&n(DocumentType.prototype)}();String.prototype.startsWith||(String.prototype.startsWith=function(n,t){return t=t||0,this.substr(t,n.length)===n});Array.prototype.find||(Array.prototype.find=function(n){for(var i,t=0;t<this.length;t++)if(i=this[t],n.call(this,i,t,this))return i});String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")})},function(n){n.exports=function t(n,i){"use strict";var a=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,v=/(^[ ]*|[ ]*$)/g,y=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,p=/^0x[0-9a-f]+$/i,w=/^0/,b=function(n){return t.insensitive&&(""+n).toLowerCase()||""+n},o=b(n).replace(v,"")||"",s=b(i).replace(v,"")||"",e=o.replace(a,'\0$1\0').replace(/\0$/,"").replace(/^\0/,"").split('\0'),h=s.replace(a,'\0$1\0').replace(/\0$/,"").replace(/^\0/,"").split('\0'),c=parseInt(o.match(p),16)||e.length!==1&&o.match(y)&&Date.parse(o),l=parseInt(s.match(p),16)||c&&s.match(y)&&Date.parse(s)||null,u,f,r,k;if(l){if(c<l)return-1;if(c>l)return 1}for(r=0,k=Math.max(e.length,h.length);r<k;r++){if(u=!(e[r]||"").match(w)&&parseFloat(e[r])||e[r]||0,f=!(h[r]||"").match(w)&&parseFloat(h[r])||h[r]||0,isNaN(u)!==isNaN(f))return isNaN(u)?1:-1;if(typeof u!=typeof f&&(u+="",f+=""),u<f)return-1;if(u>f)return 1}return 0}},function(n,t,i){function u(n){return typeof n.getRootNode=="function"?n.getRootNode():window}var r=i(0);t.createAbsoluteAnchor=function(n,t,i){function l(){var t,u;if(f&&f.parentNode){f.parentNode.removeChild(f);for(t in e)e.hasOwnProperty(t)&&(u=e[t],u&&r.removeEventListener(s,t,u),delete e[t]);typeof i=="function"&&i(n)}}var s=u(n),e={},o=n.getBoundingClientRect(),c=t.getBoundingClientRect(),f=document.createElement("div"),h;return f.className="jsoneditor-anchor",f.style.position="absolute",f.style.left=o.left-c.left+"px",f.style.top=o.top-c.top+"px",f.style.width=o.width-2+"px",f.style.height=o.height-2+"px",f.style.boxSizing="border-box",t.appendChild(f),h=function(n){var t=n.target;t===f||r.isChildOf(t,f)||l()},e.mousedown=r.addEventListener(s,"mousedown",h),e.mousewheel=r.addEventListener(s,"mousewheel",h),f.destroy=l,f}},function(n,t){var i,u,r;(function(f,e){"use strict";!0&&!(u=[],i=e,r=typeof i=="function"?i.apply(t,u):i,r!==undefined&&(n.exports=r))})(this,function(){"use strict";function f(n){return typeof Node=="object"?n instanceof Node:n&&typeof n=="object"&&typeof n.nodeType=="number"}function s(n){return typeof n=="string"}function t(){var n=[];return{watch:n.push.bind(n),trigger:function(t,i){for(var u=!0,f={detail:i,preventDefault:function(){u=!1}},r=0;r<n.length;r++)n[r](t,f);return u}}}function e(n){return window.getComputedStyle(n).display==="none"}function n(n){this.elem=n}function h(t,i){return n.make(t("parent")).clazz("pico-overlay").clazz(t("overlayClass","")).stylize({display:"none",position:"fixed",top:"0px",left:"0px",height:"100%",width:"100%",zIndex:1e4}).stylize(t("overlayStyles",{opacity:.5,background:"#000"})).onClick(function(){t("overlayClose",!0)&&i()})}function c(t,i){var r=t("width","auto"),u,f;return typeof r=="number"&&(r=""+r+"px"),u=t("modalId","pico-"+o++),f=n.make(t("parent")).clazz("pico-content").clazz(t("modalClass","")).stylize({display:"none",position:"fixed",zIndex:10001,left:"50%",top:"38.1966%",maxHeight:"90%",boxSizing:"border-box",width:r,"-ms-transform":"translate(-50%,-38.1966%)","-moz-transform":"translate(-50%,-38.1966%)","-webkit-transform":"translate(-50%,-38.1966%)","-o-transform":"translate(-50%,-38.1966%)",transform:"translate(-50%,-38.1966%)"}).stylize(t("modalStyles",{overflow:"auto",backgroundColor:"white",padding:"20px",borderRadius:"5px"})).html(t("content")).attr("id",u).attr("role","dialog").attr("aria-labelledby",t("ariaLabelledBy")).attr("aria-describedby",t("ariaDescribedBy",u)).onClick(function(t){var r=new n(t.target).anyAncestor(function(n){return/\bpico-close\b/.test(n.elem.className)});r&&i()}),f}function l(n,t){if(t("closeButton",!0))return n.child("button").html(t("closeHtml","&#xD7;")).clazz("pico-close").clazz(t("closeClass","")).stylize(t("closeStyles",{borderRadius:"2px",border:0,padding:0,cursor:"pointer",height:"15px",width:"15px",position:"absolute",top:"5px",right:"5px",fontSize:"16px",textAlign:"center",lineHeight:"15px",background:"#CCC"})).attr("aria-label",t("close-label","Close"))}function i(n){return function(){return n().elem}}function a(n,t){function r(n,t){var i=n.msMatchesSelector||n.webkitMatchesSelector||n.matches;return i.call(n,t)}function f(n){return e(n)||r(n,":disabled")||n.hasAttribute("contenteditable")?!1:n.hasAttribute("tabindex")||r(n,"input,select,textarea,button,a[href],area[href],iframe")}function o(n){for(var i=n.getElementsByTagName("*"),t=0;t<i.length;t++)if(f(i[t]))return i[t]}function s(n){for(var t=n.getElementsByTagName("*"),i=t.length;i--;)if(f(t[i]))return t[i]}var i;n.beforeShow(function(){i=document.activeElement});n.afterShow(function(){if(t()){var i=o(n.modalElem());i&&i.focus()}});n.afterClose(function(){t()&&i&&i.focus();i=null});u.watch(function(i){if(t()&&n.isVisible()){var r=o(n.modalElem()),u=s(n.modalElem()),f=i.shiftKey?r:u;f===document.activeElement&&((i.shiftKey?u:r).focus(),i.preventDefault())}})}function v(t,i){var u,r=new n(document.body);t.beforeShow(function(){u=r.elem.style.overflow;i()&&r.stylize({overflow:"hidden"})});t.afterClose(function(){r.stylize({overflow:u})})}var o,r,u;return n.make=function(t,i){typeof t=="string"&&(t=document.querySelector(t));var r=document.createElement(i||"div");return(t||document.body).appendChild(r),new n(r)},n.prototype={child:function(t){return n.make(this.elem,t)},stylize:function(n){n=n||{};typeof n.opacity!="undefined"&&(n.filter="alpha(opacity="+n.opacity*100+")");for(var t in n)n.hasOwnProperty(t)&&(this.elem.style[t]=n[t]);return this},clazz:function(n){return this.elem.className+=" "+n,this},html:function(n){return f(n)?this.elem.appendChild(n):this.elem.innerHTML=n,this},onClick:function(n){return this.elem.addEventListener("click",n),this},destroy:function(){this.elem.parentNode.removeChild(this.elem)},hide:function(){this.elem.style.display="none"},show:function(){this.elem.style.display="block"},attr:function(n,t){return t!==undefined&&this.elem.setAttribute(n,t),this},anyAncestor:function(t){for(var i=this.elem;i;){if(t(new n(i)))return!0;i=i.parentNode}return!1},isVisible:function(){return!e(this.elem)}},o=1,r=t(),u=t(),document.documentElement.addEventListener("keydown",function(n){var t=n.which||n.keyCode;t===27?r.trigger():t===9&&u.trigger(n)}),function(n){function y(t,i){var r=n[t];return typeof r=="function"&&(r=r(i)),r===undefined?i:r}function ut(n){p().hide();o().hide();rt.trigger(u,n)}function d(n){it.trigger(u,n)&&ut(n)}function e(n){return function(){return n.apply(this,arguments),u}}function b(n,t){if(!w){var i=c(y,d);w={modal:i,overlay:h(y,d),close:l(i,y)};g.trigger(u,t)}return w[n]}var w;(s(n)||f(n))&&(n={content:n});var g=t(),nt=t(),tt=t(),it=t(),rt=t();var o=b.bind(window,"modal"),p=b.bind(window,"overlay"),k=b.bind(window,"close"),u;return u={modalElem:i(o),closeElem:i(k),overlayElem:i(p),buildDom:e(b.bind(null,null)),isVisible:function(){return!!(w&&o&&o().isVisible())},show:function(n){return nt.trigger(u,n)&&(p().show(),k(),o().show(),tt.trigger(u,n)),this},close:e(d),forceClose:e(ut),destroy:function(){o().destroy();p().destroy();p=o=k=undefined},options:function(t){Object.keys(t).map(function(i){n[i]=t[i]})},afterCreate:e(g.watch),beforeShow:e(nt.watch),afterShow:e(tt.watch),beforeClose:e(it.watch),afterClose:e(rt.watch)},a(u,y.bind(null,"focus",!0)),v(u,y.bind(null,"bodyOverflow",!0)),r.watch(function(){y("escCloses",!0)&&u.isVisible()&&u.close()}),u}})},function(n,t,i){"use strict";function s(){try{this.format()}catch(n){}}var h=i(20),c=i(5),f=i(1).translate,l=i(11),a=i(28),v=i(82).validateCustom,y=i(9),p=i(10),u=i(0),e=i(2).DEFAULT_MODAL_ANCHOR,r={},o="ace/theme/jsoneditor";r.create=function(n,t){var rt,r,p,w,b,k,d,c,ot,et,s,y,st,v,e,ut,tt,ft,it,g,nt;if(t=t||{},typeof t.statusBar=="undefined"&&(t.statusBar=!0),t.mainMenuBar=t.mainMenuBar!==!1,t.enableSort=t.enableSort!==!1,t.enableTransform=t.enableTransform!==!1,this.options=t,this.indentation=t.indentation?Number(t.indentation):2,rt=t.ace?t.ace:h,this.mode=t.mode=="code"?"code":"text",this.mode=="code"&&typeof rt=="undefined"&&(this.mode="text",console.warn("Failed to load Ace editor, falling back to plain text mode. Please use a JSONEditor bundle including Ace, or pass Ace as via the configuration option `ace`.")),this.theme=t.theme||o,this.theme===o&&rt)try{i(83)}catch(ht){console.error(ht)}if(t.onTextSelectionChange)this.onTextSelectionChange(t.onTextSelectionChange);if(r=this,this.container=n,this.dom={},this.aceEditor=undefined,this.textarea=undefined,this.validateSchema=null,this.annotations=[],this._debouncedValidate=u.debounce(this.validate.bind(this),this.DEBOUNCE_INTERVAL),this.width=n.clientWidth,this.height=n.clientHeight,this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode,this.frame.onclick=function(n){n.preventDefault()},this.frame.onkeydown=function(n){r._onKeyDown(n)},this.content=document.createElement("div"),this.content.className="jsoneditor-outer",this.options.mainMenuBar&&(u.addClassName(this.content,"has-main-menu-bar"),this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu),p=document.createElement("button"),p.type="button",p.className="jsoneditor-format",p.title="Format JSON data, with proper indentation and line feeds (Ctrl+\\)",this.menu.appendChild(p),p.onclick=function(){try{r.format();r._onChange()}catch(n){r._onError(n)}},w=document.createElement("button"),w.type="button",w.className="jsoneditor-compact",w.title="Compact JSON data, remove all whitespaces (Ctrl+Shift+\\)",this.menu.appendChild(w),w.onclick=function(){try{r.compact();r._onChange()}catch(n){r._onError(n)}},this.options.enableSort&&(b=document.createElement("button"),b.type="button",b.className="jsoneditor-sort",b.title=f("sortTitleShort"),b.onclick=function(){r._showSortModal()},this.menu.appendChild(b)),this.options.enableTransform&&(k=document.createElement("button"),k.type="button",k.title=f("transformTitleShort"),k.className="jsoneditor-transform",k.onclick=function(){r._showTransformModal()},this.menu.appendChild(k)),d=document.createElement("button"),d.type="button",d.className="jsoneditor-repair",d.title="Repair JSON: fix quotes and escape characters, remove comments and JSONP notation, turn JavaScript objects into JSON.",this.menu.appendChild(d),d.onclick=function(){try{r.repair();r._onChange()}catch(n){r._onError(n)}},this.options&&this.options.modes&&this.options.modes.length&&(this.modeSwitcher=new l(this.menu,this.options.modes,this.options.mode,function(n){r.setMode(n);r.modeSwitcher.focus()})),this.mode==="code"&&(c=document.createElement("a"),c.appendChild(document.createTextNode("powered by ace")),c.href="http://ace.ajax.org",c.target="_blank",c.className="jsoneditor-poweredBy",c.onclick=function(){window.open(c.href,c.target)},this.menu.appendChild(c))),ot={},et=this.options.onEditable&&typeof(this.options.onEditable==="function")&&!this.options.onEditable(ot),this.frame.appendChild(this.content),this.container.appendChild(this.frame),this.mode==="code"){this.editorDom=document.createElement("div");this.editorDom.style.height="100%";this.editorDom.style.width="100%";this.content.appendChild(this.editorDom);s=rt.edit(this.editorDom);y=s.getSession();s.$blockScrolling=Infinity;s.setTheme(this.theme);s.setOptions({readOnly:et});s.setShowPrintMargin(!1);s.setFontSize(13);y.setMode("ace/mode/json");y.setTabSize(this.indentation);y.setUseSoftTabs(!0);y.setUseWrapMode(!0);st=y.setAnnotations;y.setAnnotations=function(n){st.call(this,n&&n.length?n:r.annotations)};s.commands.bindKey("Ctrl-L",null);s.commands.bindKey("Command-L",null);this.aceEditor=s;this.hasOwnProperty("editor")||Object.defineProperty(this,"editor",{get:function(){return console.warn('Property "editor" has been renamed to "aceEditor".'),r.aceEditor},set:function(n){console.warn('Property "editor" has been renamed to "aceEditor".');r.aceEditor=n}});s.on("change",this._onChange.bind(this));s.on("changeSelection",this._onSelect.bind(this))}else v=document.createElement("textarea"),v.className="jsoneditor-text",v.spellcheck=!1,this.content.appendChild(v),this.textarea=v,this.textarea.readOnly=et,this.textarea.oninput===null?this.textarea.oninput=this._onChange.bind(this):this.textarea.onchange=this._onChange.bind(this),v.onselect=this._onSelect.bind(this),v.onmousedown=this._onMouseDown.bind(this),v.onblur=this._onBlur.bind(this);this.errorTable=new a({errorTableVisible:this.mode==="text",onToggleVisibility:function(){r.validate()},onFocusLine:function(n){r.isFocused=!0;isNaN(n)||r.setTextSelection({row:n,column:1},{row:n,column:1e3})},onChangeHeight:function(n){var i=r.dom.statusBar?r.dom.statusBar.clientHeight:0,t=n+i+1;r.content.style.marginBottom=-t+"px";r.content.style.paddingBottom=t+"px"}});this.frame.appendChild(this.errorTable.getErrorTable());t.statusBar&&(u.addClassName(this.content,"has-status-bar"),this.curserInfoElements={},e=document.createElement("div"),this.dom.statusBar=e,e.className="jsoneditor-statusbar",this.frame.appendChild(e),ut=document.createElement("span"),ut.className="jsoneditor-curserinfo-label",ut.innerText="Ln:",tt=document.createElement("span"),tt.className="jsoneditor-curserinfo-val",tt.innerText="1",e.appendChild(ut),e.appendChild(tt),ft=document.createElement("span"),ft.className="jsoneditor-curserinfo-label",ft.innerText="Col:",it=document.createElement("span"),it.className="jsoneditor-curserinfo-val",it.innerText="1",e.appendChild(ft),e.appendChild(it),this.curserInfoElements.colVal=it,this.curserInfoElements.lnVal=tt,g=document.createElement("span"),g.className="jsoneditor-curserinfo-label",g.innerText="characters selected",g.style.display="none",nt=document.createElement("span"),nt.className="jsoneditor-curserinfo-count",nt.innerText="0",nt.style.display="none",this.curserInfoElements.countLabel=g,this.curserInfoElements.countVal=nt,e.appendChild(nt),e.appendChild(g),e.appendChild(this.errorTable.getErrorCounter()),e.appendChild(this.errorTable.getWarningIcon()),e.appendChild(this.errorTable.getErrorIcon()));this.setSchema(this.options.schema,this.options.schemaRefs)};r._onChange=function(){if(!this.onChangeDisabled){if(this._debouncedValidate(),this.options.onChange)try{this.options.onChange()}catch(n){console.error("Error in onChange callback: ",n)}if(this.options.onChangeText)try{this.options.onChangeText(this.getText())}catch(n){console.error("Error in onChangeText callback: ",n)}}};r._showSortModal=function(){function r(i){var r;Array.isArray(t)&&(r=u.sort(t,i.path,i.direction),n.sortedBy=i,n.set(r));u.isObject(t)&&(r=u.sortObjectKeys(t,i.direction),n.sortedBy=i,n.set(r))}var n=this,i=this.options.modalAnchor||e,t=this.get();y(i,t,r,n.sortedBy)};r._showTransformModal=function(){var t=this,i=this.options.modalAnchor||e,n=this.get();p(i,n,function(i){var r=c.search(n,i);t.set(r)})};r._onSelect=function(){this._updateCursorInfo();this._emitSelectionChange()};r._onKeyDown=function(n){var i=n.which||n.keyCode,t=!1;i==220&&n.ctrlKey&&(n.shiftKey?(this.compact(),this._onChange()):(this.format(),this._onChange()),t=!0);t&&(n.preventDefault(),n.stopPropagation());this._updateCursorInfo();this._emitSelectionChange()};r._onMouseDown=function(){this._updateCursorInfo();this._emitSelectionChange()};r._onBlur=function(){var n=this;setTimeout(function(){n.isFocused||(n._updateCursorInfo(),n._emitSelectionChange());n.isFocused=!1})};r._updateCursorInfo=function(){function o(){n.curserInfoElements.countVal.innerText!==t&&(n.curserInfoElements.countVal.innerText=t,n.curserInfoElements.countVal.style.display=t?"inline":"none",n.curserInfoElements.countLabel.style.display=t?"inline":"none");n.curserInfoElements.lnVal.innerText=i;n.curserInfoElements.colVal.innerText=r}var n=this,i,r,t,f,e;this.textarea?setTimeout(function(){var f=u.getInputSelection(n.textarea);f.startIndex!==f.endIndex&&(t=f.endIndex-f.startIndex);t&&n.cursorInfo&&n.cursorInfo.line===f.end.row&&n.cursorInfo.column===f.end.column?(i=f.start.row,r=f.start.column):(i=f.end.row,r=f.end.column);n.cursorInfo={line:i,column:r,count:t};n.options.statusBar&&o()},0):this.aceEditor&&this.curserInfoElements&&(f=this.aceEditor.getCursorPosition(),e=this.aceEditor.getSelectedText(),i=f.row+1,r=f.column+1,t=e.length,n.cursorInfo={line:i,column:r,count:t},this.options.statusBar&&o())};r._emitSelectionChange=function(){if(this._selectionChangedHandler){var n=this.getTextSelection();this._selectionChangedHandler(n.start,n.end,n.text)}};r._refreshAnnotations=function(){var n=this.aceEditor&&this.aceEditor.getSession(),t;n&&(t=n.getAnnotations().filter(function(n){return n.type==="error"}),n.setAnnotations(t))};r.destroy=function(){this.aceEditor&&(this.aceEditor.destroy(),this.aceEditor=null);this.frame&&this.container&&this.frame.parentNode===this.container&&this.container.removeChild(this.frame);this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null);this.textarea=null;this._debouncedValidate=null};r.compact=function(){var n=this.get(),t=JSON.stringify(n);this._setText(t,!1)};r.format=function(){var n=this.get(),t=JSON.stringify(n,null,this.indentation);this._setText(t,!1)};r.repair=function(){var n=this.getText(),t=u.repair(n);this._setText(t,!1)};r.focus=function(){this.textarea&&this.textarea.focus();this.aceEditor&&this.aceEditor.focus()};r.resize=function(){if(this.aceEditor)this.aceEditor.resize(!1)};r.set=function(n){this.setText(JSON.stringify(n,null,this.indentation))};r.update=function(n){this.updateText(JSON.stringify(n,null,this.indentation))};r.get=function(){var n=this.getText();return u.parse(n)};r.getText=function(){return this.textarea?this.textarea.value:this.aceEditor?this.aceEditor.getValue():""};r._setText=function(n,t){var i,r;i=this.options.escapeUnicode===!0?u.escapeUnicodeChars(n):n;this.textarea&&(this.textarea.value=i);this.aceEditor&&(this.onChangeDisabled=!0,this.aceEditor.setValue(i,-1),t&&(r=this,setTimeout(function(){r.aceEditor.session.getUndoManager().reset()},0)),this.onChangeDisabled=!1);this._debouncedValidate()};r.setText=function(n){this._setText(n,!0)};r.updateText=function(n){this.getText()!==n&&this._setText(n,!1)};r.validate=function(){var f=[],n=[],t,e,i,o,r,h;try{t=this.get();this.validateSchema&&(e=this.validateSchema(t),e||(f=this.validateSchema.errors.map(function(n){return n.type="validation",u.improveSchemaError(n)})));this.validationSequence=(this.validationSequence||0)+1;i=this;o=this.validationSequence;v(t,this.options.onValidate).then(function(t){if(o===i.validationSequence){var r=f.concat(n).concat(t);i._renderErrors(r)}})["catch"](function(n){console.error("Custom validation function did throw an error",n)})}catch(s){this.getText()&&(r=/\w*line\s*(\d+)\w*/g.exec(s.message),r&&(h=+r[1]),n=[{type:"error",message:s.message.replace(/\n/g,"<br>"),line:h}]);this._renderErrors(n)}};r._renderErrors=function(n){var f=this.getText(),i=[],t,r;n.reduce(function(n,t){return n.indexOf(t.dataPath)===-1&&n.push(t.dataPath),n},i);t=u.getPositionForPath(f,i);this.aceEditor&&(this.annotations=t.map(function(t){var i=n.filter(function(n){return n.dataPath===t.path}),r=i.map(function(n){return n.message}).join("\n");return r?{row:t.line,column:t.column,text:"Schema validation error"+(i.length!==1?"s":"")+": \n"+r,type:"warning",source:"jsoneditor"}:{}}),this._refreshAnnotations());this.errorTable.setErrors(n,t);this.aceEditor&&(r=!1,this.aceEditor.resize(r))};r.getTextSelection=function(){var n={},t;if(this.textarea)return t=u.getInputSelection(this.textarea),this.cursorInfo&&this.cursorInfo.line===t.end.row&&this.cursorInfo.column===t.end.column?(n.start=t.end,n.end=t.start):n=t,{start:n.start,end:n.end,text:this.textarea.value.substring(t.startIndex,t.endIndex)};if(this.aceEditor){var r=this.aceEditor.getSelection(),e=this.aceEditor.getSelectedText(),i=r.getRange(),f=r.getSelectionLead();return f.row===i.end.row&&f.column===i.end.column?n=i:(n.start=i.end,n.end=i.start),{start:{row:n.start.row+1,column:n.start.column+1},end:{row:n.end.row+1,column:n.end.column+1},text:e}}};r.onTextSelectionChange=function(n){typeof n=="function"&&(this._selectionChangedHandler=u.debounce(n,this.DEBOUNCE_INTERVAL))};r.setTextSelection=function(n,t){var r,f,i;if(n&&t)if(this.textarea){if(r=u.getIndexForPosition(this.textarea,n.row,n.column),f=u.getIndexForPosition(this.textarea,t.row,t.column),r>-1&&f>-1){this.textarea.setSelectionRange?(this.textarea.focus(),this.textarea.setSelectionRange(r,f)):this.textarea.createTextRange&&(i=this.textarea.createTextRange(),i.collapse(!0),i.moveEnd("character",f),i.moveStart("character",r),i.select());var o=(this.textarea.value.match(/\n/g)||[]).length+1,s=this.textarea.scrollHeight/o,e=n.row*s;this.textarea.scrollTop=e>this.textarea.clientHeight?e-this.textarea.clientHeight/2:0}}else this.aceEditor&&(i={start:{row:n.row-1,column:n.column-1},end:{row:t.row-1,column:t.column-1}},this.aceEditor.selection.setRange(i),this.aceEditor.scrollToLine(n.row-1,!0))};n.exports=[{mode:"text",mixin:r,data:"text",load:s},{mode:"code",mixin:r,data:"text",load:s}]},function(n){function t(n){var i,t,r,u;this.errorTableVisible=n.errorTableVisible;this.onToggleVisibility=n.onToggleVisibility;this.onFocusLine=n.onFocusLine||function(){};this.onChangeHeight=n.onChangeHeight;this.dom={};i=document.createElement("div");i.className="jsoneditor-validation-errors-container";this.dom.validationErrorsContainer=i;t=document.createElement("div");t.style.display="none";t.className="jsoneditor-additional-errors fadein";t.innerHTML="Scroll for more &#9663;";this.dom.additionalErrorsIndication=t;i.appendChild(t);r=document.createElement("span");r.className="jsoneditor-validation-error-icon";r.style.display="none";this.dom.validationErrorIcon=r;u=document.createElement("span");u.className="jsoneditor-validation-error-count";u.style.display="none";this.dom.validationErrorCount=u;this.dom.parseErrorIndication=document.createElement("span");this.dom.parseErrorIndication.className="jsoneditor-parse-error-icon";this.dom.parseErrorIndication.style.display="none"}t.prototype.getErrorTable=function(){return this.dom.validationErrorsContainer};t.prototype.getErrorCounter=function(){return this.dom.validationErrorCount};t.prototype.getWarningIcon=function(){return this.dom.validationErrorIcon};t.prototype.getErrorIcon=function(){return this.dom.parseErrorIndication};t.prototype.toggleTableVisibility=function(){this.errorTableVisible=!this.errorTableVisible;this.onToggleVisibility(this.errorTableVisible)};t.prototype.setErrors=function(n,t){var r=this,i,e,o,u,s,f;if(this.dom.validationErrors&&(this.dom.validationErrors.parentNode.removeChild(this.dom.validationErrors),this.dom.validationErrors=null,this.dom.additionalErrorsIndication.style.display="none"),this.errorTableVisible&&n.length>0){i=document.createElement("div");i.className="jsoneditor-validation-errors";i.innerHTML='<table class="jsoneditor-text-errors"><tbody><\/tbody><\/table>';e=i.getElementsByTagName("tbody")[0];n.forEach(function(n){var o,i,f,u;o=typeof n=="string"?'<td colspan="2"><pre>'+n+"<\/pre><\/td>":"<td>"+(n.dataPath||"")+"<\/td><td><pre>"+n.message+"<\/pre><\/td>";isNaN(n.line)?n.dataPath&&(f=t.find(function(t){return t.path===n.dataPath}),f&&(i=f.line+1)):i=n.line;u=document.createElement("tr");u.className=isNaN(i)?"":"jump-to-line";u.className+=n.type==="error"?" parse-error":" validation-error";u.innerHTML='<td><button class="jsoneditor-schema-error"><\/button><\/td><td style="white-space:nowrap;">'+(isNaN(i)?"":"Ln "+i)+"<\/td>"+o;u.onclick=function(){r.onFocusLine(i)};e.appendChild(u)});this.dom.validationErrors=i;this.dom.validationErrorsContainer.appendChild(i);this.dom.additionalErrorsIndication.title=n.length+" errors total";this.dom.validationErrorsContainer.clientHeight<this.dom.validationErrorsContainer.scrollHeight?(this.dom.additionalErrorsIndication.style.display="block",this.dom.validationErrorsContainer.onscroll=function(){r.dom.additionalErrorsIndication.style.display=r.dom.validationErrorsContainer.clientHeight>0&&r.dom.validationErrorsContainer.scrollTop===0?"block":"none"}):this.dom.validationErrorsContainer.onscroll=undefined;o=this.dom.validationErrorsContainer.clientHeight+(this.dom.statusBar?this.dom.statusBar.clientHeight:0);this.onChangeHeight(o)}else this.onChangeHeight(0);u=n.filter(function(n){return n.type!=="error"}).length;u>0?(this.dom.validationErrorCount.style.display="inline",this.dom.validationErrorCount.innerText=u,this.dom.validationErrorCount.onclick=this.toggleTableVisibility.bind(this),this.dom.validationErrorIcon.style.display="inline",this.dom.validationErrorIcon.title=u+" schema validation error(s) found",this.dom.validationErrorIcon.onclick=this.toggleTableVisibility.bind(this)):(this.dom.validationErrorCount.style.display="none",this.dom.validationErrorIcon.style.display="none");s=n.some(function(n){return n.type==="error"});s?(f=n[0].line,this.dom.parseErrorIndication.style.display="block",this.dom.parseErrorIndication.title=isNaN(f)?"parse error - check that the json is valid":"parse error on line "+f):this.dom.parseErrorIndication.style.display="none"};n.exports=t},function(n,t,i){"use strict";function r(n,t,i){if(!(this instanceof r))throw new Error('JSONEditor constructor called without "new".');var f=u.getInternetExplorerVersion();if(f!=-1&&f<9)throw new Error("Unsupported browser, IE9 or newer required. Please install the newest version of your browser.");t&&(t.error&&(console.warn('Option "error" has been renamed to "onError"'),t.onError=t.error,delete t.error),t.change&&(console.warn('Option "change" has been renamed to "onChange"'),t.onChange=t.change,delete t.change),t.editable&&(console.warn('Option "editable" has been renamed to "onEditable"'),t.onEditable=t.editable,delete t.editable),t.onChangeJSON&&(t.mode==="text"||t.mode==="code"||t.modes&&(t.modes.indexOf("text")!==-1||t.modes.indexOf("code")!==-1))&&console.warn('Option "onChangeJSON" is not applicable to modes "text" and "code". Use "onChangeText" or "onChange" instead.'),t&&Object.keys(t).forEach(function(n){r.VALID_OPTIONS.indexOf(n)===-1&&console.warn('Unknown option "'+n+'". This option will be ignored')}));arguments.length&&this._create(n,t,i)}var f;try{f=i(30)}catch(l){}var e=i(20),o=i(22),s=i(69),h=i(27),c=i(84),u=i(0);typeof Promise=="undefined"&&console.error("Promise undefined. Please load a Promise polyfill in the browser in order to use JSONEditor");r.modes={};r.prototype.DEBOUNCE_INTERVAL=150;r.VALID_OPTIONS=["ajv","schema","schemaRefs","templates","ace","theme","autocomplete","onChange","onChangeJSON","onChangeText","onEditable","onError","onEvent","onModeChange","onNodeName","onValidate","onCreateMenu","onSelectionChange","onTextSelectionChange","onClassName","colorPicker","onColorPicker","timestampTag","escapeUnicode","history","search","mode","modes","name","indentation","sortObjectKeys","navigationBar","statusBar","mainMenuBar","languages","language","enableSort","enableTransform","maxVisibleChilds"];r.prototype._create=function(n,t,i){this.container=n;this.options=t||{};this.json=i||{};var r=this.options.mode||this.options.modes&&this.options.modes[0]||"tree";this.setMode(r)};r.prototype.destroy=function(){};r.prototype.set=function(n){this.json=n};r.prototype.get=function(){return this.json};r.prototype.setText=function(n){this.json=u.parse(n)};r.prototype.getText=function(){return JSON.stringify(this.json)};r.prototype.setName=function(n){this.options||(this.options={});this.options.name=n};r.prototype.getName=function(){return this.options&&this.options.name};r.prototype.setMode=function(n){var i,f;if(n!==this.options.mode||!this.create){var c=this.container,t=u.extend({},this.options),o=t.mode,s,h;if(t.mode=n,i=r.modes[n],i)try{if(f=i.data=="text",h=this.getName(),s=this[f?"getText":"get"](),this.destroy(),u.clear(this),u.extend(this,i.mixin),this.create(c,t),this.setName(h),this[f?"setText":"set"](s),typeof i.load=="function")try{i.load.call(this)}catch(e){console.error(e)}if(typeof t.onModeChange=="function"&&n!==o)try{t.onModeChange(n,o)}catch(e){console.error(e)}}catch(e){this._onError(e)}else throw new Error('Unknown mode "'+t.mode+'"');}};r.prototype.getMode=function(){return this.options.mode};r.prototype._onError=function(n){if(this.options&&typeof this.options.onError=="function")this.options.onError(n);else throw n;};r.prototype.setSchema=function(n,t){var r,u;if(n){try{this.options.ajv?r=this.options.ajv:(r=f({allErrors:!0,verbose:!0,schemaId:"auto",$data:!0}),r.addMetaSchema(i(86)),r.addMetaSchema(i(87)))}catch(e){console.warn("Failed to create an instance of Ajv, JSON Schema validation is not available. Please use a JSONEditor bundle including Ajv, or pass an instance of Ajv as via the configuration option `ajv`.")}if(r){if(t){for(u in t)r.removeSchema(u),t[u]&&r.addSchema(t[u],u);this.options.schemaRefs=t}this.validateSchema=r.compile(n);this.options.schema=n;this.validate()}this.refresh()}else this.validateSchema=null,this.options.schema=null,this.options.schemaRefs=null,this.validate(),this.refresh()};r.prototype.validate=function(){};r.prototype.refresh=function(){};r.registerMode=function(n){var t,f,i,e;if(u.isArray(n))for(t=0;t<n.length;t++)r.registerMode(n[t]);else{if(!("mode"in n))throw new Error('Property "mode" missing');if(!("mixin"in n))throw new Error('Property "mixin" missing');if(!("data"in n))throw new Error('Property "data" missing');if(i=n.mode,i in r.modes)throw new Error('Mode "'+i+'" already registered');if(typeof n.mixin.create!="function")throw new Error('Required function "create" missing on mixin');for(e=["setMode","registerMode","modes"],t=0;t<e.length;t++)if(f=e[t],f in n.mixin)throw new Error('Reserved property "'+f+'" not allowed in mixin');r.modes[i]=n}};r.registerMode(s);r.registerMode(h);r.registerMode(c);r.ace=e;r.Ajv=f;r.VanillaPicker=o;r["default"]=r;n.exports=r},function(n,t,i){"use strict";function r(n){if(!(this instanceof r))return new r(n);n=this._opts=v.copy(n)||{};ti(this);this._schemas={};this._refs={};this._fragments={};this._formats=d(n.format);this._cache=n.cache||new b;this._loadingSchemas={};this._compilations=[];this.RULES=g();this._getId=at(n);n.loopRequired=n.loopRequired||Infinity;n.errorDataPath=="property"&&(n._errorDataPathProperty=!0);n.serialize===undefined&&(n.serialize=k);this._metaOpts=ni(this);n.formats&&gt(this);kt(this);typeof n.meta=="object"&&this.addMetaSchema(n.meta);n.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}});dt(this)}function tt(n,t){var i,r,u;if(typeof n=="string"){if(i=this.getSchema(n),!i)throw new Error('no schema with key or ref "'+n+'"');}else r=this._addSchema(n),i=r.validate||this._compile(r);return u=i(t),i.$async!==!0&&(this.errors=i.errors),u}function it(n,t){var i=this._addSchema(n,undefined,t);return i.validate||this._compile(i)}function rt(n,t,i,r){var f,e;if(Array.isArray(n)){for(f=0;f<n.length;f++)this.addSchema(n[f],undefined,i,r);return this}if(e=this._getId(n),e!==undefined&&typeof e!="string")throw new Error("schema id must be string");return t=u.normalizeId(t||e),w(this,t),this._schemas[t]=this._addSchema(n,i,r,!0),this}function ut(n,t,i){return this.addSchema(n,t,i,!0),this}function ft(n,t){var i=n.$schema,r,u;if(i!==undefined&&typeof i!="string")throw new Error("$schema must be a string");if(i=i||this._opts.defaultMeta||et(this),!i)return this.logger.warn("meta-schema not available"),this.errors=null,!0;if(r=this.validate(i,n),!r&&t)if(u="schema is invalid: "+this.errorsText(),this._opts.validateSchema=="log")this.logger.error(u);else throw new Error(u);return r}function et(n){var t=n._opts.meta;return n._opts.defaultMeta=typeof t=="object"?n._getId(t)||t:n.getSchema(e)?e:undefined,n._opts.defaultMeta}function ot(n){var t=p(this,n);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return st(this,n)}}function st(n,t){var i=u.schema.call(n,{schema:{}},t);if(i){var r=i.schema,f=i.root,e=i.baseId,o=c.call(n,r,f,undefined,e);return n._fragments[t]=new l({ref:t,fragment:!0,schema:r,root:f,baseId:e,validate:o}),o}}function p(n,t){return t=u.normalizeId(t),n._schemas[t]||n._refs[t]||n._fragments[t]}function ht(n){var i,r,f,t;if(n instanceof RegExp)return o(this,this._schemas,n),o(this,this._refs,n),this;switch(typeof n){case"undefined":return o(this,this._schemas),o(this,this._refs),this._cache.clear(),this;case"string":return i=p(this,n),i&&this._cache.del(i.cacheKey),delete this._schemas[n],delete this._refs[n],this;case"object":r=this._opts.serialize;f=r?r(n):n;this._cache.del(f);t=this._getId(n);t&&(t=u.normalizeId(t),delete this._schemas[t],delete this._refs[t])}return this}function o(n,t,i){var r,u;for(r in t)u=t[r],u.meta||i&&!i.test(r)||(n._cache.del(u.cacheKey),delete t[r])}function ct(n,t,i,r){var f,s,a,v,e;if(typeof n!="object"&&typeof n!="boolean")throw new Error("schema should be object or boolean");var h=this._opts.serialize,o=h?h(n):n,c=this._cache.get(o);return c?c:(r=r||this._opts.addUsedSchema!==!1,f=u.normalizeId(this._getId(n)),f&&r&&w(this,f),s=this._opts.validateSchema!==!1&&!t,!s||(a=f&&f==u.normalizeId(n.$schema))||this.validateSchema(n,!0),v=u.ids.call(this,n),e=new l({id:f,schema:n,localRefs:v,cacheKey:o,meta:i}),f[0]!="#"&&r&&(this._refs[f]=e),this._cache.put(o,e),s&&a&&this.validateSchema(n,!0),e)}function lt(n,t){function i(){var t=n.validate,r=t.apply(this,arguments);return i.errors=t.errors,r}var u,r;if(n.compiling)return n.validate=i,i.schema=n.schema,i.errors=null,i.root=t?t:i,n.schema.$async===!0&&(i.$async=!0),i;n.compiling=!0;n.meta&&(u=this._opts,this._opts=this._metaOpts);try{r=c.call(this,n.schema,t,n.localRefs)}catch(f){delete n.validate;throw f;}finally{n.compiling=!1;n.meta&&(this._opts=u)}return n.validate=r,n.refs=r.refs,n.refVal=r.refVal,n.root=r.root,r}function at(n){switch(n.schemaId){case"auto":return pt;case"id":return vt;default:return yt}}function vt(n){return n.$id&&this.logger.warn("schema $id ignored",n.$id),n.id}function yt(n){return n.id&&this.logger.warn("schema id ignored",n.id),n.$id}function pt(n){if(n.$id&&n.id&&n.$id!=n.id)throw new Error("schema $id is different from id");return n.$id||n.id}function wt(n,t){var i,r;if(n=n||this.errors,!n)return"No errors";t=t||{};var u=t.separator===undefined?", ":t.separator,e=t.dataVar===undefined?"data":t.dataVar,f="";for(i=0;i<n.length;i++)r=n[i],r&&(f+=e+r.dataPath+" "+r.message+u);return f.slice(0,-u.length)}function bt(n,t){return typeof t=="string"&&(t=new RegExp(t)),this._formats[n]=t,this}function kt(n){var r,t;(n._opts.$data&&(r=i(63),n.addMetaSchema(r,r.$id,!0)),n._opts.meta!==!1)&&(t=i(19),n._opts.$data&&(t=a(t,nt)),n.addMetaSchema(t,e,!0),n._refs["http://json-schema.org/schema"]=e)}function dt(n){var t=n._opts.schemas,i;if(t)if(Array.isArray(t))n.addSchema(t);else for(i in t)n.addSchema(t[i],i)}function gt(n){var t,i;for(t in n._opts.formats)i=n._opts.formats[t],n.addFormat(t,i)}function w(n,t){if(n._schemas[t]||n._refs[t])throw new Error('schema with key or id "'+t+'" already exists');}function ni(n){for(var i=v.copy(n._opts),t=0;t<y.length;t++)delete i[y[t]];return i}function ti(n){var t=n._opts.logger;if(t===!1)n.logger={log:h,warn:h,error:h};else{if(t===undefined&&(t=console),!(typeof t=="object"&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");n.logger=t}}function h(){}var c=i(31),u=i(6),b=i(35),l=i(12),k=i(13),d=i(36),g=i(37),a=i(58),v=i(3),f,s;n.exports=r;r.prototype.validate=tt;r.prototype.compile=it;r.prototype.addSchema=rt;r.prototype.addMetaSchema=ut;r.prototype.validateSchema=ft;r.prototype.getSchema=ot;r.prototype.removeSchema=ht;r.prototype.addFormat=bt;r.prototype.errorsText=wt;r.prototype._addSchema=ct;r.prototype._compile=lt;r.prototype.compileAsync=i(59);f=i(60);r.prototype.addKeyword=f.add;r.prototype.getKeyword=f.get;r.prototype.removeKeyword=f.remove;r.prototype.validateKeyword=f.validate;s=i(8);r.ValidationError=s.Validation;r.MissingRefError=s.MissingRef;r.$dataMetaSchema=a;var e="http://json-schema.org/draft-07/schema",y=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],nt=["/properties"]},function(n,t,i){"use strict";function e(n,t,i,h){function pt(){var n=et.validate,t=n.apply(this,arguments);return pt.errors=n.errors,t}function wt(n,i,h,c){var tt=!i||i&&i.schema==n,it,p,y,et;if(i.schema!=t.schema)return e.call(g,n,i,h,c);it=n.$async===!0;p=s({isTop:!0,schema:n,isRoot:tt,baseId:c,root:i,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:o.MissingRef,RULES:lt,validate:s,util:u,resolve:r,resolveRef:kt,usePattern:ni,useDefault:ti,useCustomRule:ii,opts:rt,formats:ct,logger:g.logger,self:g});p=f(nt,k)+f(ot,w)+f(ft,b)+f(st,d)+p;rt.processCode&&(p=rt.processCode(p));try{et=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",p);y=et(g,lt,ct,t,nt,ft,st,a,l,v);nt[0]=y}catch(ht){g.logger.error("Error compiling schema, function code:",p);throw ht;}return y.schema=n,y.errors=null,y.refs=ut,y.refVal=nt,y.root=tt?y:i,it&&(y.$async=!0),rt.sourceCode===!0&&(y.source={code:p,patterns:ot,defaults:ft}),y}function kt(n,u,f){var l,h,o,a,s,c;if(u=r.url(n,u),l=ut[u],l!==undefined)return h=nt[l],o="refVal["+l+"]",at(h,o);if(!f&&t.refs&&(a=t.refs[u],a!==undefined))return h=t.refVal[a],o=bt(u,h),at(h,o);if(o=bt(u),s=r.call(g,wt,t,u),s===undefined&&(c=i&&i[u],c&&(s=r.inlineRef(c,rt.inlineRefs)?c:e.call(g,c,t,i,n))),s===undefined)dt(u);else return gt(u,s),at(s,o)}function bt(n,t){var i=nt.length;return nt[i]=t,ut[n]=i,"refVal"+i}function dt(n){delete ut[n]}function gt(n,t){var i=ut[n];nt[i]=t}function at(n,t){return typeof n=="object"||typeof n=="boolean"?{code:t,schema:n,inline:!0}:{code:t,$async:n&&!!n.$async}}function ni(n){var t=vt[n];return t===undefined&&(t=vt[n]=ot.length,ot[t]=n),"pattern"+t}function ti(n){switch(typeof n){case"boolean":case"number":return""+n;case"string":return u.toQuotedString(n);case"object":if(n===null)return"null";var i=c(n),t=yt[i];return t===undefined&&(t=yt[i]=ft.length,ft[t]=n),"default"+t}}function ii(n,t,i,r){var f,e,h,o,s;if(g._opts.validateSchema!==!1){if(f=n.definition.dependencies,f&&!f.every(function(n){return Object.prototype.hasOwnProperty.call(i,n)}))throw new Error("parent schema must have all required keywords: "+f.join(","));if(e=n.definition.validateSchema,e&&(h=e(t),!h))if(o="keyword schema is invalid: "+g.errorsText(e.errors),g._opts.validateSchema=="log")g.logger.error(o);else throw new Error(o);}var c=n.definition.compile,l=n.definition.inline,a=n.definition.macro,u;if(c)u=c.call(g,t,i,r);else if(a)u=a.call(g,t,i,r),rt.validateSchema!==!1&&g.validateSchema(u,!0);else if(l)u=l.call(g,r,n.keyword,t,i);else if(u=n.definition.validate,!u)return;if(u===undefined)throw new Error('custom keyword "'+n.keyword+'"failed to compile');return s=st.length,st[s]=u,{code:"customRule"+s,validate:u}}var g=this,rt=this._opts,nt=[undefined],ut={},ot=[],vt={},ft=[],yt={},st=[],ht,et,ct,lt,tt,it;if(t=t||{schema:n,refVal:nt,refs:ut},ht=y.call(this,n,t,h),et=this._compilations[ht.index],ht.compiling)return et.callValidate=pt;ct=this._formats;lt=this.RULES;try{return tt=wt(n,t,i,h),et.validate=tt,it=et.callValidate,it&&(it.schema=tt.schema,it.errors=null,it.refs=tt.refs,it.refVal=tt.refVal,it.root=tt.root,it.$async=tt.$async,rt.sourceCode&&(it.source=tt.source)),tt}finally{p.call(this,n,t,h)}}function y(n,t,i){var r=h.call(this,n,t,i);return r>=0?{index:r,compiling:!0}:(r=this._compilations.length,this._compilations[r]={schema:n,root:t,baseId:i},{index:r,compiling:!1})}function p(n,t,i){var r=h.call(this,n,t,i);r>=0&&this._compilations.splice(r,1)}function h(n,t,i){for(var u,r=0;r<this._compilations.length;r++)if(u=this._compilations[r],u.schema==n&&u.root==t&&u.baseId==i)return r;return-1}function w(n,t){return"var pattern"+n+" = new RegExp("+u.toQuotedString(t[n])+");"}function b(n){return"var default"+n+" = defaults["+n+"];"}function k(n,t){return t[n]===undefined?"":"var refVal"+n+" = refVal["+n+"];"}function d(n){return"var customRule"+n+" = customRules["+n+"];"}function f(n,t){var r,i;if(!n.length)return"";for(r="",i=0;i<n.length;i++)r+=t(i,n);return r}var r=i(6),u=i(3),o=i(8),c=i(13),s=i(14),l=u.ucs2length,a=i(7),v=o.Validation;n.exports=e},function(n,t){
/** @license URI.js v4.2.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
(function(n,i){i(t)})(this,function(n){"use strict";function i(){for(var r,t,u=arguments.length,n=Array(u),i=0;i<u;i++)n[i]=arguments[i];if(n.length>1){for(n[0]=n[0].slice(0,-1),r=n.length-1,t=1;t<r;++t)n[t]=n[t].slice(1,-1);return n[r]=n[r].slice(1),n.join("")}return n[0]}function t(n){return"(?:"+n+")"}function tt(n){return n===undefined?"undefined":n===null?"null":Object.prototype.toString.call(n).split(" ").pop().split("]").shift().toLowerCase()}function l(n){return n.toUpperCase()}function ci(n){return n!==undefined&&n!==null?n instanceof Array?n:typeof n.length!="number"||n.split||n.setInterval||n.call?[n]:Array.prototype.slice.call(n):[]}function li(n,t){var r=n,i;if(t)for(i in t)r[i]=t[i];return r}function ct(n){var d="[A-Za-z]",u="[0-9]",e=i(u,"[A-Fa-f]"),c=t(t("%[EFef]"+e+"%"+e+e+"%"+e+e)+"|"+t("%[89A-Fa-f]"+e+"%"+e+e)+"|"+t("%"+e+e)),o="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",lt=i("[\\:\\/\\?\\#\\[\\]\\@]",o),at=n?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",et=n?"[\\uE000-\\uF8FF]":"[]",f=i(d,u,"[\\-\\.\\_\\~]",at),g=t(d+i(d,u,"[\\+\\-\\.]")+"*"),y=t(t(c+"|"+i(f,o,"[\\:]"))+"*"),hi=t(t("25[0-5]")+"|"+t("2[0-4]"+u)+"|"+t("1"+u+u)+"|"+t("[1-9]"+u)+"|"+u),nt=t(t("25[0-5]")+"|"+t("2[0-4]"+u)+"|"+t("1"+u+u)+"|"+t("0?[1-9]"+u)+"|0?0?"+u),rt=t(nt+"\\."+nt+"\\."+nt+"\\."+nt),r=t(e+"{1,4}"),h=t(t(r+"\\:"+r)+"|"+rt),vt=t(t(r+"\\:")+"{6}"+h),yt=t("\\:\\:"+t(r+"\\:")+"{5}"+h),pt=t(t(r)+"?\\:\\:"+t(r+"\\:")+"{4}"+h),wt=t(t(t(r+"\\:")+"{0,1}"+r)+"?\\:\\:"+t(r+"\\:")+"{3}"+h),bt=t(t(t(r+"\\:")+"{0,2}"+r)+"?\\:\\:"+t(r+"\\:")+"{2}"+h),kt=t(t(t(r+"\\:")+"{0,3}"+r)+"?\\:\\:"+r+"\\:"+h),dt=t(t(t(r+"\\:")+"{0,4}"+r)+"?\\:\\:"+h),gt=t(t(t(r+"\\:")+"{0,5}"+r)+"?\\:\\:"+r),ni=t(t(t(r+"\\:")+"{0,6}"+r)+"?\\:\\:"),tt=t([vt,yt,pt,wt,bt,kt,dt,gt,ni].join("|")),ut=t(t(f+"|"+c)+"+"),ci=t(tt+"\\%25"+ut),ti=t(tt+t("\\%25|\\%(?!"+e+"{2})")+ut),ii=t("[vV]"+e+"+\\."+i(f,o,"[\\:]")+"+"),ri=t("\\["+t(ti+"|"+tt+"|"+ii)+"\\]"),ot=t(t(c+"|"+i(f,o))+"*"),p=t(ri+"|"+rt+"(?!"+ot+")|"+ot),w=t(u+"*"),st=t(t(y+"@")+"?"+p+t("\\:"+w)+"?"),b=t(c+"|"+i(f,o,"[\\:\\@]")),ui=t(b+"*"),ht=t(b+"+"),fi=t(t(c+"|"+i(f,o,"[\\@]"))+"+"),s=t(t("\\/"+ui)+"*"),l=t("\\/"+t(ht+s)+"?"),ft=t(fi+s),it=t(ht+s),a="(?!"+b+")",li=t(s+"|"+l+"|"+ft+"|"+it+"|"+a),v=t(t(b+"|"+i("[\\/\\?]",et))+"*"),k=t(t(b+"|[\\/\\?]")+"*"),ct=t(t("\\/\\/"+st+s)+"|"+l+"|"+it+"|"+a),ei=t(g+"\\:"+ct+t("\\?"+v)+"?"+t("\\#"+k)+"?"),oi=t(t("\\/\\/"+st+s)+"|"+l+"|"+ft+"|"+a),si=t(oi+t("\\?"+v)+"?"+t("\\#"+k)+"?"),ai=t(ei+"|"+si),vi=t(g+"\\:"+ct+t("\\?"+v)+"?"),yi="^("+g+")\\:"+t(t("\\/\\/("+t("("+y+")@")+"?("+p+")"+t("\\:("+w+")")+"?)")+"?("+s+"|"+l+"|"+it+"|"+a+")")+t("\\?("+v+")")+"?"+t("\\#("+k+")")+"?$",pi="^(){0}"+t(t("\\/\\/("+t("("+y+")@")+"?("+p+")"+t("\\:("+w+")")+"?)")+"?("+s+"|"+l+"|"+ft+"|"+a+")")+t("\\?("+v+")")+"?"+t("\\#("+k+")")+"?$",wi="^("+g+")\\:"+t(t("\\/\\/("+t("("+y+")@")+"?("+p+")"+t("\\:("+w+")")+"?)")+"?("+s+"|"+l+"|"+it+"|"+a+")")+t("\\?("+v+")")+"?$",bi="^"+t("\\#("+k+")")+"?$",ki="^"+t("("+y+")@")+"?("+p+")"+t("\\:("+w+")")+"?$";return{NOT_SCHEME:new RegExp(i("[^]",d,u,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(i("[^\\%\\:]",f,o),"g"),NOT_HOST:new RegExp(i("[^\\%\\[\\]\\:]",f,o),"g"),NOT_PATH:new RegExp(i("[^\\%\\/\\:\\@]",f,o),"g"),NOT_PATH_NOSCHEME:new RegExp(i("[^\\%\\/\\@]",f,o),"g"),NOT_QUERY:new RegExp(i("[^\\%]",f,o,"[\\:\\@\\/\\?]",et),"g"),NOT_FRAGMENT:new RegExp(i("[^\\%]",f,o,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(i("[^]",f,o),"g"),UNRESERVED:new RegExp(f,"g"),OTHER_CHARS:new RegExp(i("[^\\%]",f,lt),"g"),PCT_ENCODED:new RegExp(c,"g"),IPV4ADDRESS:new RegExp("^("+rt+")$"),IPV6ADDRESS:new RegExp("^\\[?("+tt+")"+t(t("\\%25|\\%(?!"+e+"{2})")+"("+ut+")")+"?\\]?$")}}function a(n){throw new RangeError(ki[n]);}function di(n,t){for(var r=[],i=n.length;i--;)r[i]=t(n[i]);return r}function yt(n,t){var i=n.split("@"),r="",u,f;return i.length>1&&(r=i[0]+"@",n=i[1]),n=n.replace(bi,"."),u=n.split("."),f=di(u,t).join("."),r+f}function pt(n){for(var r=[],i=0,f=n.length,t,u;i<f;)t=n.charCodeAt(i++),t>=55296&&t<=56319&&i<f?(u=n.charCodeAt(i++),(u&64512)==56320?r.push(((t&1023)<<10)+(u&1023)+65536):(r.push(t),i--)):r.push(t);return r}function e(n){var t=n.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(t&63|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(t&63|128).toString(16).toUpperCase()}function w(n){for(var r="",t=0,u=n.length,i,f,e,o;t<u;)i=parseInt(n.substr(t+1,2),16),i<128?(r+=String.fromCharCode(i),t+=3):i>=194&&i<224?(u-t>=6?(f=parseInt(n.substr(t+4,2),16),r+=String.fromCharCode((i&31)<<6|f&63)):r+=n.substr(t,6),t+=6):i>=224?(u-t>=9?(e=parseInt(n.substr(t+4,2),16),o=parseInt(n.substr(t+7,2),16),r+=String.fromCharCode((i&15)<<12|(e&63)<<6|o&63)):r+=n.substr(t,9),t+=9):(r+=n.substr(t,3),t+=3);return r}function et(n,t){function i(n){var i=w(n);return i.match(t.UNRESERVED)?i:n}return n.scheme&&(n.scheme=String(n.scheme).replace(t.PCT_ENCODED,i).toLowerCase().replace(t.NOT_SCHEME,"")),n.userinfo!==undefined&&(n.userinfo=String(n.userinfo).replace(t.PCT_ENCODED,i).replace(t.NOT_USERINFO,e).replace(t.PCT_ENCODED,l)),n.host!==undefined&&(n.host=String(n.host).replace(t.PCT_ENCODED,i).toLowerCase().replace(t.NOT_HOST,e).replace(t.PCT_ENCODED,l)),n.path!==undefined&&(n.path=String(n.path).replace(t.PCT_ENCODED,i).replace(n.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,e).replace(t.PCT_ENCODED,l)),n.query!==undefined&&(n.query=String(n.query).replace(t.PCT_ENCODED,i).replace(t.NOT_QUERY,e).replace(t.PCT_ENCODED,l)),n.fragment!==undefined&&(n.fragment=String(n.fragment).replace(t.PCT_ENCODED,i).replace(t.NOT_FRAGMENT,e).replace(t.PCT_ENCODED,l)),n}function ot(n){return n.replace(/^0*(.*)/,"$1")||"0"}function st(n,t){var r=n.match(t.IPV4ADDRESS)||[],u=it(r,2),i=u[1];return i?i.split(".").map(ot).join("."):n}function gt(n,t){var w=n.match(t.IPV6ADDRESS)||[],s=it(w,3),h=s[1],c=s[2],r,y,p;if(h){var b=h.toLowerCase().split("::").reverse(),l=it(b,2),k=l[0],a=l[1],d=a?a.split(":").map(ot):[],e=k.split(":").map(ot),v=t.IPV4ADDRESS.test(e[e.length-1]),u=v?7:8,g=e.length-u,i=Array(u);for(r=0;r<u;++r)i[r]=d[r]||e[g+r]||"";v&&(i[u-1]=st(i[u-1],t));var nt=i.reduce(function(n,t,i){if(!t||t==="0"){var r=n[n.length-1];r&&r.index+r.length===i?r.length++:n.push({index:i,length:1})}return n},[]),f=nt.sort(function(n,t){return t.length-n.length})[0],o=void 0;return f&&f.length>1?(y=i.slice(0,f.index),p=i.slice(f.index+f.length),o=y.join(":")+"::"+p.join(":")):o=i.join(":"),c&&(o+="%"+c),o}return n}function h(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},t={},e=r.iri!==!1?d:v,i,u;if(r.reference==="suffix"&&(n=(r.scheme?r.scheme+":":"")+"//"+n),i=n.match(rr),i){if(ur?(t.scheme=i[1],t.userinfo=i[3],t.host=i[4],t.port=parseInt(i[5],10),t.path=i[6]||"",t.query=i[7],t.fragment=i[8],isNaN(t.port)&&(t.port=i[5])):(t.scheme=i[1]||undefined,t.userinfo=n.indexOf("@")!==-1?i[3]:undefined,t.host=n.indexOf("//")!==-1?i[4]:undefined,t.port=parseInt(i[5],10),t.path=i[6]||"",t.query=n.indexOf("?")!==-1?i[7]:undefined,t.fragment=n.indexOf("#")!==-1?i[8]:undefined,isNaN(t.port)&&(t.port=n.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:undefined)),t.host&&(t.host=gt(st(t.host,e),e)),t.reference=t.scheme!==undefined||t.userinfo!==undefined||t.host!==undefined||t.port!==undefined||t.path||t.query!==undefined?t.scheme===undefined?"relative":t.fragment===undefined?"absolute":"uri":"same-document",r.reference&&r.reference!=="suffix"&&r.reference!==t.reference&&(t.error=t.error||"URI is not a "+r.reference+" reference."),u=f[(r.scheme||t.scheme||"").toLowerCase()],r.unicodeSupport||u&&u.unicodeSupport)et(t,e);else{if(t.host&&(r.domainHost||u&&u.domainHost))try{t.host=p.toASCII(t.host.replace(e.PCT_ENCODED,w).toLowerCase())}catch(o){t.error=t.error||"Host's domain name can not be converted to ASCII via punycode: "+o}et(t,v)}u&&u.parse&&u.parse(t,r)}else t.error=t.error||"URI can not be parsed.";return t}function fr(n,t){var r=t.iri!==!1?d:v,i=[];return n.userinfo!==undefined&&(i.push(n.userinfo),i.push("@")),n.host!==undefined&&i.push(gt(st(String(n.host),r),r).replace(r.IPV6ADDRESS,function(n,t,i){return"["+t+(i?"%25"+i:"")+"]"})),typeof n.port=="number"&&(i.push(":"),i.push(n.port.toString(10))),i.length?i.join(""):undefined}function b(n){for(var t=[],i,r;n.length;)if(n.match(ni))n=n.replace(ni,"");else if(n.match(ti))n=n.replace(ti,"/");else if(n.match(ii))n=n.replace(ii,"/"),t.pop();else if(n==="."||n==="..")n="";else if(i=n.match(er),i)r=i[0],n=n.slice(r.length),t.push(r);else throw new Error("Unexpected dot segment condition");return t.join("")}function o(n){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},o=i.iri?d:v,t=[],r=f[(i.scheme||n.scheme||"").toLowerCase()],e,u;if(r&&r.serialize&&r.serialize(n,i),n.host&&!o.IPV6ADDRESS.test(n.host)&&(i.domainHost||r&&r.domainHost))try{n.host=i.iri?p.toUnicode(n.host):p.toASCII(n.host.replace(o.PCT_ENCODED,w).toLowerCase())}catch(s){n.error=n.error||"Host's domain name can not be converted to "+(i.iri?"Unicode":"ASCII")+" via punycode: "+s}return et(n,o),i.reference!=="suffix"&&n.scheme&&(t.push(n.scheme),t.push(":")),e=fr(n,i),e!==undefined&&(i.reference!=="suffix"&&t.push("//"),t.push(e),n.path&&n.path.charAt(0)!=="/"&&t.push("/")),n.path!==undefined&&(u=n.path,i.absolutePath||r&&r.absolutePath||(u=b(u)),e===undefined&&(u=u.replace(/^\/\//,"/%2F")),t.push(u)),n.query!==undefined&&(t.push("?"),t.push(n.query)),n.fragment!==undefined&&(t.push("#"),t.push(n.fragment)),t.join("")}function ri(n,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},u=arguments[3],i={};return u||(n=h(o(n,r),r),t=h(o(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=b(t.path||""),i.query=t.query):(t.userinfo!==undefined||t.host!==undefined||t.port!==undefined?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=b(t.path||""),i.query=t.query):(t.path?(t.path.charAt(0)==="/"?i.path=b(t.path):(i.path=n.userinfo===undefined&&n.host===undefined&&n.port===undefined||n.path?n.path?n.path.slice(0,n.path.lastIndexOf("/")+1)+t.path:t.path:"/"+t.path,i.path=b(i.path)),i.query=t.query):(i.path=n.path,i.query=t.query!==undefined?t.query:n.query),i.userinfo=n.userinfo,i.host=n.host,i.port=n.port),i.scheme=n.scheme),i.fragment=t.fragment,i}function or(n,t,i){var r=li({scheme:"null"},i);return o(ri(h(n,r),h(t,r),r,!0),r)}function sr(n,t){return typeof n=="string"?n=o(h(n,t),t):tt(n)==="object"&&(n=h(o(n,t),t)),n}function hr(n,t,i){return typeof n=="string"?n=o(h(n,i),i):tt(n)==="object"&&(n=o(n,i)),typeof t=="string"?t=o(h(t,i),i):tt(t)==="object"&&(t=o(t,i)),n===t}function cr(n,t){return n&&n.toString().replace(!t||!t.iri?v.ESCAPE:d.ESCAPE,e)}function c(n,t){return n&&n.toString().replace(!t||!t.iri?v.PCT_ENCODED:d.PCT_ENCODED,w)}function ht(n){var t=w(n);return t.match(yr)?t:n}var v=ct(!1),d=ct(!0),it=function(){function n(n,t){var r=[],u=!0,f=!1,e=undefined,i,o;try{for(i=n[Symbol.iterator]();!(u=(o=i.next()).done);u=!0)if(r.push(o.value),t&&r.length===t)break}catch(s){f=!0;e=s}finally{try{!u&&i["return"]&&i["return"]()}finally{if(f)throw e;}}return r}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),ai=function(n){if(Array.isArray(n)){for(var t=0,i=Array(n.length);t<n.length;t++)i[t]=n[t];return i}return Array.from(n)},y=2147483647,r=36,rt=1,g=26,vi=38,yi=700,lt=72,at=128,vt="-",pi=/^xn--/,wi=/[^\0-\x7E]/,bi=/[\x2E\u3002\uFF0E\uFF61]/g,ki={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ut=r-rt,u=Math.floor,ft=String.fromCharCode,gi=function(n){return String.fromCodePoint.apply(String,ai(n))},nr=function(n){return n-48<10?n-22:n-65<26?n-65:n-97<26?n-97:r},wt=function(n,t){return n+22+75*(n<26)-((t!=0)<<5)},bt=function(n,t,i){var f=0;for(n=i?u(n/yi):n>>1,n+=u(n/t);n>ut*g>>1;f+=r)n=u(n/ut);return u(f+(ut+1)*n/(n+vi))},kt=function(n){var c=[],d=n.length,t=0,p=at,l=lt,i=n.lastIndexOf(vt),f,v,w,e,o,s,b,k,h;for(i<0&&(i=0),f=0;f<i;++f)n.charCodeAt(f)>=128&&a("not-basic"),c.push(n.charCodeAt(f));for(v=i>0?i+1:0;v<d;){for(w=t,e=1,o=r;;o+=r){if(v>=d&&a("invalid-input"),s=nr(n.charCodeAt(v++)),(s>=r||s>u((y-t)/e))&&a("overflow"),t+=s*e,b=o<=l?rt:o>=l+g?g:o-l,s<b)break;k=r-b;e>u(y/k)&&a("overflow");e*=k}h=c.length+1;l=bt(t-w,h,w==0);u(t/h)>y-p&&a("overflow");p+=u(t/h);t%=h;c.splice(t++,0,p)}return String.fromCodePoint.apply(String,c)},dt=function(n){var f=[],v,kt,tt,p,e,w,ni,b,k,d,ri,ot,s,h,c,st,ht;n=pt(n);var ui=n.length,t=at,i=0,l=lt,nt=!0,ct=!1,yt=undefined;try{for(v=n[Symbol.iterator]();!(nt=(kt=v.next()).done);nt=!0)tt=kt.value,tt<128&&f.push(ft(tt))}catch(it){ct=!0;yt=it}finally{try{!nt&&v["return"]&&v["return"]()}finally{if(ct)throw yt;}}for(p=f.length,e=p,p&&f.push(vt);e<ui;){var o=y,ut=!0,dt=!1,gt=undefined;try{for(w=n[Symbol.iterator]();!(ut=(ni=w.next()).done);ut=!0)b=ni.value,b>=t&&b<o&&(o=b)}catch(it){dt=!0;gt=it}finally{try{!ut&&w["return"]&&w["return"]()}finally{if(dt)throw gt;}}k=e+1;o-t>u((y-i)/k)&&a("overflow");i+=(o-t)*k;t=o;var et=!0,ti=!1,ii=undefined;try{for(d=n[Symbol.iterator]();!(et=(ri=d.next()).done);et=!0)if(ot=ri.value,ot<t&&++i>y&&a("overflow"),ot==t){for(s=i,h=r;;h+=r){if(c=h<=l?rt:h>=l+g?g:h-l,s<c)break;st=s-c;ht=r-c;f.push(ft(wt(c+st%ht,0)));s=u(st/ht)}f.push(ft(wt(s,0)));l=bt(i,k,e==p);i=0;++e}}catch(it){ti=!0;ii=it}finally{try{!et&&d["return"]&&d["return"]()}finally{if(ti)throw ii;}}++i;++t}return f.join("")},tr=function(n){return yt(n,function(n){return pi.test(n)?kt(n.slice(4).toLowerCase()):n})},ir=function(n){return yt(n,function(n){return wi.test(n)?"xn--"+dt(n):n})},p={version:"2.1.0",ucs2:{decode:pt,encode:gi},decode:kt,encode:dt,toASCII:ir,toUnicode:tr},f={},rr=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,ur="".match(/(){0}/)[1]===undefined,ni=/^\.\.?\//,ti=/^\/\.(\/|$)/,ii=/^\/\.\.(\/|$)/,er=/^\/?(?:.|\n)*?(?=\/|$)/,nt={scheme:"http",domainHost:!0,parse:function(n){return n.host||(n.error=n.error||"HTTP URIs must have a host."),n},serialize:function(n){return(n.port===(String(n.scheme).toLowerCase()!=="https"?80:443)||n.port==="")&&(n.port=undefined),n.path||(n.path="/"),n}},ui={scheme:"https",domainHost:nt.domainHost,parse:nt.parse,serialize:nt.serialize},lr={},fi="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",s="[0-9A-Fa-f]",ar=t(t("%[EFef]"+s+"%"+s+s+"%"+s+s)+"|"+t("%[89A-Fa-f]"+s+"%"+s+s)+"|"+t("%"+s+s)),vr=i("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),yr=new RegExp(fi,"g"),k=new RegExp(ar,"g"),pr=new RegExp(i("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',vr),"g"),ei=new RegExp(i("[^]",fi,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),wr=ei,oi={scheme:"mailto",parse:function(n,t){var i=n,e=i.to=i.path?i.path.split(","):[],o,y,u,h,s,w,f,b,r;if(i.path=undefined,i.query){var l=!1,a={},v=i.query.split("&");for(o=0,y=v.length;o<y;++o){u=v[o].split("=");switch(u[0]){case"to":for(h=u[1].split(","),s=0,w=h.length;s<w;++s)e.push(h[s]);break;case"subject":i.subject=c(u[1],t);break;case"body":i.body=c(u[1],t);break;default:l=!0;a[c(u[0],t)]=c(u[1],t)}}l&&(i.headers=a)}for(i.query=undefined,f=0,b=e.length;f<b;++f){if(r=e[f].split("@"),r[0]=c(r[0]),t.unicodeSupport)r[1]=c(r[1],t).toLowerCase();else try{r[1]=p.toASCII(c(r[1],t).toLowerCase())}catch(k){i.error=i.error||"Email address's domain name can not be converted to ASCII via punycode: "+k}e[f]=r.join("@")}return i},serialize:function(n,t){var r=n,u=ci(n.to),f,v,i,h,o;if(u){for(f=0,v=u.length;f<v;++f){var a=String(u[f]),y=a.lastIndexOf("@"),w=a.slice(0,y).replace(k,ht).replace(k,l).replace(pr,e),s=a.slice(y+1);try{s=t.iri?p.toUnicode(s):p.toASCII(c(s,t).toLowerCase())}catch(b){r.error=r.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+b}u[f]=w+"@"+s}r.path=u.join(",")}i=n.headers=n.headers||{};n.subject&&(i.subject=n.subject);n.body&&(i.body=n.body);h=[];for(o in i)i[o]!==lr[o]&&h.push(o.replace(k,ht).replace(k,l).replace(ei,e)+"="+i[o].replace(k,ht).replace(k,l).replace(wr,e));return h.length&&(r.query=h.join("&")),r}},br=/^([^\:]+)\:(.*)/,si={scheme:"urn",parse:function(n,t){var r=n.path&&n.path.match(br),i=n;if(r){var o=t.scheme||i.scheme||"urn",u=r[1].toLowerCase(),s=r[2],h=o+":"+(t.nid||u),e=f[h];i.nid=u;i.nss=s;i.path=undefined;e&&(i=e.parse(i,t))}else i.error=i.error||"URN can not be parsed.";return i},serialize:function(n,t){var o=t.scheme||n.scheme||"urn",r=n.nid,s=o+":"+(t.nid||r),u=f[s],i,e;return u&&(n=u.serialize(n,t)),i=n,e=n.nss,i.path=(r||t.nid)+":"+e,i}},kr=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,hi={scheme:"urn:uuid",parse:function(n,t){var i=n;return i.uuid=i.nss,i.nss=undefined,t.tolerant||i.uuid&&i.uuid.match(kr)||(i.error=i.error||"UUID is not valid."),i},serialize:function(n){var t=n;return t.nss=(n.uuid||"").toLowerCase(),t}};f[nt.scheme]=nt;f[ui.scheme]=ui;f[oi.scheme]=oi;f[si.scheme]=si;f[hi.scheme]=hi;n.SCHEMES=f;n.pctEncChar=e;n.pctDecChars=w;n.parse=h;n.removeDotSegments=b;n.serialize=o;n.resolveComponents=ri;n.resolve=or;n.normalize=sr;n.equal=hr;n.escapeComponent=cr;n.unescapeComponent=c;Object.defineProperty(n,"__esModule",{value:!0})})},function(n){"use strict";n.exports=function(n){for(var r=0,u=n.length,t=0,i;t<u;)r++,i=n.charCodeAt(t++),i>=55296&&i<=56319&&t<u&&(i=n.charCodeAt(t),(i&64512)==56320&&t++);return r}},function(n){"use strict";function i(n,u,f,e,o,s,h,c,l,a){var v,y,p,w;if(e&&typeof e=="object"&&!Array.isArray(e)){u(e,o,s,h,c,l,a);for(v in e)if(y=e[v],Array.isArray(y)){if(v in t.arrayKeywords)for(p=0;p<y.length;p++)i(n,u,f,y[p],o+"/"+v+"/"+p,s,o,v,e,p)}else if(v in t.propsKeywords){if(y&&typeof y=="object")for(w in y)i(n,u,f,y[w],o+"/"+v+"/"+r(w),s,o,v,e,w)}else(v in t.keywords||n.allKeys&&!(v in t.skipKeywords))&&i(n,u,f,y,o+"/"+v,s,o,v,e);f(e,o,s,h,c,l,a)}}function r(n){return n.replace(/~/g,"~0").replace(/\//g,"~1")}var t=n.exports=function(n,t,r){typeof t=="function"&&(r=t,t={});r=t.cb||r;var u=typeof r=="function"?r:r.pre||function(){},f=r.post||function(){};i(t,u,f,n,"",n)};t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0};t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};t.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};t.skipKeywords={"default":!0,"enum":!0,"const":!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},function(n){"use strict";var t=n.exports=function(){this._cache={}};t.prototype.put=function(n,t){this._cache[n]=t};t.prototype.get=function(n){return this._cache[n]};t.prototype.del=function(n){delete this._cache[n]};t.prototype.clear=function(){this._cache={}}},function(n,t,i){"use strict";function r(n){return n=n=="full"?"full":"fast",b.copy(r[n])}function tt(n){return n%4==0&&(n%100!=0||n%400==0)}function l(n){var t=n.match(k);if(!t)return!1;var u=+t[1],i=+t[2],r=+t[3];return i>=1&&i<=12&&r>=1&&r<=(i==2&&tt(u)?29:d[i])}function a(n,t){var i=n.match(g);if(!i)return!1;var r=i[1],u=i[2],f=i[3],e=i[5];return(r<=23&&u<=59&&f<=59||r==23&&u==59&&f==60)&&(!t||e)}function it(n){var t=n.split(v);return t.length==2&&l(t[0])&&a(t[1],!0)}function rt(n){return n.length<=255&&u.test(n)}function ut(n){return y.test(n)&&nt.test(n)}function w(n){if(p.test(n))return!1;try{return new RegExp(n),!0}catch(t){return!1}}var b=i(3),k=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,d=[0,31,28,31,30,31,30,31,31,30,31,30,31],g=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,u=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,nt=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,f=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,e=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,o=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,s=/^(?:\/(?:[^~/]|~0|~1)*)*$/,h=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,c=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,v,y,p;n.exports=r;r.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":f,url:e,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:u,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:w,uuid:o,"json-pointer":s,"json-pointer-uri-fragment":h,"relative-json-pointer":c};r.full={date:l,time:a,"date-time":it,uri:ut,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":f,url:e,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:rt,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:w,uuid:o,"json-pointer":s,"json-pointer-uri-fragment":h,"relative-json-pointer":c};v=/t|\s/i;y=/\/|:/;p=/[^\\]\\Z/},function(n,t,i){"use strict";var u=i(38),r=i(3).toHash;n.exports=function(){var n=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return n.all=r(t),n.types=r(["number","integer","string","array","object","boolean","null"]),n.forEach(function(i){i.rules=i.rules.map(function(i){var r,f;return typeof i=="object"&&(f=Object.keys(i)[0],r=i[f],i=f,r.forEach(function(i){t.push(i);n.all[i]=!0})),t.push(i),n.all[i]={keyword:i,code:u[i],"implements":r}});n.all.$comment={keyword:"$comment",code:u.$comment};i.type&&(n.types[i.type]=i)}),n.keywords=r(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),n.custom={},n}},function(n,t,i){"use strict";n.exports={$ref:i(39),allOf:i(40),anyOf:i(41),$comment:i(42),"const":i(43),contains:i(44),dependencies:i(45),"enum":i(46),format:i(47),"if":i(48),items:i(49),maximum:i(15),minimum:i(15),maxItems:i(16),minItems:i(16),maxLength:i(17),minLength:i(17),maxProperties:i(18),minProperties:i(18),multipleOf:i(50),not:i(51),oneOf:i(52),pattern:i(53),properties:i(54),propertyNames:i(55),required:i(56),uniqueItems:i(57),validate:i(14)}},function(n){"use strict";n.exports=function(n,t){var i=" ",g=n.level,h=n.dataLevel,r=n.schema[t],nt=n.errSchemaPath+"/"+t,u=!n.opts.allErrors,p="data"+(h||""),c="valid"+g,l,f,e,a,v,s,w,b,o,k,d,y;if(r=="#"||r=="#/")n.isRoot?(l=n.async,f="validate"):(l=n.root.schema.$async===!0,f="root.refVal[0]");else if(e=n.resolveRef(n.baseId,r,n.isRoot),e===undefined)if(a=n.MissingRefError.message(n.baseId,r),n.opts.missingRefs=="fail")n.logger.error(a),o=o||[],o.push(i),i="",n.createErrors!==!1?(i+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(nt)+" , params: { ref: '"+n.util.escapeQuotes(r)+"' } ",n.opts.messages!==!1&&(i+=" , message: 'can\\'t resolve reference "+n.util.escapeQuotes(r)+"' "),n.opts.verbose&&(i+=" , schema: "+n.util.toQuotedString(r)+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+p+" "),i+=" } "):i+=" {} ",v=i,i=o.pop(),i+=!n.compositeRule&&u?n.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(i+=" if (false) { ");else if(n.opts.missingRefs=="ignore")n.logger.warn(a),u&&(i+=" if (true) { ");else throw new n.MissingRefError(n.baseId,r,a);else e.inline?(s=n.util.copy(n),s.level++,w="valid"+s.level,s.schema=e.schema,s.schemaPath="",s.errSchemaPath=r,b=n.validate(s).replace(/validate\.schema/g,e.code),i+=" "+b+" ",u&&(i+=" if ("+w+") { ")):(l=e.$async===!0||n.async&&e.$async!==!1,f=e.code);if(f)if(o=o||[],o.push(i),i="",i+=n.opts.passContext?" "+f+".call(this, ":" "+f+"( ",i+=" "+p+", (dataPath || '')",n.errorPath!='""'&&(i+=" + "+n.errorPath),k=h?"data"+(h-1||""):"parentData",d=h?n.dataPathArr[h]:"parentDataProperty",i+=" , "+k+" , "+d+", rootData)  ",y=i,i=o.pop(),l){if(!n.async)throw new Error("async schema referenced by sync schema");u&&(i+=" var "+c+"; ");i+=" try { await "+y+"; ";u&&(i+=" "+c+" = true; ");i+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ";u&&(i+=" "+c+" = false; ");i+=" } ";u&&(i+=" if ("+c+") { ")}else i+=" if (!"+y+") { if (vErrors === null) vErrors = "+f+".errors; else vErrors = vErrors.concat("+f+".errors); errors = vErrors.length; } ",u&&(i+=" else { ");return i}},function(n){"use strict";n.exports=function(n,t){var f=" ",l=n.schema[t],a=n.schemaPath+n.util.getProperty(t),v=n.errSchemaPath+"/"+t,o=!n.opts.allErrors,i=n.util.copy(n),s="",r,u,c;i.level++;var y="valid"+i.level,p=i.baseId,h=!0,e=l;if(e)for(u=-1,c=e.length-1;u<c;)r=e[u+=1],(n.opts.strictKeywords?typeof r=="object"&&Object.keys(r).length>0:n.util.schemaHasRules(r,n.RULES.all))&&(h=!1,i.schema=r,i.schemaPath=a+"["+u+"]",i.errSchemaPath=v+"/"+u,f+="  "+n.validate(i)+" ",i.baseId=p,o&&(f+=" if ("+y+") { ",s+="}"));return o&&(f+=h?" if (true) { ":" "+s.slice(0,-1)+" "),n.util.cleanUpCode(f)}},function(n){"use strict";n.exports=function(n,t){var i=" ",s=n.level,g=n.dataLevel,h=n.schema[t],c=n.schemaPath+n.util.getProperty(t),l=n.errSchemaPath+"/"+t,a=!n.opts.allErrors,nt="data"+(g||""),u="valid"+s,e="errs__"+s,r=n.util.copy(n),v="",y,p,w,b,o,k,f,d;if(r.level++,y="valid"+r.level,p=h.every(function(t){return n.opts.strictKeywords?typeof t=="object"&&Object.keys(t).length>0:n.util.schemaHasRules(t,n.RULES.all)}),p){if(w=r.baseId,i+=" var "+e+" = errors; var "+u+" = false;  ",b=n.compositeRule,n.compositeRule=r.compositeRule=!0,o=h,o)for(f=-1,d=o.length-1;f<d;)k=o[f+=1],r.schema=k,r.schemaPath=c+"["+f+"]",r.errSchemaPath=l+"/"+f,i+="  "+n.validate(r)+" ",r.baseId=w,i+=" "+u+" = "+u+" || "+y+"; if (!"+u+") { ",v+="}";n.compositeRule=r.compositeRule=b;i+=" "+v+" if (!"+u+") {   var err =   ";n.createErrors!==!1?(i+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(l)+" , params: {} ",n.opts.messages!==!1&&(i+=" , message: 'should match some schema in anyOf' "),n.opts.verbose&&(i+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+nt+" "),i+=" } "):i+=" {} ";i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";!n.compositeRule&&a&&(i+=n.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; ");i+=" } else {  errors = "+e+"; if (vErrors !== null) { if ("+e+") vErrors.length = "+e+"; else vErrors = null; } ";n.opts.allErrors&&(i+=" } ");i=n.util.cleanUpCode(i)}else a&&(i+=" if (true) { ");return i}},function(n){"use strict";n.exports=function(n,t){var i=" ",u=n.schema[t],f=n.errSchemaPath+"/"+t,e=!n.opts.allErrors,r=n.util.toQuotedString(u);return n.opts.$comment===!0?i+=" console.log("+r+");":typeof n.opts.$comment=="function"&&(i+=" self._opts.$comment("+r+", "+n.util.toQuotedString(f)+", validate.root.schema);"),i}},function(n){"use strict";n.exports=function(n,t){var i=" ",r=n.level,o=n.dataLevel,u=n.schema[t],s=n.schemaPath+n.util.getProperty(t),y=n.errSchemaPath+"/"+t,h=!n.opts.allErrors,c="data"+(o||""),l="valid"+r,a=n.opts.$data&&u&&u.$data,v,f,e;return a?(i+=" var schema"+r+" = "+n.util.getData(u.$data,o,n.dataPathArr)+"; ",v="schema"+r):v=u,a||(i+=" var schema"+r+" = validate.schema"+s+";"),i+="var "+l+" = equal("+c+", schema"+r+"); if (!"+l+") {   ",f=f||[],f.push(i),i="",n.createErrors!==!1?(i+=" { keyword: 'const' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(y)+" , params: { allowedValue: schema"+r+" } ",n.opts.messages!==!1&&(i+=" , message: 'should be equal to constant' "),n.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ",e=i,i=f.pop(),i+=!n.compositeRule&&h?n.async?" throw new ValidationError(["+e+"]); ":" validate.errors = ["+e+"]; return false; ":" var err = "+e+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" }",h&&(i+=" else { "),i}},function(n){"use strict";n.exports=function(n,t){var i=" ",l=n.level,g=n.dataLevel,f=n.schema[t],p=n.schemaPath+n.util.getProperty(t),w=n.errSchemaPath+"/"+t,nt=!n.opts.allErrors,e="data"+(g||""),tt="valid"+l,o="errs__"+l,r=n.util.copy(n),d,y,s,h,c;r.level++;var a="valid"+r.level,u="i"+l,b=r.dataLevel=n.dataLevel+1,v="data"+b,it=n.baseId,k=n.opts.strictKeywords?typeof f=="object"&&Object.keys(f).length>0:n.util.schemaHasRules(f,n.RULES.all);return i+="var "+o+" = errors;var "+tt+";",k?(d=n.compositeRule,n.compositeRule=r.compositeRule=!0,r.schema=f,r.schemaPath=p,r.errSchemaPath=w,i+=" var "+a+" = false; for (var "+u+" = 0; "+u+" < "+e+".length; "+u+"++) { ",r.errorPath=n.util.getPathExpr(n.errorPath,u,n.opts.jsonPointers,!0),y=e+"["+u+"]",r.dataPathArr[b]=u,s=n.validate(r),r.baseId=it,i+=n.util.varOccurences(s,v)<2?" "+n.util.varReplace(s,v,y)+" ":" var "+v+" = "+y+"; "+s+" ",i+=" if ("+a+") break; }  ",n.compositeRule=r.compositeRule=d,i+="  if (!"+a+") {"):i+=" if ("+e+".length == 0) {",h=h||[],h.push(i),i="",n.createErrors!==!1?(i+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(w)+" , params: {} ",n.opts.messages!==!1&&(i+=" , message: 'should contain a valid item' "),n.opts.verbose&&(i+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+e+" "),i+=" } "):i+=" {} ",c=i,i=h.pop(),i+=!n.compositeRule&&nt?n.async?" throw new ValidationError(["+c+"]); ":" validate.errors = ["+c+"]; return false; ":" var err = "+c+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else { ",k&&(i+="  errors = "+o+"; if (vErrors !== null) { if ("+o+") vErrors.length = "+o+"; else vErrors = null; } "),n.opts.allErrors&&(i+=" } "),n.util.cleanUpCode(i)}},function(n){"use strict";n.exports=function(n,t){var i=" ",l=n.level,vt=n.dataLevel,ot=n.schema[t],g=n.schemaPath+n.util.getProperty(t),nt=n.errSchemaPath+"/"+t,h=!n.opts.allErrors,f="data"+(vt||""),st="errs__"+l,o=n.util.copy(n),tt="",r,c,v,y,ct,p,ut,w,ft,b,k,d,e,et,lt,at,u,s;o.level++;var ht="valid"+o.level,it={},rt={},a=n.opts.ownProperties;for(u in ot)s=ot[u],r=Array.isArray(s)?rt:it,r[u]=s;i+="var "+st+" = errors;";c=n.errorPath;i+="var missing"+l+";";for(u in rt)if(r=rt[u],r.length){if(i+=" if ( "+f+n.util.getProperty(u)+" !== undefined ",a&&(i+=" && Object.prototype.hasOwnProperty.call("+f+", '"+n.util.escapeQuotes(u)+"') "),h){if(i+=" && ( ",v=r,v)for(y=-1,ct=v.length-1;y<ct;)e=v[y+=1],y&&(i+=" || "),p=n.util.getProperty(e),ut=f+p,i+=" ( ( "+ut+" === undefined ",a&&(i+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+n.util.escapeQuotes(e)+"') "),i+=") && (missing"+l+" = "+n.util.toQuotedString(n.opts.jsonPointers?e:p)+") ) ";i+=")) {  ";w="missing"+l;ft="' + "+w+" + '";n.opts._errorDataPathProperty&&(n.errorPath=n.opts.jsonPointers?n.util.getPathExpr(c,w,!0):c+" + "+w);b=b||[];b.push(i);i="";n.createErrors!==!1?(i+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(nt)+" , params: { property: '"+n.util.escapeQuotes(u)+"', missingProperty: '"+ft+"', depsCount: "+r.length+", deps: '"+n.util.escapeQuotes(r.length==1?r[0]:r.join(", "))+"' } ",n.opts.messages!==!1&&(i+=" , message: 'should have ",i+=r.length==1?"property "+n.util.escapeQuotes(r[0]):"properties "+n.util.escapeQuotes(r.join(", ")),i+=" when property "+n.util.escapeQuotes(u)+" is present' "),n.opts.verbose&&(i+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";k=i;i=b.pop()+(!n.compositeRule&&h?n.async?" throw new ValidationError(["+k+"]); ":" validate.errors = ["+k+"]; return false; ":" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ")}else if(i+=" ) { ",d=r,d)for(et=-1,lt=d.length-1;et<lt;){e=d[et+=1];var p=n.util.getProperty(e),ft=n.util.escapeQuotes(e),ut=f+p;n.opts._errorDataPathProperty&&(n.errorPath=n.util.getPath(c,e,n.opts.jsonPointers));i+=" if ( "+ut+" === undefined ";a&&(i+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+n.util.escapeQuotes(e)+"') ");i+=") {  var err =   ";n.createErrors!==!1?(i+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(nt)+" , params: { property: '"+n.util.escapeQuotes(u)+"', missingProperty: '"+ft+"', depsCount: "+r.length+", deps: '"+n.util.escapeQuotes(r.length==1?r[0]:r.join(", "))+"' } ",n.opts.messages!==!1&&(i+=" , message: 'should have ",i+=r.length==1?"property "+n.util.escapeQuotes(r[0]):"properties "+n.util.escapeQuotes(r.join(", ")),i+=" when property "+n.util.escapeQuotes(u)+" is present' "),n.opts.verbose&&(i+=" , schema: validate.schema"+g+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}i+=" }   ";h&&(tt+="}",i+=" else { ")}n.errorPath=c;at=o.baseId;for(u in it)s=it[u],(n.opts.strictKeywords?typeof s=="object"&&Object.keys(s).length>0:n.util.schemaHasRules(s,n.RULES.all))&&(i+=" "+ht+" = true; if ( "+f+n.util.getProperty(u)+" !== undefined ",a&&(i+=" && Object.prototype.hasOwnProperty.call("+f+", '"+n.util.escapeQuotes(u)+"') "),i+=") { ",o.schema=s,o.schemaPath=g+n.util.getProperty(u),o.errSchemaPath=nt+"/"+n.util.escapeFragment(u),i+="  "+n.validate(o)+" ",o.baseId=at,i+=" }  ",h&&(i+=" if ("+ht+") { ",tt+="}"));return h&&(i+="   "+tt+" if ("+st+" == errors) {"),n.util.cleanUpCode(i)}},function(n){"use strict";n.exports=function(n,t){var i=" ",r=n.level,l=n.dataLevel,e=n.schema[t],a=n.schemaPath+n.util.getProperty(t),w=n.errSchemaPath+"/"+t,v=!n.opts.allErrors,y="data"+(l||""),u="valid"+r,o=n.opts.$data&&e&&e.$data,p,f,s,h,c;return o?(i+=" var schema"+r+" = "+n.util.getData(e.$data,l,n.dataPathArr)+"; ",p="schema"+r):p=e,f="i"+r,s="schema"+r,o||(i+=" var "+s+" = validate.schema"+a+";"),i+="var "+u+";",o&&(i+=" if (schema"+r+" === undefined) "+u+" = true; else if (!Array.isArray(schema"+r+")) "+u+" = false; else {"),i+=""+u+" = false;for (var "+f+"=0; "+f+"<"+s+".length; "+f+"++) if (equal("+y+", "+s+"["+f+"])) { "+u+" = true; break; }",o&&(i+="  }  "),i+=" if (!"+u+") {   ",h=h||[],h.push(i),i="",n.createErrors!==!1?(i+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(w)+" , params: { allowedValues: schema"+r+" } ",n.opts.messages!==!1&&(i+=" , message: 'should be equal to one of the allowed values' "),n.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+y+" "),i+=" } "):i+=" {} ",c=i,i=h.pop(),i+=!n.compositeRule&&v?n.async?" throw new ValidationError(["+c+"]); ":" validate.errors = ["+c+"]; return false; ":" var err = "+c+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" }",v&&(i+=" else { "),i}},function(n){"use strict";n.exports=function(n,t,i){var r=" ",s=n.level,k=n.dataLevel,f=n.schema[t],g=n.schemaPath+n.util.getProperty(t),nt=n.errSchemaPath+"/"+t,l=!n.opts.allErrors,o="data"+(k||""),h,e,v,b,u,c,y,d,a,p,w;if(n.opts.format===!1)return l&&(r+=" if (true) { "),r;if(h=n.opts.$data&&f&&f.$data,h?(r+=" var schema"+s+" = "+n.util.getData(f.$data,k,n.dataPathArr)+"; ",e="schema"+s):e=f,v=n.opts.unknownFormats,b=Array.isArray(v),h){var u="format"+s,c="isObject"+s,y="formatType"+s;r+=" var "+u+" = formats["+e+"]; var "+c+" = typeof "+u+" == 'object' && !("+u+" instanceof RegExp) && "+u+".validate; var "+y+" = "+c+" && "+u+".type || 'string'; if ("+c+") { ";n.async&&(r+=" var async"+s+" = "+u+".async; ");r+=" "+u+" = "+u+".validate; } if (  ";h&&(r+=" ("+e+" !== undefined && typeof "+e+" != 'string') || ");r+=" (";v!="ignore"&&(r+=" ("+e+" && !"+u+" ",b&&(r+=" && self._opts.unknownFormats.indexOf("+e+") == -1 "),r+=") || ");r+=" ("+u+" && "+y+" == '"+i+"' && !(typeof "+u+" == 'function' ? ";r+=n.async?" (async"+s+" ? await "+u+"("+o+") : "+u+"("+o+")) ":" "+u+"("+o+") ";r+=" : "+u+".test("+o+"))))) {"}else{if(u=n.formats[f],!u){if(v=="ignore")return n.logger.warn('unknown format "'+f+'" ignored in schema at path "'+n.errSchemaPath+'"'),l&&(r+=" if (true) { "),r;if(b&&v.indexOf(f)>=0)return l&&(r+=" if (true) { "),r;throw new Error('unknown format "'+f+'" is used in schema at path "'+n.errSchemaPath+'"');}if(c=typeof u=="object"&&!(u instanceof RegExp)&&u.validate,y=c&&u.type||"string",c&&(d=u.async===!0,u=u.validate),y!=i)return l&&(r+=" if (true) { "),r;if(d){if(!n.async)throw new Error("async format in sync schema");a="formats"+n.util.getProperty(f)+".validate";r+=" if (!(await "+a+"("+o+"))) { "}else r+=" if (! ",a="formats"+n.util.getProperty(f),c&&(a+=".validate"),r+=typeof u=="function"?" "+a+"("+o+") ":" "+a+".test("+o+") ",r+=") { "}return p=p||[],p.push(r),r="",n.createErrors!==!1?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(nt)+" , params: { format:  ",r+=h?""+e:""+n.util.toQuotedString(f),r+="  } ",n.opts.messages!==!1&&(r+=" , message: 'should match format \"",r+=h?"' + "+e+" + '":""+n.util.escapeQuotes(f),r+="\"' "),n.opts.verbose&&(r+=" , schema:  ",r+=h?"validate.schema"+g:""+n.util.toQuotedString(f),r+="         , parentSchema: validate.schema"+n.schemaPath+" , data: "+o+" "),r+=" } "):r+=" {} ",w=r,r=p.pop(),r+=!n.compositeRule&&l?n.async?" throw new ValidationError(["+w+"]); ":" validate.errors = ["+w+"]; return false; ":" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",l&&(r+=" else { "),r}},function(n){"use strict";n.exports=function(n,t){var i=" ",e=n.level,k=n.dataLevel,d=n.schema[t],p=n.schemaPath+n.util.getProperty(t),w=n.errSchemaPath+"/"+t,v=!n.opts.allErrors,g="data"+(k||""),o="valid"+e,s="errs__"+e,r=n.util.copy(n),u,b;r.level++;var h="valid"+r.level,c=n.schema.then,l=n.schema["else"],a=c!==undefined&&(n.opts.strictKeywords?typeof c=="object"&&Object.keys(c).length>0:n.util.schemaHasRules(c,n.RULES.all)),f=l!==undefined&&(n.opts.strictKeywords?typeof l=="object"&&Object.keys(l).length>0:n.util.schemaHasRules(l,n.RULES.all)),y=r.baseId;return a||f?(r.createErrors=!1,r.schema=d,r.schemaPath=p,r.errSchemaPath=w,i+=" var "+s+" = errors; var "+o+" = true;  ",b=n.compositeRule,n.compositeRule=r.compositeRule=!0,i+="  "+n.validate(r)+" ",r.baseId=y,r.createErrors=!0,i+="  errors = "+s+"; if (vErrors !== null) { if ("+s+") vErrors.length = "+s+"; else vErrors = null; }  ",n.compositeRule=r.compositeRule=b,a?(i+=" if ("+h+") {  ",r.schema=n.schema.then,r.schemaPath=n.schemaPath+".then",r.errSchemaPath=n.errSchemaPath+"/then",i+="  "+n.validate(r)+" ",r.baseId=y,i+=" "+o+" = "+h+"; ",a&&f?(u="ifClause"+e,i+=" var "+u+" = 'then'; "):u="'then'",i+=" } ",f&&(i+=" else { ")):i+=" if (!"+h+") { ",f&&(r.schema=n.schema["else"],r.schemaPath=n.schemaPath+".else",r.errSchemaPath=n.errSchemaPath+"/else",i+="  "+n.validate(r)+" ",r.baseId=y,i+=" "+o+" = "+h+"; ",a&&f?(u="ifClause"+e,i+=" var "+u+" = 'else'; "):u="'else'",i+=" } "),i+=" if (!"+o+") {   var err =   ",n.createErrors!==!1?(i+=" { keyword: 'if' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(w)+" , params: { failingKeyword: "+u+" } ",n.opts.messages!==!1&&(i+=" , message: 'should match \"' + "+u+" + '\" schema' "),n.opts.verbose&&(i+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+g+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!n.compositeRule&&v&&(i+=n.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),i+=" }   ",v&&(i+=" else { "),i=n.util.cleanUpCode(i)):v&&(i+=" if (true) { "),i}},function(n){"use strict";n.exports=function(n,t){var i=" ",nt=n.level,ot=n.dataLevel,e=n.schema[t],rt=n.schemaPath+n.util.getProperty(t),v=n.errSchemaPath+"/"+t,l=!n.opts.allErrors,o="data"+(ot||""),tt="valid"+nt,ut="errs__"+nt,r=n.util.copy(n),w="",a,ft,k,d,g,p,h,et,c,f;r.level++;var y="valid"+r.level,u="i"+nt,b=r.dataLevel=n.dataLevel+1,s="data"+b,it=n.baseId;if(i+="var "+ut+" = errors;var "+tt+";",Array.isArray(e)){if(a=n.schema.additionalItems,a===!1&&(i+=" "+tt+" = "+o+".length <= "+e.length+"; ",ft=v,v=n.errSchemaPath+"/additionalItems",i+="  if (!"+tt+") {   ",k=k||[],k.push(i),i="",n.createErrors!==!1?(i+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(v)+" , params: { limit: "+e.length+" } ",n.opts.messages!==!1&&(i+=" , message: 'should NOT have more than "+e.length+" items' "),n.opts.verbose&&(i+=" , schema: false , parentSchema: validate.schema"+n.schemaPath+" , data: "+o+" "),i+=" } "):i+=" {} ",d=i,i=k.pop(),i+=!n.compositeRule&&l?n.async?" throw new ValidationError(["+d+"]); ":" validate.errors = ["+d+"]; return false; ":" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",v=ft,l&&(w+="}",i+=" else { ")),g=e,g)for(h=-1,et=g.length-1;h<et;)p=g[h+=1],(n.opts.strictKeywords?typeof p=="object"&&Object.keys(p).length>0:n.util.schemaHasRules(p,n.RULES.all))&&(i+=" "+y+" = true; if ("+o+".length > "+h+") { ",c=o+"["+h+"]",r.schema=p,r.schemaPath=rt+"["+h+"]",r.errSchemaPath=v+"/"+h,r.errorPath=n.util.getPathExpr(n.errorPath,h,n.opts.jsonPointers,!0),r.dataPathArr[b]=h,f=n.validate(r),r.baseId=it,i+=n.util.varOccurences(f,s)<2?" "+n.util.varReplace(f,s,c)+" ":" var "+s+" = "+c+"; "+f+" ",i+=" }  ",l&&(i+=" if ("+y+") { ",w+="}"));typeof a=="object"&&(n.opts.strictKeywords?typeof a=="object"&&Object.keys(a).length>0:n.util.schemaHasRules(a,n.RULES.all))&&(r.schema=a,r.schemaPath=n.schemaPath+".additionalItems",r.errSchemaPath=n.errSchemaPath+"/additionalItems",i+=" "+y+" = true; if ("+o+".length > "+e.length+") {  for (var "+u+" = "+e.length+"; "+u+" < "+o+".length; "+u+"++) { ",r.errorPath=n.util.getPathExpr(n.errorPath,u,n.opts.jsonPointers,!0),c=o+"["+u+"]",r.dataPathArr[b]=u,f=n.validate(r),r.baseId=it,i+=n.util.varOccurences(f,s)<2?" "+n.util.varReplace(f,s,c)+" ":" var "+s+" = "+c+"; "+f+" ",l&&(i+=" if (!"+y+") break; "),i+=" } }  ",l&&(i+=" if ("+y+") { ",w+="}"))}else(n.opts.strictKeywords?typeof e=="object"&&Object.keys(e).length>0:n.util.schemaHasRules(e,n.RULES.all))&&(r.schema=e,r.schemaPath=rt,r.errSchemaPath=v,i+="  for (var "+u+" = 0; "+u+" < "+o+".length; "+u+"++) { ",r.errorPath=n.util.getPathExpr(n.errorPath,u,n.opts.jsonPointers,!0),c=o+"["+u+"]",r.dataPathArr[b]=u,f=n.validate(r),r.baseId=it,i+=n.util.varOccurences(f,s)<2?" "+n.util.varReplace(f,s,c)+" ":" var "+s+" = "+c+"; "+f+" ",l&&(i+=" if (!"+y+") break; "),i+=" }");return l&&(i+=" "+w+" if ("+ut+" == errors) {"),n.util.cleanUpCode(i)}},function(n){"use strict";n.exports=function(n,t){var i=" ",r=n.level,h=n.dataLevel,f=n.schema[t],a=n.schemaPath+n.util.getProperty(t),v=n.errSchemaPath+"/"+t,c=!n.opts.allErrors,l="data"+(h||""),e=n.opts.$data&&f&&f.$data,u,o,s;return e?(i+=" var schema"+r+" = "+n.util.getData(f.$data,h,n.dataPathArr)+"; ",u="schema"+r):u=f,i+="var division"+r+";if (",e&&(i+=" "+u+" !== undefined && ( typeof "+u+" != 'number' || "),i+=" (division"+r+" = "+l+" / "+u+", ",i+=n.opts.multipleOfPrecision?" Math.abs(Math.round(division"+r+") - division"+r+") > 1e-"+n.opts.multipleOfPrecision+" ":" division"+r+" !== parseInt(division"+r+") ",i+=" ) ",e&&(i+="  )  "),i+=" ) {   ",o=o||[],o.push(i),i="",n.createErrors!==!1?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(v)+" , params: { multipleOf: "+u+" } ",n.opts.messages!==!1&&(i+=" , message: 'should be multiple of ",i+=e?"' + "+u:""+u+"'"),n.opts.verbose&&(i+=" , schema:  ",i+=e?"validate.schema"+a:""+f,i+="         , parentSchema: validate.schema"+n.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ",s=i,i=o.pop(),i+=!n.compositeRule&&c?n.async?" throw new ValidationError(["+s+"]); ":" validate.errors = ["+s+"]; return false; ":" var err = "+s+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(n){"use strict";n.exports=function(n,t){var i=" ",p=n.level,w=n.dataLevel,u=n.schema[t],s=n.schemaPath+n.util.getProperty(t),h=n.errSchemaPath+"/"+t,l=!n.opts.allErrors,a="data"+(w||""),f="errs__"+p,r=n.util.copy(n),v,y,c,e,o;return r.level++,v="valid"+r.level,(n.opts.strictKeywords?typeof u=="object"&&Object.keys(u).length>0:n.util.schemaHasRules(u,n.RULES.all))?(r.schema=u,r.schemaPath=s,r.errSchemaPath=h,i+=" var "+f+" = errors;  ",y=n.compositeRule,n.compositeRule=r.compositeRule=!0,r.createErrors=!1,r.opts.allErrors&&(c=r.opts.allErrors,r.opts.allErrors=!1),i+=" "+n.validate(r)+" ",r.createErrors=!0,c&&(r.opts.allErrors=c),n.compositeRule=r.compositeRule=y,i+=" if ("+v+") {   ",e=e||[],e.push(i),i="",n.createErrors!==!1?(i+=" { keyword: 'not' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(h)+" , params: {} ",n.opts.messages!==!1&&(i+=" , message: 'should NOT be valid' "),n.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+a+" "),i+=" } "):i+=" {} ",o=i,i=e.pop(),i+=!n.compositeRule&&l?n.async?" throw new ValidationError(["+o+"]); ":" validate.errors = ["+o+"]; return false; ":" var err = "+o+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",n.opts.allErrors&&(i+=" } ")):(i+="  var err =   ",n.createErrors!==!1?(i+=" { keyword: 'not' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(h)+" , params: {} ",n.opts.messages!==!1&&(i+=" , message: 'should NOT be valid' "),n.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+a+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(i+=" if (false) { ")),i}},function(n){"use strict";n.exports=function(n,t){var i=" ",o=n.level,k=n.dataLevel,d=n.schema[t],v=n.schemaPath+n.util.getProperty(t),y=n.errSchemaPath+"/"+t,g=!n.opts.allErrors,nt="data"+(k||""),s="valid"+o,h="errs__"+o,r=n.util.copy(n),p="",w,c,e,u,b;r.level++;var l="valid"+r.level,tt=r.baseId,a="prevValid"+o,f="passingSchemas"+o;if(i+="var "+h+" = errors , "+a+" = false , "+s+" = false , "+f+" = null; ",w=n.compositeRule,n.compositeRule=r.compositeRule=!0,c=d,c)for(u=-1,b=c.length-1;u<b;)e=c[u+=1],(n.opts.strictKeywords?typeof e=="object"&&Object.keys(e).length>0:n.util.schemaHasRules(e,n.RULES.all))?(r.schema=e,r.schemaPath=v+"["+u+"]",r.errSchemaPath=y+"/"+u,i+="  "+n.validate(r)+" ",r.baseId=tt):i+=" var "+l+" = true; ",u&&(i+=" if ("+l+" && "+a+") { "+s+" = false; "+f+" = ["+f+", "+u+"]; } else { ",p+="}"),i+=" if ("+l+") { "+s+" = "+a+" = true; "+f+" = "+u+"; }";return n.compositeRule=r.compositeRule=w,i+=""+p+"if (!"+s+") {   var err =   ",n.createErrors!==!1?(i+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(y)+" , params: { passingSchemas: "+f+" } ",n.opts.messages!==!1&&(i+=" , message: 'should match exactly one schema in oneOf' "),n.opts.verbose&&(i+=" , schema: validate.schema"+v+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+nt+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!n.compositeRule&&g&&(i+=n.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),i+="} else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }",n.opts.allErrors&&(i+=" } "),i}},function(n){"use strict";n.exports=function(n,t){var i=" ",s=n.level,h=n.dataLevel,r=n.schema[t],v=n.schemaPath+n.util.getProperty(t),y=n.errSchemaPath+"/"+t,c=!n.opts.allErrors,l="data"+(h||""),f=n.opts.$data&&r&&r.$data,u,a,e,o;return f?(i+=" var schema"+s+" = "+n.util.getData(r.$data,h,n.dataPathArr)+"; ",u="schema"+s):u=r,a=f?"(new RegExp("+u+"))":n.usePattern(r),i+="if ( ",f&&(i+=" ("+u+" !== undefined && typeof "+u+" != 'string') || "),i+=" !"+a+".test("+l+") ) {   ",e=e||[],e.push(i),i="",n.createErrors!==!1?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(y)+" , params: { pattern:  ",i+=f?""+u:""+n.util.toQuotedString(r),i+="  } ",n.opts.messages!==!1&&(i+=" , message: 'should match pattern \"",i+=f?"' + "+u+" + '":""+n.util.escapeQuotes(r),i+="\"' "),n.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+v:""+n.util.toQuotedString(r),i+="         , parentSchema: validate.schema"+n.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ",o=i,i=e.pop(),i+=!n.compositeRule&&c?n.async?" throw new ValidationError(["+o+"]); ":" validate.errors = ["+o+"]; return false; ":" var err = "+o+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(n){"use strict";n.exports=function(n,t){var i=" ",d=n.level,pi=n.dataLevel,ti=n.schema[t],pt=n.schemaPath+n.util.getProperty(t),v=n.errSchemaPath+"/"+t,c=!n.opts.allErrors,e="data"+(pi||""),ft="errs__"+d,r=n.util.copy(n),et="",wt,ct,bt,ei,lt,kt,oi,at,si,dt,hi,ci,vt,o,gt,li,ut,w,b,yt,k,ni,yi,a,h,f;r.level++;var l="valid"+r.level,u="key"+d,p="idx"+d,tt=r.dataLevel=n.dataLevel+1,s="data"+tt,y="dataProperties"+d,g=Object.keys(ti||{}),ii=n.schema.patternProperties||{},it=Object.keys(ii),rt=n.schema.additionalProperties,ri=g.length||it.length,ui=rt===!1,fi=typeof rt=="object"&&Object.keys(rt).length,ot=n.opts.removeAdditional,wi=ui||fi||ot,nt=n.opts.ownProperties,st=n.baseId,ht=n.schema.required;if(ht&&!(n.opts.$data&&ht.$data)&&ht.length<n.opts.loopRequired&&(wt=n.util.toHash(ht)),i+="var "+ft+" = errors;var "+l+" = true;",nt&&(i+=" var "+y+" = undefined;"),wi){if(i+=nt?" "+y+" = "+y+" || Object.keys("+e+"); for (var "+p+"=0; "+p+"<"+y+".length; "+p+"++) { var "+u+" = "+y+"["+p+"]; ":" for (var "+u+" in "+e+") { ",ri){if(i+=" var isAdditional"+d+" = !(false ",g.length)if(g.length>8)i+=" || validate.schema"+pt+".hasOwnProperty("+u+") ";else if(ct=g,ct)for(bt=-1,ei=ct.length-1;bt<ei;)o=ct[bt+=1],i+=" || "+u+" == "+n.util.toQuotedString(o)+" ";if(it.length&&(lt=it,lt))for(kt=-1,oi=lt.length-1;kt<oi;)k=lt[kt+=1],i+=" || "+n.usePattern(k)+".test("+u+") ";i+=" ); if (isAdditional"+d+") { "}ot=="all"?i+=" delete "+e+"["+u+"]; ":(at=n.errorPath,si="' + "+u+" + '",n.opts._errorDataPathProperty&&(n.errorPath=n.util.getPathExpr(n.errorPath,u,n.opts.jsonPointers)),ui?ot?i+=" delete "+e+"["+u+"]; ":(i+=" "+l+" = false; ",dt=v,v=n.errSchemaPath+"/additionalProperties",w=w||[],w.push(i),i="",n.createErrors!==!1?(i+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(v)+" , params: { additionalProperty: '"+si+"' } ",n.opts.messages!==!1&&(i+=" , message: '",i+=n.opts._errorDataPathProperty?"is an invalid additional property":"should NOT have additional properties",i+="' "),n.opts.verbose&&(i+=" , schema: false , parentSchema: validate.schema"+n.schemaPath+" , data: "+e+" "),i+=" } "):i+=" {} ",b=i,i=w.pop(),i+=!n.compositeRule&&c?n.async?" throw new ValidationError(["+b+"]); ":" validate.errors = ["+b+"]; return false; ":" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",v=dt,c&&(i+=" break; ")):fi&&(ot=="failing"?(i+=" var "+ft+" = errors;  ",hi=n.compositeRule,n.compositeRule=r.compositeRule=!0,r.schema=rt,r.schemaPath=n.schemaPath+".additionalProperties",r.errSchemaPath=n.errSchemaPath+"/additionalProperties",r.errorPath=n.opts._errorDataPathProperty?n.errorPath:n.util.getPathExpr(n.errorPath,u,n.opts.jsonPointers),h=e+"["+u+"]",r.dataPathArr[tt]=u,f=n.validate(r),r.baseId=st,i+=n.util.varOccurences(f,s)<2?" "+n.util.varReplace(f,s,h)+" ":" var "+s+" = "+h+"; "+f+" ",i+=" if (!"+l+") { errors = "+ft+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+e+"["+u+"]; }  ",n.compositeRule=r.compositeRule=hi):(r.schema=rt,r.schemaPath=n.schemaPath+".additionalProperties",r.errSchemaPath=n.errSchemaPath+"/additionalProperties",r.errorPath=n.opts._errorDataPathProperty?n.errorPath:n.util.getPathExpr(n.errorPath,u,n.opts.jsonPointers),h=e+"["+u+"]",r.dataPathArr[tt]=u,f=n.validate(r),r.baseId=st,i+=n.util.varOccurences(f,s)<2?" "+n.util.varReplace(f,s,h)+" ":" var "+s+" = "+h+"; "+f+" ",c&&(i+=" if (!"+l+") break; "))),n.errorPath=at);ri&&(i+=" } ");i+=" }  ";c&&(i+=" if ("+l+") { ",et+="}")}if(ci=n.opts.useDefaults&&!n.compositeRule,g.length&&(vt=g,vt))for(gt=-1,li=vt.length-1;gt<li;){if(o=vt[gt+=1],a=ti[o],n.opts.strictKeywords?typeof a=="object"&&Object.keys(a).length>0:n.util.schemaHasRules(a,n.RULES.all)){var ai=n.util.getProperty(o),h=e+ai,bi=ci&&a["default"]!==undefined;if(r.schema=a,r.schemaPath=pt+ai,r.errSchemaPath=v+"/"+n.util.escapeFragment(o),r.errorPath=n.util.getPath(n.errorPath,o,n.opts.jsonPointers),r.dataPathArr[tt]=n.util.toQuotedString(o),f=n.validate(r),r.baseId=st,n.util.varOccurences(f,s)<2?(f=n.util.varReplace(f,s,h),ut=h):(ut=s,i+=" var "+s+" = "+h+"; "),bi)i+=" "+f+" ";else{if(wt&&wt[o]){i+=" if ( "+ut+" === undefined ";nt&&(i+=" || ! Object.prototype.hasOwnProperty.call("+e+", '"+n.util.escapeQuotes(o)+"') ");i+=") { "+l+" = false; ";var at=n.errorPath,dt=v,vi=n.util.escapeQuotes(o);n.opts._errorDataPathProperty&&(n.errorPath=n.util.getPath(at,o,n.opts.jsonPointers));v=n.errSchemaPath+"/required";w=w||[];w.push(i);i="";n.createErrors!==!1?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(v)+" , params: { missingProperty: '"+vi+"' } ",n.opts.messages!==!1&&(i+=" , message: '",i+=n.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+vi+"\\'",i+="' "),n.opts.verbose&&(i+=" , schema: validate.schema"+pt+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+e+" "),i+=" } "):i+=" {} ";b=i;i=w.pop();i+=!n.compositeRule&&c?n.async?" throw new ValidationError(["+b+"]); ":" validate.errors = ["+b+"]; return false; ":" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";v=dt;n.errorPath=at;i+=" } else { "}else c?(i+=" if ( "+ut+" === undefined ",nt&&(i+=" || ! Object.prototype.hasOwnProperty.call("+e+", '"+n.util.escapeQuotes(o)+"') "),i+=") { "+l+" = true; } else { "):(i+=" if ("+ut+" !== undefined ",nt&&(i+=" &&   Object.prototype.hasOwnProperty.call("+e+", '"+n.util.escapeQuotes(o)+"') "),i+=" ) { ");i+=" "+f+" } "}}c&&(i+=" if ("+l+") { ",et+="}")}if(it.length&&(yt=it,yt))for(ni=-1,yi=yt.length-1;ni<yi;)k=yt[ni+=1],a=ii[k],(n.opts.strictKeywords?typeof a=="object"&&Object.keys(a).length>0:n.util.schemaHasRules(a,n.RULES.all))&&(r.schema=a,r.schemaPath=n.schemaPath+".patternProperties"+n.util.getProperty(k),r.errSchemaPath=n.errSchemaPath+"/patternProperties/"+n.util.escapeFragment(k),i+=nt?" "+y+" = "+y+" || Object.keys("+e+"); for (var "+p+"=0; "+p+"<"+y+".length; "+p+"++) { var "+u+" = "+y+"["+p+"]; ":" for (var "+u+" in "+e+") { ",i+=" if ("+n.usePattern(k)+".test("+u+")) { ",r.errorPath=n.util.getPathExpr(n.errorPath,u,n.opts.jsonPointers),h=e+"["+u+"]",r.dataPathArr[tt]=u,f=n.validate(r),r.baseId=st,i+=n.util.varOccurences(f,s)<2?" "+n.util.varReplace(f,s,h)+" ":" var "+s+" = "+h+"; "+f+" ",c&&(i+=" if (!"+l+") break; "),i+=" } ",c&&(i+=" else "+l+" = true; "),i+=" }  ",c&&(i+=" if ("+l+") { ",et+="}"));return c&&(i+=" "+et+" if ("+ft+" == errors) {"),n.util.cleanUpCode(i)}},function(n){"use strict";n.exports=function(n,t){var i=" ",u=n.level,tt=n.dataLevel,o=n.schema[t],p=n.schemaPath+n.util.getProperty(t),w=n.errSchemaPath+"/"+t,l=!n.opts.allErrors,a="data"+(tt||""),b="errs__"+u,r=n.util.copy(n),k,y,nt,c;if(r.level++,k="valid"+r.level,i+="var "+b+" = errors;",n.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0:n.util.schemaHasRules(o,n.RULES.all)){r.schema=o;r.schemaPath=p;r.errSchemaPath=w;var f="key"+u,s="idx"+u,h="i"+u,d="' + "+f+" + '",it=r.dataLevel=n.dataLevel+1,v="data"+it,e="dataProperties"+u,g=n.opts.ownProperties,rt=n.baseId;g&&(i+=" var "+e+" = undefined; ");i+=g?" "+e+" = "+e+" || Object.keys("+a+"); for (var "+s+"=0; "+s+"<"+e+".length; "+s+"++) { var "+f+" = "+e+"["+s+"]; ":" for (var "+f+" in "+a+") { ";i+=" var startErrs"+u+" = errors; ";y=f;nt=n.compositeRule;n.compositeRule=r.compositeRule=!0;c=n.validate(r);r.baseId=rt;i+=n.util.varOccurences(c,v)<2?" "+n.util.varReplace(c,v,y)+" ":" var "+v+" = "+y+"; "+c+" ";n.compositeRule=r.compositeRule=nt;i+=" if (!"+k+") { for (var "+h+"=startErrs"+u+"; "+h+"<errors; "+h+"++) { vErrors["+h+"].propertyName = "+f+"; }   var err =   ";n.createErrors!==!1?(i+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(w)+" , params: { propertyName: '"+d+"' } ",n.opts.messages!==!1&&(i+=" , message: 'property name \\'"+d+"\\' is invalid' "),n.opts.verbose&&(i+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+a+" "),i+=" } "):i+=" {} ";i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";!n.compositeRule&&l&&(i+=n.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; ");l&&(i+=" break; ");i+=" } }"}return l&&(i+="  if ("+b+" == errors) {"),n.util.cleanUpCode(i)}},function(n){"use strict";n.exports=function(n,t){var i=" ",u=n.level,ht=n.dataLevel,y=n.schema[t],p=n.schemaPath+n.util.getProperty(t),k=n.errSchemaPath+"/"+t,g=!n.opts.allErrors,f="data"+(ht||""),w="valid"+u,s=n.opts.$data&&y&&y.$data,ct,e,nt,ft,et,lt,d,c,it,r,vt,rt,ot,l,o,a,v,ut,h,st,yt;if(s?(i+=" var schema"+u+" = "+n.util.getData(y.$data,ht,n.dataPathArr)+"; ",ct="schema"+u):ct=y,e="schema"+u,!s)if(y.length<n.opts.loopRequired&&n.schema.properties&&Object.keys(n.schema.properties).length){if(c=[],nt=y,nt)for(et=-1,lt=nt.length-1;et<lt;)ft=nt[et+=1],d=n.schema.properties[ft],d&&(n.opts.strictKeywords?typeof d=="object"&&Object.keys(d).length>0:n.util.schemaHasRules(d,n.RULES.all))||(c[c.length]=ft)}else c=y;if(s||c.length){var b=n.errorPath,at=s||c.length>=n.opts.loopRequired,tt=n.opts.ownProperties;if(g)if(i+=" var missing"+u+"; ",at){s||(i+=" var "+e+" = validate.schema"+p+"; ");var r="i"+u,l="schema"+u+"["+r+"]",o="' + "+l+" + '";n.opts._errorDataPathProperty&&(n.errorPath=n.util.getPathExpr(b,l,n.opts.jsonPointers));i+=" var "+w+" = true; ";s&&(i+=" if (schema"+u+" === undefined) "+w+" = true; else if (!Array.isArray(schema"+u+")) "+w+" = false; else {");i+=" for (var "+r+" = 0; "+r+" < "+e+".length; "+r+"++) { "+w+" = "+f+"["+e+"["+r+"]] !== undefined ";tt&&(i+=" &&   Object.prototype.hasOwnProperty.call("+f+", "+e+"["+r+"]) ");i+="; if (!"+w+") break; } ";s&&(i+="  }  ");i+="  if (!"+w+") {   ";a=a||[];a.push(i);i="";n.createErrors!==!1?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(k)+" , params: { missingProperty: '"+o+"' } ",n.opts.messages!==!1&&(i+=" , message: '",i+=n.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+o+"\\'",i+="' "),n.opts.verbose&&(i+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";v=i;i=a.pop();i+=!n.compositeRule&&g?n.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";i+=" } else { "}else{if(i+=" if ( ",it=c,it)for(r=-1,vt=it.length-1;r<vt;)h=it[r+=1],r&&(i+=" || "),rt=n.util.getProperty(h),ot=f+rt,i+=" ( ( "+ot+" === undefined ",tt&&(i+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+n.util.escapeQuotes(h)+"') "),i+=") && (missing"+u+" = "+n.util.toQuotedString(n.opts.jsonPointers?h:rt)+") ) ";i+=") {  ";l="missing"+u;o="' + "+l+" + '";n.opts._errorDataPathProperty&&(n.errorPath=n.opts.jsonPointers?n.util.getPathExpr(b,l,!0):b+" + "+l);a=a||[];a.push(i);i="";n.createErrors!==!1?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(k)+" , params: { missingProperty: '"+o+"' } ",n.opts.messages!==!1&&(i+=" , message: '",i+=n.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+o+"\\'",i+="' "),n.opts.verbose&&(i+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";v=i;i=a.pop();i+=!n.compositeRule&&g?n.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";i+=" } else { "}else if(at){s||(i+=" var "+e+" = validate.schema"+p+"; ");var r="i"+u,l="schema"+u+"["+r+"]",o="' + "+l+" + '";n.opts._errorDataPathProperty&&(n.errorPath=n.util.getPathExpr(b,l,n.opts.jsonPointers));s&&(i+=" if ("+e+" && !Array.isArray("+e+")) {  var err =   ",n.createErrors!==!1?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(k)+" , params: { missingProperty: '"+o+"' } ",n.opts.messages!==!1&&(i+=" , message: '",i+=n.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+o+"\\'",i+="' "),n.opts.verbose&&(i+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+e+" !== undefined) { ");i+=" for (var "+r+" = 0; "+r+" < "+e+".length; "+r+"++) { if ("+f+"["+e+"["+r+"]] === undefined ";tt&&(i+=" || ! Object.prototype.hasOwnProperty.call("+f+", "+e+"["+r+"]) ");i+=") {  var err =   ";n.createErrors!==!1?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(k)+" , params: { missingProperty: '"+o+"' } ",n.opts.messages!==!1&&(i+=" , message: '",i+=n.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+o+"\\'",i+="' "),n.opts.verbose&&(i+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ";s&&(i+="  }  ")}else if(ut=c,ut)for(st=-1,yt=ut.length-1;st<yt;){h=ut[st+=1];var rt=n.util.getProperty(h),o=n.util.escapeQuotes(h),ot=f+rt;n.opts._errorDataPathProperty&&(n.errorPath=n.util.getPath(b,h,n.opts.jsonPointers));i+=" if ( "+ot+" === undefined ";tt&&(i+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+n.util.escapeQuotes(h)+"') ");i+=") {  var err =   ";n.createErrors!==!1?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(k)+" , params: { missingProperty: '"+o+"' } ",n.opts.messages!==!1&&(i+=" , message: '",i+=n.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+o+"\\'",i+="' "),n.opts.verbose&&(i+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}n.errorPath=b}else g&&(i+=" if (true) {");return i}},function(n){"use strict";n.exports=function(n,t){var i=" ",a=n.level,y=n.dataLevel,f=n.schema[t],w=n.schemaPath+n.util.getProperty(t),b=n.errSchemaPath+"/"+t,v=!n.opts.allErrors,e="data"+(y||""),u="valid"+a,o=n.opts.$data&&f&&f.$data,s,r,h,p,c,l;return o?(i+=" var schema"+a+" = "+n.util.getData(f.$data,y,n.dataPathArr)+"; ",s="schema"+a):s=f,(f||o)&&n.opts.uniqueItems!==!1?(o&&(i+=" var "+u+"; if ("+s+" === false || "+s+" === undefined) "+u+" = true; else if (typeof "+s+" != 'boolean') "+u+" = false; else { "),i+=" var i = "+e+".length , "+u+" = true , j; if (i > 1) { ",r=n.schema.items&&n.schema.items.type,h=Array.isArray(r),!r||r=="object"||r=="array"||h&&(r.indexOf("object")>=0||r.indexOf("array")>=0)?i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+e+"[i], "+e+"[j])) { "+u+" = false; break outer; } } } ":(i+=" var itemIndices = {}, item; for (;i--;) { var item = "+e+"[i]; ",p="checkDataType"+(h?"s":""),i+=" if ("+n.util[p](r,"item",!0)+") continue; ",h&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+u+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "),i+=" } ",o&&(i+="  }  "),i+=" if (!"+u+") {   ",c=c||[],c.push(i),i="",n.createErrors!==!1?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(b)+" , params: { i: i, j: j } ",n.opts.messages!==!1&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),n.opts.verbose&&(i+=" , schema:  ",i+=o?"validate.schema"+w:""+f,i+="         , parentSchema: validate.schema"+n.schemaPath+" , data: "+e+" "),i+=" } "):i+=" {} ",l=i,i=c.pop(),i+=!n.compositeRule&&v?n.async?" throw new ValidationError(["+l+"]); ":" validate.errors = ["+l+"]; return false; ":" var err = "+l+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",v&&(i+=" else { ")):v&&(i+=" if (true) { "),i}},function(n){"use strict";var t=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];n.exports=function(n,i){for(var e,u,r,o,s,f=0;f<i.length;f++){for(n=JSON.parse(JSON.stringify(n)),e=i[f].split("/"),u=n,r=1;r<e.length;r++)u=u[e[r]];for(r=0;r<t.length;r++)o=t[r],s=u[o],s&&(u[o]={anyOf:[s,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]})}return n}},function(n,t,i){"use strict";function r(n,t,i){function o(n){var t=n.$schema;return t&&!f.getSchema(t)?r.call(f,{$ref:t},!0):Promise.resolve()}function s(n){function r(i){function h(){delete f._loadingSchemas[r]}function e(n){return f._refs[n]||f._schemas[n]}var r=i.missingSchema,u;if(e(r))throw new Error("Schema "+r+" is loaded but "+i.missingRef+" cannot be resolved");return u=f._loadingSchemas[r],u||(u=f._loadingSchemas[r]=f._opts.loadSchema(r),u.then(h,h)),u.then(function(n){if(!e(r))return o(n).then(function(){e(r)||f.addSchema(n,r,undefined,t)})}).then(function(){return s(n)})}try{return f._compile(n)}catch(i){if(i instanceof u)return r(i);throw i;}}var f=this,e;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");return typeof t=="function"&&(i=t,t=undefined),e=o(n).then(function(){var i=f._addSchema(n,undefined,t);return i.validate||s(i)}),i&&e.then(function(n){i(null,n)},i),e}var u=i(8).MissingRef;n.exports=r},function(n,t,i){"use strict";function o(n,t){function s(n,t,r){for(var o,s,u,e=0;e<i.length;e++)if(o=i[e],o.type==t){u=o;break}u||(u={type:t,rules:[]},i.push(u));s={keyword:n,definition:r,custom:!0,code:f,"implements":r["implements"]};u.rules.push(s);i.custom[n]=s}var i=this.RULES,r,o,e;if(i.keywords[n])throw new Error("Keyword "+n+" is already defined");if(!u.test(n))throw new Error("Keyword "+n+" is not a valid identifier");if(t){if(this.validateKeyword(t,!0),r=t.type,Array.isArray(r))for(o=0;o<r.length;o++)s(n,r[o],t);else s(n,r,t);e=t.metaSchema;e&&(t.$data&&this._opts.$data&&(e={anyOf:[e,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(e,!0))}return i.keywords[n]=i.all[n]=!0,this}function s(n){var t=this.RULES.custom[n];return t?t.definition:this.RULES.keywords[n]||!1}function h(n){var t=this.RULES,r,u,i;for(delete t.keywords[n],delete t.all[n],delete t.custom[n],r=0;r<t.length;r++)for(u=t[r].rules,i=0;i<u.length;i++)if(u[i].keyword==n){u.splice(i,1);break}return this}function r(n,t){r.errors=null;var i=this._validateKeyword=this._validateKeyword||this.compile(e,!0);if(i(n))return!0;if(r.errors=i.errors,t)throw new Error("custom keyword definition is invalid: "+this.errorsText(i.errors));else return!1}var u=/^[a-z_$][a-z0-9_$-]*$/i,f=i(61),e=i(62);n.exports={add:o,get:s,remove:h,validate:r}},function(n){"use strict";n.exports=function(n,t){var i=" ",s=n.level,y=n.dataLevel,b=n.schema[t],ot=n.schemaPath+n.util.getProperty(t),k=n.errSchemaPath+"/"+t,tt=!n.opts.allErrors,st,c="data"+(y||""),o="valid"+s,d="errs__"+s,ht=n.opts.$data&&b&&b.$data,h,yt,a,it,pt,wt,bt,ut,at,ft,e,et,nt;ht?(i+=" var schema"+s+" = "+n.util.getData(b.$data,y,n.dataPathArr)+"; ",h="schema"+s):h=b;var v=this,ct="definition"+s,u=v.definition,it="",vt,rt,g,p,w;if(ht&&u.$data)w="keywordValidate"+s,yt=u.validateSchema,i+=" var "+ct+" = RULES.custom['"+t+"'].definition; var "+w+" = "+ct+".validate;";else{if(p=n.useCustomRule(v,b,n.schema,n),!p)return;h="validate.schema"+ot;w=p.code;vt=u.compile;rt=u.inline;g=u.macro}var l=w+".errors",f="i"+s,r="ruleErr"+s,lt=u.async;if(lt&&!n.async)throw new Error("async keyword in sync schema");return rt||g||(i+=""+l+" = null;"),i+="var "+d+" = errors;var "+o+";",ht&&u.$data&&(it+="}",i+=" if ("+h+" === undefined) { "+o+" = true; } else { ",yt&&(it+="}",i+=" "+o+" = "+ct+".validateSchema("+h+"); if ("+o+") { ")),rt?i+=u.statements?" "+p.validate+" ":" "+o+" = "+p.validate+"; ":g?(a=n.util.copy(n),it="",a.level++,pt="valid"+a.level,a.schema=p.validate,a.schemaPath="",wt=n.compositeRule,n.compositeRule=a.compositeRule=!0,bt=n.validate(a).replace(/validate\.schema/g,w),n.compositeRule=a.compositeRule=wt,i+=" "+bt):(e=e||[],e.push(i),i="",i+="  "+w+".call( ",i+=n.opts.passContext?"this":"self",i+=vt||u.schema===!1?" , "+c+" ":" , "+h+" , "+c+" , validate.schema"+n.schemaPath+" ",i+=" , (dataPath || '')",n.errorPath!='""'&&(i+=" + "+n.errorPath),ut=y?"data"+(y-1||""):"parentData",at=y?n.dataPathArr[y]:"parentDataProperty",i+=" , "+ut+" , "+at+" , rootData )  ",ft=i,i=e.pop(),u.errors===!1?(i+=" "+o+" = ",lt&&(i+="await "),i+=""+ft+"; "):lt?(l="customErrors"+s,i+=" var "+l+" = null; try { "+o+" = await "+ft+"; } catch (e) { "+o+" = false; if (e instanceof ValidationError) "+l+" = e.errors; else throw e; } "):i+=" "+l+" = null; "+o+" = "+ft+"; "),u.modifying&&(i+=" if ("+ut+") "+c+" = "+ut+"["+at+"];"),i+=""+it,u.valid?tt&&(i+=" if (true) { "):(i+=" if ( ",u.valid===undefined?(i+=" !",i+=g?""+pt:""+o):i+=" "+!u.valid+" ",i+=") { ",st=v.keyword,e=e||[],e.push(i),i="",e=e||[],e.push(i),i="",n.createErrors!==!1?(i+=" { keyword: '"+(st||"custom")+"' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(k)+" , params: { keyword: '"+v.keyword+"' } ",n.opts.messages!==!1&&(i+=" , message: 'should pass \""+v.keyword+"\" keyword validation' "),n.opts.verbose&&(i+=" , schema: validate.schema"+ot+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ",et=i,i=e.pop(),i+=!n.compositeRule&&tt?n.async?" throw new ValidationError(["+et+"]); ":" validate.errors = ["+et+"]; return false; ":" var err = "+et+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",nt=i,i=e.pop(),rt?u.errors?u.errors!="full"&&(i+="  for (var "+f+"="+d+"; "+f+"<errors; "+f+"++) { var "+r+" = vErrors["+f+"]; if ("+r+".dataPath === undefined) "+r+".dataPath = (dataPath || '') + "+n.errorPath+"; if ("+r+".schemaPath === undefined) { "+r+'.schemaPath = "'+k+'"; } ',n.opts.verbose&&(i+=" "+r+".schema = "+h+"; "+r+".data = "+c+"; "),i+=" } "):u.errors===!1?i+=" "+nt+" ":(i+=" if ("+d+" == errors) { "+nt+" } else {  for (var "+f+"="+d+"; "+f+"<errors; "+f+"++) { var "+r+" = vErrors["+f+"]; if ("+r+".dataPath === undefined) "+r+".dataPath = (dataPath || '') + "+n.errorPath+"; if ("+r+".schemaPath === undefined) { "+r+'.schemaPath = "'+k+'"; } ',n.opts.verbose&&(i+=" "+r+".schema = "+h+"; "+r+".data = "+c+"; "),i+=" } } "):g?(i+="   var err =   ",n.createErrors!==!1?(i+=" { keyword: '"+(st||"custom")+"' , dataPath: (dataPath || '') + "+n.errorPath+" , schemaPath: "+n.util.toQuotedString(k)+" , params: { keyword: '"+v.keyword+"' } ",n.opts.messages!==!1&&(i+=" , message: 'should pass \""+v.keyword+"\" keyword validation' "),n.opts.verbose&&(i+=" , schema: validate.schema"+ot+" , parentSchema: validate.schema"+n.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!n.compositeRule&&tt&&(i+=n.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; ")):u.errors===!1?i+=" "+nt+" ":(i+=" if (Array.isArray("+l+")) { if (vErrors === null) vErrors = "+l+"; else vErrors = vErrors.concat("+l+"); errors = vErrors.length;  for (var "+f+"="+d+"; "+f+"<errors; "+f+"++) { var "+r+" = vErrors["+f+"]; if ("+r+".dataPath === undefined) "+r+".dataPath = (dataPath || '') + "+n.errorPath+";  "+r+'.schemaPath = "'+k+'";  ',n.opts.verbose&&(i+=" "+r+".schema = "+h+"; "+r+".data = "+c+"; "),i+=" } } else { "+nt+" } "),i+=" } ",tt&&(i+=" else { ")),i}},function(n,t,i){"use strict";var r=i(19);n.exports={$id:"https://github.com/epoberezkin/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:r.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:r.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},"async":{type:"boolean"},errors:{anyOf:[{type:"boolean"},{"const":"full"}]}}}},function(n){n.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},function(n,t,i){(function(){function o(r){var u=t;r&&(t[r]||(t[r]={}),u=t[r]);u.define&&u.define.packaged||(n.original=u.define,u.define=n,u.define.packaged=!0);u.acequire&&u.acequire.packaged||(i.original=u.acequire,u.acequire=i,u.acequire.packaged=!0)}var u="ace",t=function(){return this}(),n;if(t||typeof window=="undefined"||(t=window),u||typeof acequirejs=="undefined"){n=function n(t,i,r){if(typeof t!="string"){n.original?n.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(r=i);n.modules[t]||(n.payloads[t]=r,n.modules[t]=null)};n.modules={};n.payloads={};var f=function(n,t,r){var f,o,u,h,s;if(typeof t=="string"){if(f=e(n,t),f!=undefined)return r&&r(),f}else if(Object.prototype.toString.call(t)==="[object Array]"){for(o=[],u=0,h=t.length;u<h;++u){if(s=e(n,t[u]),s==undefined&&i.original)return;o.push(s)}return r&&r.apply(null,o)||!0}},i=function i(n,t){var r=f("",n,t);return r==undefined&&i.original?i.original.apply(this,arguments):r},r=function r(n,t){var i,u,f;if(t.indexOf("!")!==-1)return i=t.split("!"),r(n,i[0])+"!"+r(n,i[1]);if(t.charAt(0)==".")for(u=n.split("/").slice(0,-1).join("/"),t=u+"/"+t;t.indexOf(".")!==-1&&f!=t;)f=t,t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"");return t},e=function(t,i){var u;if(i=r(t,i),u=n.modules[i],!u){if(u=n.payloads[i],typeof u=="function"){var e={},o={id:i,uri:"",exports:e,packaged:!0},s=function(n,t){return f(i,n,t)},h=u(s,e,o);e=h||o.exports;n.modules[i]=e;delete n.payloads[i]}u=n.modules[i]=e||u}return u};o(u)}})();ace.define("ace/lib/regexp",["require","exports","module"],function(){"use strict";function r(n){return(n.global?"g":"")+(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.extended?"x":"")+(n.sticky?"y":"")}function u(n,t,i){if(Array.prototype.indexOf)return n.indexOf(t,i);for(var r=i||0;r<n.length;r++)if(n[r]===t)return r;return-1}var n={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},i=n.exec.call(/()??/,"")[1]===undefined,t=function(){var t=/^/g;return n.test.call(t,""),!t.lastIndex}();t&&i||(RegExp.prototype.exec=function(f){var e=n.exec.apply(this,arguments),s,h,o;if(typeof f=="string"&&e){if(!i&&e.length>1&&u(e,"")>-1&&(h=RegExp(this.source,n.replace.call(r(this),"g","")),n.replace.call(f.slice(e.index),h,function(){for(var n=1;n<arguments.length-2;n++)arguments[n]===undefined&&(e[n]=undefined)})),this._xregexp&&this._xregexp.captureNames)for(o=1;o<e.length;o++)s=this._xregexp.captureNames[o-1],s&&(e[s]=e[o]);!t&&this.global&&!e[0].length&&this.lastIndex>e.index&&this.lastIndex--}return e},t||(RegExp.prototype.test=function(t){var i=n.exec.call(this,t);return i&&this.global&&!i[0].length&&this.lastIndex>i.index&&this.lastIndex--,!!i}))});ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function c(){}function g(n){try{return Object.defineProperty(n,"sentinel",{}),"sentinel"in n}catch(t){}}function et(n){return n=+n,n!==n?n=0:n!==0&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}var b,v,r,k,d,nt,tt,h,at,f,ut,ft,u;Function.prototype.bind||(Function.prototype.bind=function(n){var t=this,r,i;if(typeof t!="function")throw new TypeError("Function.prototype.bind called on incompatible "+t);return r=o.call(arguments,1),i=function i(){if(this instanceof i){var u=t.apply(this,r.concat(o.call(arguments)));return Object(u)===u?u:this}return t.apply(n,r.concat(o.call(arguments)))},t.prototype&&(c.prototype=t.prototype,i.prototype=new c,c.prototype=null),i});var e=Function.prototype.call,ot=Array.prototype,t=Object.prototype,o=ot.slice,n=e.bind(t.toString),i=e.bind(t.hasOwnProperty),p,w,l,a,s;if((s=i(t,"__defineGetter__"))&&(p=e.bind(t.__defineGetter__),w=e.bind(t.__defineSetter__),l=e.bind(t.__lookupGetter__),a=e.bind(t.__lookupSetter__)),[1,2].splice(0).length!=2&&(function(){function i(n){var t=new Array(n+2);return t[0]=t[1]=0,t}var n=[],t;return n.splice.apply(n,i(20)),n.splice.apply(n,i(26)),t=n.length,n.splice(5,0,"XXX"),t+1==n.length,t+1==n.length?!0:void 0}()?(b=Array.prototype.splice,Array.prototype.splice=function(n,t){return arguments.length?b.apply(this,[n===void 0?0:n,t===void 0?this.length-n:t].concat(o.call(arguments,2))):[]}):Array.prototype.splice=function(n,t){var r=this.length,i;n>0?n>r&&(n=r):n==void 0?n=0:n<0&&(n=Math.max(r+n,0));n+t<r||(t=r-n);var a=this.slice(n,n+t),e=o.call(arguments,2),f=e.length;if(n===r)f&&this.push.apply(this,e);else{var h=Math.min(t,r-n),u=n+h,s=u+f-h,l=r-u,c=r-h;if(s<u)for(i=0;i<l;++i)this[s+i]=this[u+i];else if(s>u)for(i=l;i--;)this[s+i]=this[u+i];if(f&&n===c)this.length=c,this.push.apply(this,e);else for(this.length=c+f,i=0;i<f;++i)this[n+i]=e[i]}return a}),Array.isArray||(Array.isArray=function(t){return n(t)=="[object Array]"}),v=Object("a"),r=v[0]!="a"||!(0 in v),Array.prototype.forEach||(Array.prototype.forEach=function(t){var e=u(this),f=r&&n(this)=="[object String]"?this.split(""):e,o=arguments[1],i=-1,s=f.length>>>0;if(n(t)!="[object Function]")throw new TypeError;while(++i<s)i in f&&t.call(o,f[i],i,e)}),Array.prototype.map||(Array.prototype.map=function(t){var e=u(this),f=r&&n(this)=="[object String]"?this.split(""):e,o=f.length>>>0,s=Array(o),h=arguments[1],i;if(n(t)!="[object Function]")throw new TypeError(t+" is not a function");for(i=0;i<o;i++)i in f&&(s[i]=t.call(h,f[i],i,e));return s}),Array.prototype.filter||(Array.prototype.filter=function(t){var o=u(this),f=r&&n(this)=="[object String]"?this.split(""):o,h=f.length>>>0,s=[],e,c=arguments[1],i;if(n(t)!="[object Function]")throw new TypeError(t+" is not a function");for(i=0;i<h;i++)i in f&&(e=f[i],t.call(c,e,i,o)&&s.push(e));return s}),Array.prototype.every||(Array.prototype.every=function(t){var e=u(this),f=r&&n(this)=="[object String]"?this.split(""):e,o=f.length>>>0,s=arguments[1],i;if(n(t)!="[object Function]")throw new TypeError(t+" is not a function");for(i=0;i<o;i++)if(i in f&&!t.call(s,f[i],i,e))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t){var e=u(this),f=r&&n(this)=="[object String]"?this.split(""):e,o=f.length>>>0,s=arguments[1],i;if(n(t)!="[object Function]")throw new TypeError(t+" is not a function");for(i=0;i<o;i++)if(i in f&&t.call(s,f[i],i,e))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var s=u(this),f=r&&n(this)=="[object String]"?this.split(""):s,o=f.length>>>0,i,e;if(n(t)!="[object Function]")throw new TypeError(t+" is not a function");if(!o&&arguments.length==1)throw new TypeError("reduce of empty array with no initial value");if(i=0,arguments.length>=2)e=arguments[1];else do{if(i in f){e=f[i++];break}if(++i>=o)throw new TypeError("reduce of empty array with no initial value");}while(1);for(;i<o;i++)i in f&&(e=t.call(void 0,e,f[i],i,s));return e}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){var o=u(this),e=r&&n(this)=="[object String]"?this.split(""):o,s=e.length>>>0,f,i;if(n(t)!="[object Function]")throw new TypeError(t+" is not a function");if(!s&&arguments.length==1)throw new TypeError("reduceRight of empty array with no initial value");if(i=s-1,arguments.length>=2)f=arguments[1];else do{if(i in e){f=e[i--];break}if(--i<0)throw new TypeError("reduceRight of empty array with no initial value");}while(1);do i in this&&(f=t.call(void 0,f,e[i],i,o));while(i--);return f}),Array.prototype.indexOf&&[0,1].indexOf(1,2)==-1||(Array.prototype.indexOf=function(t){var f=r&&n(this)=="[object String]"?this.split(""):u(this),e=f.length>>>0,i;if(!e)return-1;for(i=0,arguments.length>1&&(i=et(arguments[1])),i=i>=0?i:Math.max(0,e+i);i<e;i++)if(i in f&&f[i]===t)return i;return-1}),Array.prototype.lastIndexOf&&[0,1].lastIndexOf(0,-3)==-1||(Array.prototype.lastIndexOf=function(t){var f=r&&n(this)=="[object String]"?this.split(""):u(this),e=f.length>>>0,i;if(!e)return-1;for(i=e-1,arguments.length>1&&(i=Math.min(i,et(arguments[1]))),i=i>=0?i:e-Math.abs(i);i>=0;i--)if(i in f&&t===f[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(n){return n.__proto__||(n.constructor?n.constructor.prototype:t)}),Object.getOwnPropertyDescriptor||(k="Object.getOwnPropertyDescriptor called on a non-object: ",Object.getOwnPropertyDescriptor=function(n,r){var u,o,f,e;if(typeof n!="object"&&typeof n!="function"||n===null)throw new TypeError(k+n);if(i(n,r))return(u={enumerable:!0,configurable:!0},s&&(o=n.__proto__,n.__proto__=t,f=l(n,r),e=a(n,r),n.__proto__=o,f||e))?(f&&(u.get=f),e&&(u.set=e),u):(u.value=n[r],u)}),Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(n){return Object.keys(n)}),Object.create||(d=Object.prototype.__proto__===null?function(){return{__proto__:null}}:function(){var n={};for(var t in n)n[t]=null;return n.constructor=n.hasOwnProperty=n.propertyIsEnumerable=n.isPrototypeOf=n.toLocaleString=n.toString=n.valueOf=n.__proto__=null,n},Object.create=function(n,t){var i,r;if(n===null)i=d();else{if(typeof n!="object")throw new TypeError("typeof prototype["+typeof n+"] != 'object'");r=function(){};r.prototype=n;i=new r;i.__proto__=n}return t!==void 0&&Object.defineProperties(i,t),i}),Object.defineProperty&&(nt=g({}),tt=typeof document=="undefined"||g(document.createElement("div")),nt&&tt||(h=Object.defineProperty)),!Object.defineProperty||h){var st="Property description must be an object: ",ht="Object.defineProperty called on non-object: ",ct="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(n,r,u){if(typeof n!="object"&&typeof n!="function"||n===null)throw new TypeError(ht+n);if(typeof u!="object"&&typeof u!="function"||u===null)throw new TypeError(st+u);if(h)try{return h.call(Object,n,r,u)}catch(e){}if(i(u,"value"))if(s&&(l(n,r)||a(n,r))){var f=n.__proto__;n.__proto__=t;delete n[r];n[r]=u.value;n.__proto__=f}else n[r]=u.value;else{if(!s)throw new TypeError(ct);i(u,"get")&&p(n,r,u.get);i(u,"set")&&w(n,r,u.set)}return n}}Object.defineProperties||(Object.defineProperties=function(n,t){for(var r in t)i(t,r)&&Object.defineProperty(n,r,t[r]);return n});Object.seal||(Object.seal=function(n){return n});Object.freeze||(Object.freeze=function(n){return n});try{Object.freeze(function(){})}catch(li){Object.freeze=function(n){return function(t){return typeof t=="function"?t:n(t)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(n){return n}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(n){var t,r;if(Object(n)===n)throw new TypeError;for(t="";i(n,t);)t+="?";return n[t]=!0,r=i(n,t),delete n[t],r}),!Object.keys){var it=!0,rt=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],lt=rt.length;for(at in{toString:null})it=!1;Object.keys=function(n){var t,u,r,e,f;if(typeof n!="object"&&typeof n!="function"||n===null)throw new TypeError("Object.keys called on a non-object");t=[];for(u in n)i(n,u)&&t.push(u);if(it)for(r=0,e=lt;r<e;r++)f=rt[r],i(n,f)&&t.push(f);return t}}Date.now||(Date.now=function(){return(new Date).getTime()});f="\t\n\x0b\f\r   ᠎             　\u2028\u2029﻿";(!String.prototype.trim||f.trim())&&(f="["+f+"]",ut=new RegExp("^"+f+f+"*"),ft=new RegExp(f+f+"*$"),String.prototype.trim=function(){return String(this).replace(ut,"").replace(ft,"")});u=function(n){if(n==null)throw new TypeError("can't convert "+n+" to object");return Object(n)}});ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(n){"use strict";n("./regexp");n("./es5-shim")});ace.define("ace/lib/dom",["require","exports","module"],function(n,t){"use strict";var i="http://www.w3.org/1999/xhtml";if(t.getDocumentHead=function(n){return n||(n=document),n.head||n.getElementsByTagName("head")[0]||n.documentElement},t.createElement=function(n,t){return document.createElementNS?document.createElementNS(t||i,n):document.createElement(n)},t.hasCssClass=function(n,t){var i=(n.className+"").split(/\s+/g);return i.indexOf(t)!==-1},t.addCssClass=function(n,i){t.hasCssClass(n,i)||(n.className+=" "+i)},t.removeCssClass=function(n,t){for(var i=n.className.split(/\s+/g),r;;){if(r=i.indexOf(t),r==-1)break;i.splice(r,1)}n.className=i.join(" ")},t.toggleCssClass=function(n,t){for(var i=n.className.split(/\s+/g),r=!0,u;;){if(u=i.indexOf(t),u==-1)break;r=!1;i.splice(u,1)}return r&&i.push(t),n.className=i.join(" "),r},t.setCssClass=function(n,i,r){r?t.addCssClass(n,i):t.removeCssClass(n,i)},t.hasCssString=function(n,t){var r=0,i;if(t=t||document,t.createStyleSheet&&(i=t.styleSheets)){while(r<i.length)if(i[r++].owningElement.id===n)return!0}else if(i=t.getElementsByTagName("style"))while(r<i.length)if(i[r++].id===n)return!0;return!1},t.importCssString=function(n,i,r){if(r=r||document,i&&t.hasCssString(i,r))return null;var u;i&&(n+="\n/*# sourceURL=ace/css/"+i+" */");r.createStyleSheet?(u=r.createStyleSheet(),u.cssText=n,i&&(u.owningElement.id=i)):(u=t.createElement("style"),u.appendChild(r.createTextNode(n)),i&&(u.id=i),t.getDocumentHead(r).appendChild(u))},t.importCssStylsheet=function(n,i){if(i.createStyleSheet)i.createStyleSheet(n);else{var r=t.createElement("link");r.rel="stylesheet";r.href=n;t.getDocumentHead(i).appendChild(r)}},t.getInnerWidth=function(n){return parseInt(t.computedStyle(n,"paddingLeft"),10)+parseInt(t.computedStyle(n,"paddingRight"),10)+n.clientWidth},t.getInnerHeight=function(n){return parseInt(t.computedStyle(n,"paddingTop"),10)+parseInt(t.computedStyle(n,"paddingBottom"),10)+n.clientHeight},t.scrollbarWidth=function(n){var r=t.createElement("ace_inner"),u,i,e,o,f;return r.style.width="100%",r.style.minWidth="0px",r.style.height="200px",r.style.display="block",u=t.createElement("ace_outer"),i=u.style,i.position="absolute",i.left="-10000px",i.overflow="hidden",i.width="200px",i.minWidth="0px",i.height="150px",i.display="block",u.appendChild(r),e=n.documentElement,e.appendChild(u),o=r.offsetWidth,i.overflow="scroll",f=r.offsetWidth,o==f&&(f=u.clientWidth),e.removeChild(u),o-f},typeof document=="undefined"){t.importCssString=function(){};return}window.pageYOffset!==undefined?(t.getPageScrollTop=function(){return window.pageYOffset},t.getPageScrollLeft=function(){return window.pageXOffset}):(t.getPageScrollTop=function(){return document.body.scrollTop},t.getPageScrollLeft=function(){return document.body.scrollLeft});t.computedStyle=window.getComputedStyle?function(n,t){return t?(window.getComputedStyle(n,"")||{})[t]||"":window.getComputedStyle(n,"")||{}}:function(n,t){return t?n.currentStyle[t]:n.currentStyle};t.setInnerHtml=function(n,t){var i=n.cloneNode(!1);return i.innerHTML=t,n.parentNode.replaceChild(i,n),i};"textContent"in document.documentElement?(t.setInnerText=function(n,t){n.textContent=t},t.getInnerText=function(n){return n.textContent}):(t.setInnerText=function(n,t){n.innerText=t},t.getInnerText=function(n){return n.innerText});t.getParentWindow=function(n){return n.defaultView||n.parentWindow}});ace.define("ace/lib/oop",["require","exports","module"],function(n,t){"use strict";t.inherits=function(n,t){n.super_=t;n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})};t.mixin=function(n,t){for(var i in t)n[i]=t[i];return n};t.implement=function(n,i){t.mixin(n,i)}});ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(n,t){"use strict";n("./fixoldbrowsers");var i=n("./oop"),r=function(){var n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,"super":8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},r;for(var t in n.FUNCTION_KEYS)r=n.FUNCTION_KEYS[t].toLowerCase(),n[r]=parseInt(t,10);for(t in n.PRINTABLE_KEYS)r=n.PRINTABLE_KEYS[t].toLowerCase(),n[r]=parseInt(t,10);return i.mixin(n,n.MODIFIER_KEYS),i.mixin(n,n.PRINTABLE_KEYS),i.mixin(n,n.FUNCTION_KEYS),n.enter=n["return"],n.escape=n.esc,n.del=n["delete"],n[173]="-",function(){for(var i=["cmd","ctrl","alt","shift"],t=Math.pow(2,i.length);t--;)n.KEY_MODS[t]=i.filter(function(i){return t&n.KEY_MODS[i]}).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();i.mixin(t,r);t.keyCodeToString=function(n){var t=r[n];return typeof t!="string"&&(t=String.fromCharCode(n)),t.toLowerCase()}});ace.define("ace/lib/useragent",["require","exports","module"],function(n,t){"use strict";if(t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS},typeof navigator=="object"){var r=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),i=navigator.userAgent;t.isWin=r=="win";t.isMac=r=="mac";t.isLinux=r=="linux";t.isIE=navigator.appName=="Microsoft Internet Explorer"||navigator.appName.indexOf("MSAppHost")>=0?parseFloat((i.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((i.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]);t.isOldIE=t.isIE&&t.isIE<9;t.isGecko=t.isMozilla=(window.Controllers||window.controllers)&&window.navigator.product==="Gecko";t.isOldGecko=t.isGecko&&parseInt((i.match(/rv:(\d+)/)||[])[1],10)<4;t.isOpera=window.opera&&Object.prototype.toString.call(window.opera)=="[object Opera]";t.isWebKit=parseFloat(i.split("WebKit/")[1])||undefined;t.isChrome=parseFloat(i.split(" Chrome/")[1])||undefined;t.isAIR=i.indexOf("AdobeAIR")>=0;t.isIPad=i.indexOf("iPad")>=0;t.isChromeOS=i.indexOf(" CrOS ")>=0;t.isIOS=/iPad|iPhone|iPod/.test(i)&&!window.MSStream;t.isIOS&&(t.isMac=!0)}});ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(n,t){"use strict";function o(n,t,o){var s=f(t),c,h;if(!i.isMac&&r){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(s|=8),r.altGr)if((3&s)!=3)r.altGr=0;else return;(o===18||o===17)&&(h="location"in t?t.location:t.keyLocation,o===17&&h===1?r[o]==1&&(e=t.timeStamp):o===18&&s===3&&h===2&&(c=t.timeStamp-e,c<50&&(r.altGr=!0)))}if(o in u.MODIFIER_KEYS&&(o=-1),s&8&&o>=91&&o<=93&&(o=-1),s||o!==13||(h="location"in t?t.location:t.keyLocation,h!==3||(n(t,s,-o),!t.defaultPrevented))){if(i.isChromeOS&&s&8){if(n(t,s,o),t.defaultPrevented)return;s&=-9}return!s&&!(o in u.FUNCTION_KEYS)&&!(o in u.PRINTABLE_KEYS)?!1:n(t,s,o)}}function s(){r=Object.create(null)}var u=n("./keys"),i=n("./useragent"),r=null,e=0,f,h;t.addListener=function(n,t,i){if(n.addEventListener)return n.addEventListener(t,i,!1);if(n.attachEvent){var r=function(){i.call(n,window.event)};i._wrapper=r;n.attachEvent("on"+t,r)}};t.removeListener=function(n,t,i){if(n.removeEventListener)return n.removeEventListener(t,i,!1);n.detachEvent&&n.detachEvent("on"+t,i._wrapper||i)};t.stopEvent=function(n){return t.stopPropagation(n),t.preventDefault(n),!1};t.stopPropagation=function(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0};t.preventDefault=function(n){n.preventDefault?n.preventDefault():n.returnValue=!1};t.getButton=function(n){return n.type=="dblclick"?0:n.type=="contextmenu"||i.isMac&&n.ctrlKey&&!n.altKey&&!n.shiftKey?2:n.preventDefault?n.button:{1:0,2:2,4:1}[n.button]};t.capture=function(n,i,r){function u(n){i&&i(n);r&&r(n);t.removeListener(document,"mousemove",i,!0);t.removeListener(document,"mouseup",u,!0);t.removeListener(document,"dragstart",u,!0)}return t.addListener(document,"mousemove",i,!0),t.addListener(document,"mouseup",u,!0),t.addListener(document,"dragstart",u,!0),u};t.addTouchMoveListener=function(n,i){var r,u;t.addListener(n,"touchstart",function(n){var i=n.touches,t=i[0];r=t.clientX;u=t.clientY});t.addListener(n,"touchmove",function(n){var f=n.touches,t;f.length>1||(t=f[0],n.wheelX=r-t.clientX,n.wheelY=u-t.clientY,r=t.clientX,u=t.clientY,i(n))})};t.addMouseWheelListener=function(n,i){"onmousewheel"in n?t.addListener(n,"mousewheel",function(n){var t=8;n.wheelDeltaX!==undefined?(n.wheelX=-n.wheelDeltaX/t,n.wheelY=-n.wheelDeltaY/t):(n.wheelX=0,n.wheelY=-n.wheelDelta/t);i(n)}):"onwheel"in n?t.addListener(n,"wheel",function(n){var t=.35;switch(n.deltaMode){case n.DOM_DELTA_PIXEL:n.wheelX=n.deltaX*t||0;n.wheelY=n.deltaY*t||0;break;case n.DOM_DELTA_LINE:case n.DOM_DELTA_PAGE:n.wheelX=(n.deltaX||0)*5;n.wheelY=(n.deltaY||0)*5}i(n)}):t.addListener(n,"DOMMouseScroll",function(n){n.axis&&n.axis==n.HORIZONTAL_AXIS?(n.wheelX=(n.detail||0)*5,n.wheelY=0):(n.wheelX=0,n.wheelY=(n.detail||0)*5);i(n)})};t.addMultiMouseDownListener=function(n,r,u,f){function l(n){if(t.getButton(n)!==0?e=0:n.detail>1?(e++,e>4&&(e=1)):e=1,i.isIE){var l=Math.abs(n.clientX-s)>5||Math.abs(n.clientY-h)>5;(!o||l)&&(e=1);o&&clearTimeout(o);o=setTimeout(function(){o=null},r[e-1]||600);e==1&&(s=n.clientX,h=n.clientY)}if(n._clicks=e,u[f]("mousedown",n),e>4)e=0;else if(e>1)return u[f](c[e],n)}function a(n){e=2;o&&clearTimeout(o);o=setTimeout(function(){o=null},r[e-1]||600);u[f]("mousedown",n);u[f](c[e],n)}var e=0,s,h,o,c={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(n)||(n=[n]);n.forEach(function(n){t.addListener(n,"mousedown",l);i.isOldIE&&t.addListener(n,"dblclick",a)})};f=i.isMac&&i.isOpera&&!("KeyboardEvent"in window)?function(n){return 0|(n.metaKey?1:0)|(n.altKey?2:0)|(n.shiftKey?4:0)|(n.ctrlKey?8:0)}:function(n){return 0|(n.ctrlKey?1:0)|(n.altKey?2:0)|(n.shiftKey?4:0)|(n.metaKey?8:0)};t.getModifierString=function(n){return u.KEY_MODS[f(n)]};t.addCommandKeyListener=function(n,u){var f=t.addListener,h,e;!i.isOldGecko&&(!i.isOpera||"KeyboardEvent"in window)?(e=null,f(n,"keydown",function(n){r[n.keyCode]=(r[n.keyCode]||0)+1;var t=o(u,n,n.keyCode);return e=n.defaultPrevented,t}),f(n,"keypress",function(n){e&&(n.ctrlKey||n.altKey||n.shiftKey||n.metaKey)&&(t.stopEvent(n),e=null)}),f(n,"keyup",function(n){r[n.keyCode]=null}),r||(s(),f(window,"focus",s))):(h=null,f(n,"keydown",function(n){h=n.keyCode}),f(n,"keypress",function(n){return o(u,n,h)}))};typeof window=="object"&&window.postMessage&&!i.isOldIE&&(h=1,t.nextTick=function(n,i){i=i||window;var r="zero-timeout-message-"+h;t.addListener(i,"message",function u(f){f.data==r&&(t.stopPropagation(f),t.removeListener(i,"message",u),n())});i.postMessage(r,"*")});t.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame);t.nextFrame=t.nextFrame?t.nextFrame.bind(window):function(n){setTimeout(n,17)}});ace.define("ace/lib/lang",["require","exports","module"],function(n,t){"use strict";t.last=function(n){return n[n.length-1]};t.stringReverse=function(n){return n.split("").reverse().join("")};t.stringRepeat=function(n,t){for(var i="";t>0;)t&1&&(i+=n),(t>>=1)&&(n+=n);return i};var r=/^\s\s*/,u=/\s\s*$/;t.stringTrimLeft=function(n){return n.replace(r,"")};t.stringTrimRight=function(n){return n.replace(u,"")};t.copyObject=function(n){var t={};for(var i in n)t[i]=n[i];return t};t.copyArray=function(n){for(var i=[],t=0,r=n.length;t<r;t++)i[t]=n[t]&&typeof n[t]=="object"?this.copyObject(n[t]):n[t];return i};t.deepCopy=function i(n){var r,t;if(typeof n!="object"||!n)return n;if(Array.isArray(n)){for(r=[],t=0;t<n.length;t++)r[t]=i(n[t]);return r}if(Object.prototype.toString.call(n)!=="[object Object]")return n;r={};for(t in n)r[t]=i(n[t]);return r};t.arrayToMap=function(n){for(var i={},t=0;t<n.length;t++)i[n[t]]=1;return i};t.createMap=function(n){var t=Object.create(null);for(var i in n)t[i]=n[i];return t};t.arrayRemove=function(n,t){for(var i=0;i<=n.length;i++)t===n[i]&&n.splice(i,1)};t.escapeRegExp=function(n){return n.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")};t.escapeHTML=function(n){return n.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")};t.getMatchOffsets=function(n,t){var i=[];return n.replace(t,function(n){i.push({offset:arguments[arguments.length-2],length:n.length})}),i};t.deferredCall=function(n){var i=null,r=function(){i=null;n()},t=function t(n){return t.cancel(),i=setTimeout(r,n||0),t};return t.schedule=t,t.call=function(){return this.cancel(),n(),t},t.cancel=function(){return clearTimeout(i),i=null,t},t.isPending=function(){return i},t};t.delayedCall=function(n,t){var i=null,u=function(){i=null;n()},r=function(n){i==null&&(i=setTimeout(u,n||t))};return r.delay=function(n){i&&clearTimeout(i);i=setTimeout(u,n||t)},r.schedule=r,r.call=function(){this.cancel();n()},r.cancel=function(){i&&clearTimeout(i);i=null},r.isPending=function(){return i},r}});ace.define("ace/keyboard/textinput_ios",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/lib/keys"],function(n,t){"use strict";var i=n("../lib/event"),r=n("../lib/useragent"),o=n("../lib/dom"),e=n("../lib/lang"),u=n("../lib/keys"),f=u.KEY_MODS,s=r.isChrome<18,h=r.isIE,c=function(n,t){function v(n){if(!l){if(l=!0,y)t=0,i=n?0:c.value.length-1;else var t=4,i=5;try{c.setSelectionRange(t,i)}catch(r){}l=!1}}function k(){l||(c.value=a,r.isWebKit&&lt.schedule())}function nt(){clearTimeout(st);st=setTimeout(function(){b&&(c.style.cssText=b,b="");t.renderer.$keepTextAreaAtCursor==null&&(t.renderer.$keepTextAreaAtCursor=!0,t.renderer.$moveTextAreaToCursor())},0)}var ii=this,c=o.createElement("textarea"),p,ct,lt,st,tt,it,rt,ht;c.className=r.isIOS?"ace_text-input ace_text-input-ios":"ace_text-input";r.isTouchPad&&c.setAttribute("x-palm-disable-auto-cap",!0);c.setAttribute("wrap","off");c.setAttribute("autocorrect","off");c.setAttribute("autocapitalize","off");c.setAttribute("spellcheck",!1);c.style.opacity="0";n.insertBefore(c,n.firstChild);var a="\n aaaa a\n",w=!1,ut=!1,ft=!1,l=!1,b="",d=!0;try{p=document.activeElement===c}catch(ri){}i.addListener(c,"blur",function(n){t.onBlur(n);p=!1});i.addListener(c,"focus",function(n){p=!0;t.onFocus(n);v()});this.focus=function(){if(b)return c.focus();c.style.position="fixed";c.focus()};this.blur=function(){c.blur()};this.isFocused=function(){return p};ct=e.delayedCall(function(){p&&v(d)});lt=e.delayedCall(function(){l||(c.value=a,p&&v())});r.isWebKit||t.addEventListener("changeSelection",function(){t.selection.isEmpty()!=d&&(d=!d,ct.schedule())});k();p&&t.onFocus();var bt=function(n){return n.selectionStart===0&&n.selectionEnd===n.value.length},kt=function(){bt(c)?(t.selectAll(),v()):y&&v(t.selection.isEmpty())},y=null;this.setInputHandler=function(n){y=n};this.getInputHandler=function(){return y};var g=!1,at=function(n){if(c.selectionStart!==4||c.selectionEnd!==5){if(y&&(n=y(n),y=null),ft){if(v(),n)t.onPaste(n);ft=!1}else if(n==a.substr(0)&&c.selectionStart===4)g?t.execCommand("del",{source:"ace"}):t.execCommand("backspace",{source:"ace"});else if(!w&&(n.substring(0,9)==a&&n.length>a.length?n=n.substr(9):n.substr(0,4)==a.substr(0,4)?n=n.substr(4,n.length-a.length+1):n.charAt(n.length-1)==a.charAt(0)&&(n=n.slice(0,-1)),n==a.charAt(0)||n.charAt(n.length-1)==a.charAt(0)&&(n=n.slice(0,-1)),n))t.onTextInput(n);w&&(w=!1);g&&(g=!1)}},vt=function(){if(!l){var n=c.value;at(n);k()}},yt=function(n,t,i){var f=!0,r,u;n:while(f){var o=n,e=t,c=i;if(f=!1,r=o.clipboardData||window.clipboardData,!r||s)return;u=h||c?"Text":"text/plain";try{return e?r.setData(u,e)!==!1:r.getData(u)}catch(o){if(!c){n=o;t=e;i=!0;f=!0;r=u=undefined;continue n}}}},pt=function(n,u){var f=t.getCopyText();if(!f)return i.preventDefault(n);yt(n,f)?(r.isIOS&&(ut=u,c.value="\n aa"+f+"a a\n",c.setSelectionRange(4,4+f.length),w={value:f}),u?t.onCut():t.onCopy(),r.isIOS||i.preventDefault(n)):(w=!0,c.value=f,c.select(),setTimeout(function(){w=!1;k();v();u?t.onCut():t.onCopy()}))},dt=function(n){pt(n,!0)},gt=function(n){pt(n,!1)},ni=function(n){var u=yt(n);if(typeof u=="string"){if(u)t.onPaste(u,n);r.isIE&&setTimeout(v);i.preventDefault(n)}else c.value="",ft=!0};i.addCommandKeyListener(c,t.onCommandKey.bind(t));i.addListener(c,"select",kt);i.addListener(c,"input",vt);i.addListener(c,"cut",dt);i.addListener(c,"copy",gt);i.addListener(c,"paste",ni);var ti=function(){if(!l&&t.onCompositionStart&&!t.$readOnly){l={};l.canUndo=t.session.$undoManager;t.onCompositionStart();setTimeout(wt,0);t.on("mousedown",et);l.canUndo&&!t.selection.isEmpty()&&(t.insert(""),t.session.markUndoGroup(),t.selection.clearSelection());t.session.markUndoGroup()}},wt=function(){var n,i;if(l&&t.onCompositionUpdate&&!t.$readOnly&&(n=c.value.replace(/\x01/g,""),l.lastValue!==n)){t.onCompositionUpdate(n);l.lastValue&&t.undo();l.canUndo&&(l.lastValue=n);l.lastValue&&(i=t.selection.getRange(),t.insert(l.lastValue),t.session.markUndoGroup(),l.range=t.selection.getRange(),t.selection.setRange(i),t.selection.clearSelection())}},et=function et(n){var i,u,f;t.onCompositionEnd&&!t.$readOnly&&(i=l,l=!1,u=setTimeout(function(){u=null;var n=c.value.replace(/\x01/g,"");l||(n==i.lastValue?k():!i.lastValue&&n&&(k(),at(n)))}),y=function(n){return(u&&clearTimeout(u),n=n.replace(/\x01/g,""),n==i.lastValue)?"":(i.lastValue&&u&&t.undo(),n)},t.onCompositionEnd(),t.removeListener("mousedown",et),n.type=="compositionend"&&i.range&&t.selection.setRange(i.range),f=!!r.isChrome&&r.isChrome>=53||!!r.isWebKit&&r.isWebKit>=603,f&&vt())},ot=e.delayedCall(wt,50);if(i.addListener(c,"compositionstart",ti),r.isGecko?i.addListener(c,"text",function(){ot.schedule()}):(i.addListener(c,"keyup",function(){ot.schedule()}),i.addListener(c,"keydown",function(){ot.schedule()})),i.addListener(c,"compositionend",et),this.getElement=function(){return c},this.setReadOnly=function(n){c.readOnly=n},this.onContextMenu=function(n){g=!0;v(t.selection.isEmpty());t._emit("nativecontextmenu",{target:t,domEvent:n});this.moveToMouse(n,!0)},this.moveToMouse=function(n,u){b||(b=c.style.cssText);c.style.cssText=(u?"z-index:100000;":"")+"height:"+c.style.height+";"+(r.isIE?"opacity:0.1;":"");var f=t.container.getBoundingClientRect(),h=o.computedStyle(t.container),e=f.top+(parseInt(h.borderTopWidth)||0),l=f.left+(parseInt(f.borderLeftWidth)||0),a=f.bottom-e-c.clientHeight-2,s=function(n){c.style.left=n.clientX-l-2+"px";c.style.top=Math.min(n.clientY-e-2,a)+"px"};(s(n),n.type=="mousedown")&&(t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=null),clearTimeout(st),r.isWin&&i.capture(t.container,s,nt))},this.onContextMenuClose=nt,tt=function(n){t.textInput.onContextMenu(n);nt()},i.addListener(c,"mouseup",tt),i.addListener(c,"mousedown",function(n){n.preventDefault();nt()}),i.addListener(t.renderer.scroller,"contextmenu",tt),i.addListener(c,"contextmenu",tt),r.isIOS){it=null;rt=!1;n.addEventListener("keydown",function(){it&&clearTimeout(it);rt=!0});n.addEventListener("keyup",function(){it=setTimeout(function(){rt=!1},100)});ht=function(){if(document.activeElement===c&&!rt){if(ut)return setTimeout(function(){ut=!1},100);var n=c.selectionStart,i=c.selectionEnd;if(c.setSelectionRange(4,5),n==i)switch(n){case 0:t.onCommandKey(null,0,u.up);break;case 1:t.onCommandKey(null,0,u.home);break;case 2:t.onCommandKey(null,f.option,u.left);break;case 4:t.onCommandKey(null,0,u.left);break;case 5:t.onCommandKey(null,0,u.right);break;case 7:t.onCommandKey(null,f.option,u.right);break;case 8:t.onCommandKey(null,0,u.end);break;case 9:t.onCommandKey(null,0,u.down)}else{switch(i){case 6:t.onCommandKey(null,f.shift,u.right);break;case 7:t.onCommandKey(null,f.shift|f.option,u.right);break;case 8:t.onCommandKey(null,f.shift,u.end);break;case 9:t.onCommandKey(null,f.shift,u.down)}switch(n){case 0:t.onCommandKey(null,f.shift,u.up);break;case 1:t.onCommandKey(null,f.shift,u.home);break;case 2:t.onCommandKey(null,f.shift|f.option,u.left);break;case 3:t.onCommandKey(null,f.shift,u.left)}}}};document.addEventListener("selectionchange",ht);t.on("destroy",function(){document.removeEventListener("selectionchange",ht)})}};t.TextInput=c});ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/keyboard/textinput_ios"],function(n,t){"use strict";var i=n("../lib/event"),r=n("../lib/useragent"),f=n("../lib/dom"),u=n("../lib/lang"),e=r.isChrome<18,o=r.isIE,s=n("./textinput_ios").TextInput,h=function(n,t){function l(n){var t,i;if(!c){c=!0;a?(t=0,i=n?0:h.value.length-1):(t=n?2:1,i=2);try{h.setSelectionRange(t,i)}catch(r){}c=!1}}function w(){c||(h.value=v,r.isWebKit&&et.schedule())}function g(){clearTimeout(ut);ut=setTimeout(function(){p&&(h.style.cssText=p,p="");t.renderer.$keepTextAreaAtCursor==null&&(t.renderer.$keepTextAreaAtCursor=!0,t.renderer.$moveTextAreaToCursor())},0)}var h,y,ft,et,ut,nt;if(r.isIOS)return s.call(this,n,t);h=f.createElement("textarea");h.className="ace_text-input";h.setAttribute("wrap","off");h.setAttribute("autocorrect","off");h.setAttribute("autocapitalize","off");h.setAttribute("spellcheck",!1);h.style.opacity="0";n.insertBefore(h,n.firstChild);var v="\u2028\u2028",b=!1,tt=!1,c=!1,p="",k=!0;try{y=document.activeElement===h}catch(kt){}i.addListener(h,"blur",function(n){t.onBlur(n);y=!1});i.addListener(h,"focus",function(n){y=!0;t.onFocus(n);l()});this.focus=function(){if(p)return h.focus();var n=h.style.top;h.style.position="fixed";h.style.top="0px";h.focus();setTimeout(function(){h.style.position="";h.style.top=="0px"&&(h.style.top=n)},0)};this.blur=function(){h.blur()};this.isFocused=function(){return y};ft=u.delayedCall(function(){y&&l(k)});et=u.delayedCall(function(){c||(h.value=v,y&&l())});r.isWebKit||t.addEventListener("changeSelection",function(){t.selection.isEmpty()!=k&&(k=!k,ft.schedule())});w();y&&t.onFocus();var pt=function(n){return n.selectionStart===0&&n.selectionEnd===n.value.length},wt=function(){b?b=!1:pt(h)?(t.selectAll(),l()):a&&l(t.selection.isEmpty())},a=null;this.setInputHandler=function(n){a=n};this.getInputHandler=function(){return a};var d=!1,ot=function(n){if(a&&(n=a(n),a=null),tt){if(l(),n)t.onPaste(n);tt=!1}else if(n==v.charAt(0))d?t.execCommand("del",{source:"ace"}):t.execCommand("backspace",{source:"ace"});else if(n.substring(0,2)==v?n=n.substr(2):n.charAt(0)==v.charAt(0)?n=n.substr(1):n.charAt(n.length-1)==v.charAt(0)&&(n=n.slice(0,-1)),n.charAt(n.length-1)==v.charAt(0)&&(n=n.slice(0,-1)),n)t.onTextInput(n);d&&(d=!1)},st=function(){if(!c){var n=h.value;ot(n);w()}},ht=function(n,t,i){var f=!0,r,u;n:while(f){var h=n,s=t,c=i;if(f=!1,r=h.clipboardData||window.clipboardData,!r||e)return;u=o||c?"Text":"text/plain";try{return s?r.setData(u,s)!==!1:r.getData(u)}catch(h){if(!c){n=h;t=s;i=!0;f=!0;r=u=undefined;continue n}}}},ct=function(n,r){var u=t.getCopyText();if(!u)return i.preventDefault(n);ht(n,u)?(r?t.onCut():t.onCopy(),i.preventDefault(n)):(b=!0,h.value=u,h.select(),setTimeout(function(){b=!1;w();l();r?t.onCut():t.onCopy()}))},lt=function(n){ct(n,!0)},at=function(n){ct(n,!1)},vt=function(n){var u=ht(n);if(typeof u=="string"){if(u)t.onPaste(u,n);r.isIE&&setTimeout(l);i.preventDefault(n)}else h.value="",tt=!0};i.addCommandKeyListener(h,t.onCommandKey.bind(t));i.addListener(h,"select",wt);i.addListener(h,"input",st);i.addListener(h,"cut",lt);i.addListener(h,"copy",at);i.addListener(h,"paste",vt);"oncut"in h&&"oncopy"in h&&"onpaste"in h||i.addListener(n,"keydown",function(n){if((!r.isMac||n.metaKey)&&n.ctrlKey)switch(n.keyCode){case 67:at(n);break;case 86:vt(n);break;case 88:lt(n)}});var bt=function(){if(!c&&t.onCompositionStart&&!t.$readOnly){c={};c.canUndo=t.session.$undoManager;t.onCompositionStart();setTimeout(yt,0);t.on("mousedown",it);c.canUndo&&!t.selection.isEmpty()&&(t.insert(""),t.session.markUndoGroup(),t.selection.clearSelection());t.session.markUndoGroup()}},yt=function(){var n,i;if(c&&t.onCompositionUpdate&&!t.$readOnly&&(n=h.value.replace(/\u2028/g,""),c.lastValue!==n)){t.onCompositionUpdate(n);c.lastValue&&t.undo();c.canUndo&&(c.lastValue=n);c.lastValue&&(i=t.selection.getRange(),t.insert(c.lastValue),t.session.markUndoGroup(),c.range=t.selection.getRange(),t.selection.setRange(i),t.selection.clearSelection())}},it=function it(n){var i,u,f;t.onCompositionEnd&&!t.$readOnly&&(i=c,c=!1,u=setTimeout(function(){u=null;var n=h.value.replace(/\u2028/g,"");c||(n==i.lastValue?w():!i.lastValue&&n&&(w(),ot(n)))}),a=function(n){return(u&&clearTimeout(u),n=n.replace(/\u2028/g,""),n==i.lastValue)?"":(i.lastValue&&u&&t.undo(),n)},t.onCompositionEnd(),t.removeListener("mousedown",it),n.type=="compositionend"&&i.range&&t.selection.setRange(i.range),f=!!r.isChrome&&r.isChrome>=53||!!r.isWebKit&&r.isWebKit>=603,f&&st())},rt=u.delayedCall(yt,50);i.addListener(h,"compositionstart",bt);r.isGecko?i.addListener(h,"text",function(){rt.schedule()}):(i.addListener(h,"keyup",function(){rt.schedule()}),i.addListener(h,"keydown",function(){rt.schedule()}));i.addListener(h,"compositionend",it);this.getElement=function(){return h};this.setReadOnly=function(n){h.readOnly=n};this.onContextMenu=function(n){d=!0;l(t.selection.isEmpty());t._emit("nativecontextmenu",{target:t,domEvent:n});this.moveToMouse(n,!0)};this.moveToMouse=function(n,u){p||(p=h.style.cssText);h.style.cssText=(u?"z-index:100000;":"")+"height:"+h.style.height+";"+(r.isIE?"opacity:0.1;":"");var e=t.container.getBoundingClientRect(),c=f.computedStyle(t.container),o=e.top+(parseInt(c.borderTopWidth)||0),l=e.left+(parseInt(e.borderLeftWidth)||0),a=e.bottom-o-h.clientHeight-2,s=function(n){h.style.left=n.clientX-l-2+"px";h.style.top=Math.min(n.clientY-o-2,a)+"px"};(s(n),n.type=="mousedown")&&(t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=null),clearTimeout(ut),r.isWin&&i.capture(t.container,s,g))};this.onContextMenuClose=g;nt=function(n){t.textInput.onContextMenu(n);g()};i.addListener(h,"mouseup",nt);i.addListener(h,"mousedown",function(n){n.preventDefault();g()});i.addListener(t.renderer.scroller,"contextmenu",nt);i.addListener(h,"contextmenu",nt)};t.TextInput=h});ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(n,t){"use strict";function r(n){var t,i;n.$clickSelection=null;t=n.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(n));t.setDefaultHandler("dblclick",this.onDoubleClick.bind(n));t.setDefaultHandler("tripleclick",this.onTripleClick.bind(n));t.setDefaultHandler("quadclick",this.onQuadClick.bind(n));t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(n));t.setDefaultHandler("touchmove",this.onTouchMove.bind(n));i=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];i.forEach(function(t){n[t]=this[t]},this);n.selectByLines=this.extendSelectionBy.bind(n,"getLineRange");n.selectByWords=this.extendSelectionBy.bind(n,"getWordRange")}function o(n,t,i,r){return Math.sqrt(Math.pow(i-n,2)+Math.pow(r-t,2))}function u(n,t){var i;return i=n.start.row==n.end.row?2*t.column-n.start.column-n.end.column:n.start.row!=n.end.row-1||n.start.column||n.end.column?2*t.row-n.start.row-n.end.row:t.column-4,i<0?{cursor:n.start,anchor:n.end}:{cursor:n.end,anchor:n.start}}var s=n("../lib/dom"),h=n("../lib/event"),f=n("../lib/useragent"),e=0,i=250;(function(){this.onMouseDown=function(n){var o=n.inSelection(),r=n.getDocumentPosition(),t,i,u,e;if(this.mousedownEvent=n,t=this.editor,i=n.getButton(),i!==0){if(u=t.getSelectionRange(),e=u.isEmpty(),t.$blockScrolling++,(e||i==1)&&t.selection.moveToPosition(r),t.$blockScrolling--,i==2){t.textInput.onContextMenu(n.domEvent);f.isMozilla||n.preventDefault()}return}if(this.mousedownEvent.time=Date.now(),o&&!t.isFocused()&&(t.focus(),this.$focusTimout&&!this.$clickSelection&&!t.inMultiSelectMode)){this.setState("focusWait");this.captureMouse(n);return}return this.captureMouse(n),this.startSelect(r,n.domEvent._clicks>1),n.preventDefault()};this.startSelect=function(n,t){n=n||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var i=this.editor;i.$blockScrolling++;this.mousedownEvent.getShiftKey()?i.selection.selectToPosition(n):t||i.selection.moveToPosition(n);t||this.select();i.renderer.scroller.setCapture&&i.renderer.scroller.setCapture();i.setStyle("ace_selecting");this.setState("select");i.$blockScrolling--};this.select=function(){var t,n=this.editor,i=n.renderer.screenToTextCoordinates(this.x,this.y),r,f;n.$blockScrolling++;this.$clickSelection&&(r=this.$clickSelection.comparePoint(i),r==-1?t=this.$clickSelection.end:r==1?t=this.$clickSelection.start:(f=u(this.$clickSelection,i),i=f.cursor,t=f.anchor),n.selection.setSelectionAnchor(t.row,t.column));n.selection.selectToPosition(i);n.$blockScrolling--;n.renderer.scrollCursorIntoView()};this.extendSelectionBy=function(n){var f,r=this.editor,t=r.renderer.screenToTextCoordinates(this.x,this.y),i=r.selection[n](t.row,t.column),e,o,s;r.$blockScrolling++;this.$clickSelection&&(e=this.$clickSelection.comparePoint(i.start),o=this.$clickSelection.comparePoint(i.end),e==-1&&o<=0?(f=this.$clickSelection.end,(i.end.row!=t.row||i.end.column!=t.column)&&(t=i.start)):o==1&&e>=0?(f=this.$clickSelection.start,(i.start.row!=t.row||i.start.column!=t.column)&&(t=i.end)):e==-1&&o==1?(t=i.end,f=i.start):(s=u(this.$clickSelection,t),t=s.cursor,f=s.anchor),r.selection.setSelectionAnchor(f.row,f.column));r.selection.selectToPosition(t);r.$blockScrolling--;r.renderer.scrollCursorIntoView()};this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null;this.editor.unsetStyle("ace_selecting");this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()};this.focusWait=function(){var n=o(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(n>e||t-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())};this.onDoubleClick=function(n){var i=n.getDocumentPosition(),r=this.editor,u=r.session,t=u.getBracketRange(i);t?(t.isEmpty()&&(t.start.column--,t.end.column++),this.setState("select")):(t=r.selection.getWordRange(i.row,i.column),this.setState("selectByWords"));this.$clickSelection=t;this.select()};this.onTripleClick=function(n){var r=n.getDocumentPosition(),i=this.editor,t;this.setState("selectByLines");t=i.getSelectionRange();t.isMultiLine()&&t.contains(r.row,r.column)?(this.$clickSelection=i.selection.getLineRange(t.start.row),this.$clickSelection.end=i.selection.getLineRange(t.end.row).end):this.$clickSelection=i.selection.getLineRange(r.row);this.select()};this.onQuadClick=function(){var n=this.editor;n.selectAll();this.$clickSelection=n.getSelectionRange();this.setState("selectAll")};this.onMouseWheel=function(n){var o,h,r,c;if(!n.getAccelKey()){n.getShiftKey()&&n.wheelY&&!n.wheelX&&(n.wheelX=n.wheelY,n.wheelY=0);o=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var t=this.$lastScroll,u=n.domEvent.timeStamp,s=u-t.t,f=n.wheelX/s,e=n.wheelY/s;return s<i&&(f=(f+t.vx)/2,e=(e+t.vy)/2),h=Math.abs(f/e),r=!1,h>=1&&o.renderer.isScrollableBy(n.wheelX*n.speed,0)&&(r=!0),h<=1&&o.renderer.isScrollableBy(0,n.wheelY*n.speed)&&(r=!0),r?t.allowed=u:u-t.allowed<i&&(c=Math.abs(f)<=1.1*Math.abs(t.vx)&&Math.abs(e)<=1.1*Math.abs(t.vy),c?(r=!0,t.allowed=u):t.allowed=0),t.t=u,t.vx=f,t.vy=e,r?(o.renderer.scrollBy(n.wheelX*n.speed,n.wheelY*n.speed),n.stop()):void 0}};this.onTouchMove=function(n){this.editor._emit("mousewheel",n)}}).call(r.prototype);t.DefaultHandlers=r});ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(n,t){"use strict";function r(n){this.isOpen=!1;this.$element=null;this.$parentNode=n}var u=n("./lib/oop"),i=n("./lib/dom");(function(){this.$init=function(){return this.$element=i.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element};this.getElement=function(){return this.$element||this.$init()};this.setText=function(n){i.setInnerText(this.getElement(),n)};this.setHtml=function(n){this.getElement().innerHTML=n};this.setPosition=function(n,t){this.getElement().style.left=n+"px";this.getElement().style.top=t+"px"};this.setClassName=function(n){i.addCssClass(this.getElement(),n)};this.show=function(n,t,i){n!=null&&this.setText(n);t!=null&&i!=null&&this.setPosition(t,i);this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)};this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)};this.getHeight=function(){return this.getElement().offsetHeight};this.getWidth=function(){return this.getElement().offsetWidth};this.destroy=function(){this.isOpen=!1;this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(r.prototype);t.Tooltip=r});ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(n,t){"use strict";function o(n){function a(){var u=f.getDocumentPosition().row,i=c.$annotations[u],e,a,r;if(!i||(e=t.session.getLength(),u==e&&(a=t.renderer.pixelToScreenCoordinates(0,f.y).row,r=f.$pos,a>t.session.documentToScreenRow(r.row,r.column))))return o();if(h!=i){h=i.text.join("<br/>");s.setHtml(h);s.show();t._signal("showGutterTooltip",s);t.on("mousewheel",o);if(n.$tooltipFollowsMouse)l(f);else{var p=f.domEvent.target,v=p.getBoundingClientRect(),y=s.getElement().style;y.left=v.right+"px";y.top=v.bottom+"px"}}}function o(){i&&(i=clearTimeout(i));h&&(s.hide(),h=null,t._signal("hideGutterTooltip",s),t.removeEventListener("mousewheel",o))}function l(n){s.setPosition(n.x,n.y)}var t=n.editor,c=t.renderer.$gutterLayer,s=new r(t.container),i,f,h;n.editor.setDefaultHandler("guttermousedown",function(i){var u,r,f;if(t.isFocused()&&i.getButton()==0&&(u=c.getRegion(i),u!="foldWidgets")){if(r=i.getDocumentPosition().row,f=t.session.selection,i.getShiftKey())f.selectTo(r,0);else{if(i.domEvent.detail==2)return t.selectAll(),i.preventDefault();n.$clickSelection=t.selection.getLineRange(r)}return n.setState("selectByLines"),n.captureMouse(i),i.preventDefault()}});n.editor.setDefaultHandler("guttermousemove",function(t){var r=t.domEvent.target||t.domEvent.srcElement;if(u.hasCssClass(r,"ace_fold-widget"))return o();(h&&n.$tooltipFollowsMouse&&l(t),f=t,i)||(i=setTimeout(function(){i=null;f&&!n.isMousePressed?a():o()},50))});e.addListener(t.renderer.$gutter,"mouseout",function(){(f=null,h&&!i)&&(i=setTimeout(function(){i=null;o()},50))});t.on("changeSession",o)}function r(n){i.call(this,n)}var u=n("../lib/dom"),f=n("../lib/oop"),e=n("../lib/event"),i=n("../tooltip").Tooltip;f.inherits(r,i),function(){this.setPosition=function(n,t){var r=window.innerWidth||document.documentElement.clientWidth,e=window.innerHeight||document.documentElement.clientHeight,u=this.getWidth(),f=this.getHeight();n+=15;t+=15;n+u>r&&(n-=n+u-r);t+f>e&&(t-=20+f);i.prototype.setPosition.call(this,n,t)}}.call(r.prototype);t.GutterHandler=o});ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(n,t){"use strict";var i=n("../lib/event"),r=n("../lib/useragent"),u=t.MouseEvent=function(n,t){this.domEvent=n;this.editor=t;this.x=this.clientX=n.clientX;this.y=this.clientY=n.clientY;this.$pos=null;this.$inSelection=null;this.propagationStopped=!1;this.defaultPrevented=!1};(function(){this.stopPropagation=function(){i.stopPropagation(this.domEvent);this.propagationStopped=!0};this.preventDefault=function(){i.preventDefault(this.domEvent);this.defaultPrevented=!0};this.stop=function(){this.stopPropagation();this.preventDefault()};this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)};this.inSelection=function(){var i,n,t;return this.$inSelection!==null?this.$inSelection:(i=this.editor,n=i.getSelectionRange(),n.isEmpty()?this.$inSelection=!1:(t=this.getDocumentPosition(),this.$inSelection=n.contains(t.row,t.column)),this.$inSelection)};this.getButton=function(){return i.getButton(this.domEvent)};this.getShiftKey=function(){return this.domEvent.shiftKey};this.getAccelKey=r.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(u.prototype)});ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(n,t){"use strict";function f(n){function ct(n,i){var r=Date.now(),e=!i||n.row!=i.row,o=!i||n.column!=i.column,f;!k||e||o?(t.$blockScrolling+=1,t.moveCursorToPosition(n),t.$blockScrolling-=1,k=r,it={x:v,y:y}):(f=u(it.x,it.y,v,y),f>h?k=null:r-k>=s&&(t.renderer.scrollCursorIntoView(),k=null))}function lt(n,i){var e=Date.now(),s=t.renderer.layerConfig.lineHeight,h=t.renderer.layerConfig.characterWidth,f=t.renderer.scroller.getBoundingClientRect(),r={x:{left:v-f.left,right:f.right-v},y:{top:y-f.top,bottom:f.bottom-y}},c=Math.min(r.x.left,r.x.right),l=Math.min(r.y.top,r.y.bottom),u={row:n.row,column:n.column};c/h<=2&&(u.column+=r.x.left<r.x.right?-3:2);l/s<=1&&(u.row+=r.y.top<r.y.bottom?-1:1);var a=n.row!=u.row,p=n.column!=u.column,w=!i||n.row!=i.row;a||p&&!w?g?e-g>=o&&t.renderer.scrollCursorIntoView(u):g=e:g=null}function ft(){var n=f;f=t.renderer.screenToTextCoordinates(v,y);ct(f,n);lt(f,n)}function et(){c=t.selection.toOrientedRange();a=t.session.addMarker(c,"ace_selection",t.getSelectionStyle());t.clearSelection();t.isFocused()&&t.renderer.$cursorLayer.setBlinking(!1);clearInterval(tt);ft();tt=setInterval(ft,20);p=0;i.addListener(document,"mousemove",ot)}function rt(){clearInterval(tt);t.session.removeMarker(a);a=null;t.$blockScrolling+=1;t.selection.fromOrientedRange(c);t.$blockScrolling-=1;t.isFocused()&&!nt&&t.renderer.$cursorLayer.setBlinking(!t.getReadOnly());c=null;f=null;p=0;g=null;k=null;i.removeListener(document,"mousemove",ot)}function ot(){d==null&&(d=setTimeout(function(){d!=null&&a&&rt()},20))}function st(n){var t=n.types;return!t||Array.prototype.some.call(t,function(n){return n=="text/plain"||n=="Text"})}function ht(n){var u=["copy","copymove","all","uninitialized"],f=r.isMac?n.altKey:n.ctrlKey,i="uninitialized",t;try{i=n.dataTransfer.effectAllowed.toLowerCase()}catch(n){}return t="none",f&&u.indexOf(i)>=0?t="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(i)>=0?t="move":u.indexOf(i)>=0&&(t="copy"),t}var t=n.editor,w=e.createElement("img"),ut,l,a,v,y,tt,c,f,p,b,nt,g,k,it,d;w.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";r.isOpera&&(w.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");ut=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];ut.forEach(function(t){n[t]=this[t]},this);t.addEventListener("mousedown",this.onMouseDown.bind(n));l=t.container;p=0;this.onDragStart=function(n){var u,i;if(this.cancelDrag||!l.draggable)return u=this,setTimeout(function(){u.startSelect();u.captureMouse(n)},0),n.preventDefault();c=t.getSelectionRange();i=n.dataTransfer;i.effectAllowed=t.getReadOnly()?"copy":"copyMove";r.isOpera&&(t.container.appendChild(w),w.scrollTop=0);i.setDragImage&&i.setDragImage(w,0,0);r.isOpera&&t.container.removeChild(w);i.clearData();i.setData("Text",t.session.getTextRange());nt=!0;this.setState("drag")};this.onDragEnd=function(n){if(l.draggable=!1,nt=!1,this.setState(null),!t.getReadOnly()){var i=n.dataTransfer.dropEffect;b||i!="move"||t.session.remove(t.getSelectionRange());t.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging");this.editor.renderer.setCursorStyle("")};this.onDragEnter=function(n){if(!t.getReadOnly()&&st(n.dataTransfer))return v=n.clientX,y=n.clientY,a||et(),p++,n.dataTransfer.dropEffect=b=ht(n),i.preventDefault(n)};this.onDragOver=function(n){if(!t.getReadOnly()&&st(n.dataTransfer))return v=n.clientX,y=n.clientY,a||(et(),p++),d!==null&&(d=null),n.dataTransfer.dropEffect=b=ht(n),i.preventDefault(n)};this.onDragLeave=function(n){return p--,p<=0&&a?(rt(),b=null,i.preventDefault(n)):void 0};this.onDrop=function(n){var r,u;if(f){if(r=n.dataTransfer,nt)switch(b){case"move":c=c.contains(f.row,f.column)?{start:f,end:f}:t.moveText(c,f);break;case"copy":c=t.moveText(c,f,!0)}else u=r.getData("Text"),c={start:f,end:t.session.insert(f,u)},t.focus(),b=null;return rt(),i.preventDefault(n)}};i.addListener(l,"dragstart",this.onDragStart.bind(n));i.addListener(l,"dragend",this.onDragEnd.bind(n));i.addListener(l,"dragenter",this.onDragEnter.bind(n));i.addListener(l,"dragover",this.onDragOver.bind(n));i.addListener(l,"dragleave",this.onDragLeave.bind(n));i.addListener(l,"drop",this.onDrop.bind(n));d=null}function u(n,t,i,r){return Math.sqrt(Math.pow(i-n,2)+Math.pow(r-t,2))}var e=n("../lib/dom"),i=n("../lib/event"),r=n("../lib/useragent"),o=200,s=200,h=5;(function(){this.dragWait=function(){var n=Date.now()-this.mousedownEvent.time;n>this.editor.getDragDelay()&&this.startDrag()};this.dragWaitEnd=function(){var n=this.editor.container;n.draggable=!1;this.startSelect(this.mousedownEvent.getDocumentPosition());this.selectEnd()};this.dragReadyEnd=function(){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly());this.editor.unsetStyle("ace_dragging");this.editor.renderer.setCursorStyle("");this.dragWaitEnd()};this.startDrag=function(){var n,t,i;this.cancelDrag=!1;n=this.editor;t=n.container;t.draggable=!0;n.renderer.$cursorLayer.setBlinking(!1);n.setStyle("ace_dragging");i=r.isWin?"default":"move";n.renderer.setCursorStyle(i);this.setState("dragReady")};this.onMouseDrag=function(){var t=this.editor.container,n;r.isIE&&this.state=="dragReady"&&(n=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),n>3&&t.dragDrop());this.state==="dragWait"&&(n=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),n>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))};this.onMouseDown=function(n){var t,u;if(this.$dragEnabled){this.mousedownEvent=n;var i=this.editor,f=n.inSelection(),e=n.getButton(),o=n.domEvent.detail||1;if(o===1&&e===0&&f){if(n.editor.inMultiSelectMode&&(n.getAccelKey()||n.getShiftKey()))return;this.mousedownEvent.time=Date.now();t=n.domEvent.target||n.domEvent.srcElement;"unselectable"in t&&(t.unselectable="on");i.getDragDelay()?(r.isWebKit&&(this.cancelDrag=!0,u=i.container,u.draggable=!0),this.setState("dragWait")):this.startDrag();this.captureMouse(n,this.onMouseDrag.bind(this));n.defaultPrevented=!0}}}}).call(f.prototype);t.DragdropHandler=f});ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(n,t){"use strict";var i=n("./dom");t.get=function(n,t){var i=new XMLHttpRequest;i.open("GET",n,!0);i.onreadystatechange=function(){i.readyState===4&&t(i.responseText)};i.send(null)};t.loadScript=function(n,t){var u=i.getDocumentHead(),r=document.createElement("script");r.src=n;u.appendChild(r);r.onload=r.onreadystatechange=function(n,i){(i||!r.readyState||r.readyState=="loaded"||r.readyState=="complete")&&(r=r.onload=r.onreadystatechange=null,i||t())}};t.qualifyURL=function(n){var t=document.createElement("a");return t.href=n,t.href}});ace.define("ace/lib/event_emitter",["require","exports","module"],function(n,t){"use strict";var i={},r=function(){this.propagationStopped=!0},u=function(){this.defaultPrevented=!0};i._emit=i._dispatchEvent=function(n,t){var i,f,e;if(this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={}),i=this._eventRegistry[n]||[],f=this._defaultHandlers[n],i.length||f){for(typeof t=="object"&&t||(t={}),t.type||(t.type=n),t.stopPropagation||(t.stopPropagation=r),t.preventDefault||(t.preventDefault=u),i=i.slice(),e=0;e<i.length;e++)if(i[e](t,this),t.propagationStopped)break;if(f&&!t.defaultPrevented)return f(t,this)}};i._signal=function(n,t){var i=(this._eventRegistry||{})[n],r;if(i)for(i=i.slice(),r=0;r<i.length;r++)i[r](t,this)};i.once=function(n,t){var i=this;t&&this.addEventListener(n,function r(){i.removeEventListener(n,r);t.apply(null,arguments)})};i.setDefaultHandler=function(n,t){var i=this._defaultHandlers,f,r,u;i||(i=this._defaultHandlers={_disabled_:{}});i[n]&&(f=i[n],r=i._disabled_[n],r||(i._disabled_[n]=r=[]),r.push(f),u=r.indexOf(t),u!=-1&&r.splice(u,1));i[n]=t};i.removeDefaultHandler=function(n,t){var r=this._defaultHandlers,i,f,u;r&&(i=r._disabled_[n],r[n]==t?(f=r[n],i&&this.setDefaultHandler(n,i.pop())):i&&(u=i.indexOf(t),u!=-1&&i.splice(u,1)))};i.on=i.addEventListener=function(n,t,i){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[n];return r||(r=this._eventRegistry[n]=[]),r.indexOf(t)==-1&&r[i?"unshift":"push"](t),t};i.off=i.removeListener=i.removeEventListener=function(n,t){var i,r;(this._eventRegistry=this._eventRegistry||{},i=this._eventRegistry[n],i)&&(r=i.indexOf(t),r!==-1&&i.splice(r,1))};i.removeAllListeners=function(n){this._eventRegistry&&(this._eventRegistry[n]=[])};t.EventEmitter=i});ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,t){"no use strict";function i(){typeof console!="undefined"&&console.warn&&console.warn.apply(console,arguments)}function o(n,t){var i=new Error(n);i.data=t;typeof console=="object"&&console.error&&console.error(i);setTimeout(function(){throw i;})}var r=n("./oop"),f=n("./event_emitter").EventEmitter,e={setOptions:function(n){Object.keys(n).forEach(function(t){this.setOption(t,n[t])},this)},getOptions:function(n){var t={};return n?Array.isArray(n)||(t=n,n=Object.keys(t)):n=Object.keys(this.$options),n.forEach(function(n){t[n]=this.getOption(n)},this),t},setOption:function(n,t){if(this["$"+n]!==t){var r=this.$options[n];if(!r)return i('misspelled option "'+n+'"');if(r.forwardTo)return this[r.forwardTo]&&this[r.forwardTo].setOption(n,t);r.handlesSet||(this["$"+n]=t);r&&r.set&&r.set.call(this,t)}},getOption:function(n){var t=this.$options[n];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(n):t&&t.get?t.get.call(this):this["$"+n]:i('misspelled option "'+n+'"')}},u=function(){this.$defaultOptions={}};(function(){r.implement(this,f);this.defineOptions=function(n,t,i){return n.$options||(this.$defaultOptions[t]=n.$options={}),Object.keys(i).forEach(function(t){var r=i[t];typeof r=="string"&&(r={forwardTo:r});r.name||(r.name=t);n.$options[r.name]=r;"initialValue"in r&&(n["$"+r.name]=r.initialValue)}),r.implement(n,e),this};this.resetOptions=function(n){Object.keys(n.$options).forEach(function(t){var i=n.$options[t];"value"in i&&n.setOption(t,i.value)})};this.setDefaultValue=function(n,t,i){var r=this.$defaultOptions[n]||(this.$defaultOptions[n]={});r[t]&&(r.forwardTo?this.setDefaultValue(r.forwardTo,t,i):r[t].value=i)};this.setDefaultValues=function(n,t){Object.keys(t).forEach(function(i){this.setDefaultValue(n,i,t[i])},this)};this.warn=i;this.reportError=o}).call(u.prototype);t.AppConfig=u});ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(n,t,r){"no use strict";function e(e){var s,h,p,w,l,g,a,b,v;if(f&&f.document){u.packaged=e||n.packaged||r.packaged||f.define&&i(21).packaged;var o={},y="",k=document.currentScript||document._currentScript,nt=k&&k.ownerDocument||document,d=nt.getElementsByTagName("script");for(s=0;s<d.length;s++)if(h=d[s],p=h.src||h.getAttribute("src"),p){for(w=h.attributes,l=0,g=w.length;l<g;l++)a=w[l],a.name.indexOf("data-ace-")===0&&(o[c(a.name.replace(/^data-ace-/,""))]=a.value);b=p.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);b&&(y=b[1])}y&&(o.base=o.base||y,o.packaged=!0);o.basePath=o.base;o.workerPath=o.workerPath||o.base;o.modePath=o.modePath||o.base;o.themePath=o.themePath||o.base;delete o.base;for(v in o)typeof o[v]!="undefined"&&t.set(v,o[v])}}function c(n){return n.replace(/-(.)/g,function(n,t){return t.toUpperCase()})}var o=n("./lib/lang"),l=n("./lib/oop"),s=n("./lib/net"),h=n("./lib/app_config").AppConfig,f,u;r.exports=t=new h;f=function(){return this||typeof window!="undefined"&&window}();u={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};t.get=function(n){if(!u.hasOwnProperty(n))throw new Error("Unknown config key: "+n);return u[n]};t.set=function(n,t){if(!u.hasOwnProperty(n))throw new Error("Unknown config key: "+n);u[n]=t};t.all=function(){return o.copyObject(u)};t.moduleUrl=function(n,t){var i,e,r,o,f;return u.$moduleUrls[n]?u.$moduleUrls[n]:(i=n.split("/"),t=t||i[i.length-2]||"",e=t=="snippets"?"/":"-",r=i[i.length-1],t=="worker"&&e=="-"&&(o=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g"),r=r.replace(o,"")),(!r||r==t)&&i.length>1&&(r=i[i.length-2]),f=u[t+"Path"],f==null?f=u.basePath:e=="/"&&(t=e=""),f&&f.slice(-1)!="/"&&(f+="/"),f+t+e+r+this.get("suffix"))};t.setModuleUrl=function(n,t){return u.$moduleUrls[n]=t};t.$loading={};t.loadModule=function(i,r){var u,e,f;Array.isArray(i)&&(e=i[0],i=i[1]);try{u=n(i)}catch(o){}if(u&&!t.$loading[i])return r&&r(u);if(t.$loading[i]||(t.$loading[i]=[]),t.$loading[i].push(r),!(t.$loading[i].length>1)){if(f=function(){n([i],function(n){t._emit("load.module",{name:i,module:n});var r=t.$loading[i];t.$loading[i]=null;r.forEach(function(t){t&&t(n)})})},!t.get("packaged"))return f();s.loadScript(t.moduleUrl(i,e),f)}};e(!0);t.init=e});ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(n,t){"use strict";var i=n("../lib/event"),u=n("../lib/useragent"),e=n("./default_handlers").DefaultHandlers,o=n("./default_gutter_handler").GutterHandler,r=n("./mouse_event").MouseEvent,s=n("./dragdrop_handler").DragdropHandler,h=n("../config"),f=function(n){var h=this,r,f,t;this.editor=n;new e(this);new o(this);new s(this);r=function(){var t=!document.hasFocus||!document.hasFocus()||!n.isFocused()&&document.activeElement==(n.textInput&&n.textInput.getElement());t&&window.focus();n.focus()};f=n.renderer.getMouseEventTarget();i.addListener(f,"click",this.onMouseEvent.bind(this,"click"));i.addListener(f,"mousemove",this.onMouseMove.bind(this,"mousemove"));i.addMultiMouseDownListener([f,n.renderer.scrollBarV&&n.renderer.scrollBarV.inner,n.renderer.scrollBarH&&n.renderer.scrollBarH.inner,n.textInput&&n.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent");i.addMouseWheelListener(n.container,this.onMouseWheel.bind(this,"mousewheel"));i.addTouchMoveListener(n.container,this.onTouchMove.bind(this,"touchmove"));t=n.renderer.$gutter;i.addListener(t,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"));i.addListener(t,"click",this.onMouseEvent.bind(this,"gutterclick"));i.addListener(t,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"));i.addListener(t,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"));i.addListener(f,"mousedown",r);i.addListener(t,"mousedown",r);u.isIE&&n.renderer.scrollBarV&&(i.addListener(n.renderer.scrollBarV.element,"mousedown",r),i.addListener(n.renderer.scrollBarH.element,"mousedown",r));n.on("mousemove",function(t){if(!h.state&&!h.$dragDelay&&h.$dragEnabled){var i=n.renderer.screenToTextCoordinates(t.x,t.y),r=n.session.selection.getRange(),u=n.renderer;!r.isEmpty()&&r.insideStart(i.row,i.column)?u.setCursorStyle("default"):u.setCursorStyle("")}})};(function(){this.onMouseEvent=function(n,t){this.editor._emit(n,new r(t,this.editor))};this.onMouseMove=function(n,t){var i=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;i&&i.length&&this.editor._emit(n,new r(t,this.editor))};this.onMouseWheel=function(n,t){var i=new r(t,this.editor);i.speed=this.$scrollSpeed*2;i.wheelX=t.wheelX;i.wheelY=t.wheelY;this.editor._emit(n,i)};this.onTouchMove=function(n,t){var i=new r(t,this.editor);i.speed=1;i.wheelX=t.wheelX;i.wheelY=t.wheelY;this.editor._emit(n,i)};this.setState=function(n){this.state=n};this.captureMouse=function(n,t){var e,c;this.x=n.x;this.y=n.y;this.isMousePressed=!0;e=this.editor.renderer;e.$keepTextAreaAtCursor&&(e.$keepTextAreaAtCursor=null);var f=this,o=function(n){if(n){if(u.isWebKit&&!n.which&&f.releaseMouse)return f.releaseMouse();f.x=n.clientX;f.y=n.clientY;t&&t(n);f.mouseEvent=new r(n,f.editor);f.$mouseMoved=!0}},s=function(n){clearInterval(c);h();f[f.state+"End"]&&f[f.state+"End"](n);f.state="";e.$keepTextAreaAtCursor==null&&(e.$keepTextAreaAtCursor=!0,e.$moveTextAreaToCursor());f.isMousePressed=!1;f.$onCaptureMouseMove=f.releaseMouse=null;n&&f.onMouseEvent("mouseup",n)},h=function(){f[f.state]&&f[f.state]();f.$mouseMoved=!1};if(u.isOldIE&&n.domEvent.type=="dblclick")return setTimeout(function(){s(n)});f.$onCaptureMouseMove=o;f.releaseMouse=i.capture(this.editor.container,o,s);c=setInterval(h,20)};this.releaseMouse=null;this.cancelContextMenu=function(){var n=function(t){t&&t.domEvent&&t.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",n),t&&t.domEvent&&i.stopEvent(t.domEvent))}.bind(this);setTimeout(n,10);this.editor.on("nativecontextmenu",n)}}).call(f.prototype);h.defineOptions(f.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:u.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}});t.MouseHandler=f});ace.define("ace/mouse/fold_handler",["require","exports","module"],function(n,t){"use strict";function i(n){n.on("click",function(t){var u=t.getDocumentPosition(),i=n.session,r=i.getFoldAt(u.row,u.column,1);r&&(t.getAccelKey()?i.removeFold(r):i.expandFold(r),t.stop())});n.on("gutterclick",function(t){var u=n.renderer.$gutterLayer.getRegion(t),i,r;if(u=="foldWidgets"){if(i=t.getDocumentPosition().row,r=n.session,r.foldWidgets&&r.foldWidgets[i])n.session.onFoldWidgetClick(i,t);n.isFocused()||n.focus();t.stop()}});n.on("gutterdblclick",function(t){var o=n.renderer.$gutterLayer.getRegion(t),f;if(o=="foldWidgets"){var r=t.getDocumentPosition().row,i=n.session,e=i.getParentFoldRangeData(r,!0),u=e.range||e.firstRange;u&&(r=u.start.row,f=i.getFoldAt(r,i.getLine(r).length,1),f?i.removeFold(f):(i.addFold("...",u),n.renderer.scrollCursorIntoView({row:u.start.row,column:0})));t.stop()}})}t.FoldHandler=i});ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(n,t){"use strict";var r=n("../lib/keys"),u=n("../lib/event"),i=function(n){this.$editor=n;this.$data={editor:n};this.$handlers=[];this.setDefaultHandler(n.commands)};(function(){this.setDefaultHandler=function(n){this.removeKeyboardHandler(this.$defaultHandler);this.$defaultHandler=n;this.addKeyboardHandler(n,0)};this.setKeyboardHandler=function(n){var t=this.$handlers;if(t[t.length-1]!=n){while(t[t.length-1]&&t[t.length-1]!=this.$defaultHandler)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(n,1)}};this.addKeyboardHandler=function(n,t){if(n){typeof n!="function"||n.handleKeyboard||(n.handleKeyboard=n);var i=this.$handlers.indexOf(n);i!=-1&&this.$handlers.splice(i,1);t==undefined?this.$handlers.push(n):this.$handlers.splice(t,0,n);i==-1&&n.attach&&n.attach(this.$editor)}};this.removeKeyboardHandler=function(n){var t=this.$handlers.indexOf(n);return t==-1?!1:(this.$handlers.splice(t,1),n.detach&&n.detach(this.$editor),!0)};this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]};this.getStatusText=function(){var n=this.$data,t=n.editor;return this.$handlers.map(function(i){return i.getStatusText&&i.getStatusText(t,n)||""}).filter(Boolean).join(" ")};this.$callKeyboardHandlers=function(n,t,i,r){for(var f,e=!1,o=this.$editor.commands,s=this.$handlers.length;s--;)if((f=this.$handlers[s].handleKeyboard(this.$data,n,t,i,r),f&&f.command)&&(e=f.command=="null"?!0:o.exec(f.command,this.$editor,f.args,r),e&&r&&n!=-1&&f.passEvent!=!0&&f.command.passEvent!=!0&&u.stopEvent(r),e))break;return e||n!=-1||(f={command:"insertstring"},e=o.exec("insertstring",this.$editor,t)),e&&this.$editor._signal&&this.$editor._signal("keyboardActivity",f),e};this.onCommandKey=function(n,t,i){var u=r.keyCodeToString(i);this.$callKeyboardHandlers(t,u,i,n)};this.onTextInput=function(n){this.$callKeyboardHandlers(-1,n)}}).call(i.prototype);t.KeyBinding=i});ace.define("ace/lib/bidiutil",["require","exports","module"],function(n,t){"use strict";function yt(n,t,i,r){var v=a?ct:ht,g=null,nt=null,y=null,h=0,d=null,it=null,o=-1,u=null,f=null,rt=[],l;if(!r)for(u=0,r=[];u<i;u++)r[u]=st(n[u]);for(w=a,c=!1,tt=!1,b=!1,k=!1,f=0;f<i;f++){if(g=h,rt[f]=nt=pt(n,r,rt,f),h=v[g][nt],d=h&240,h&=15,t[f]=y=v[h][5],d>0)if(d==16){for(u=o;u<f;u++)t[u]=1;o=-1}else o=-1;if(it=v[h][6],it)o==-1&&(o=f);else if(o>-1){for(u=o;u<f;u++)t[u]=y;o=-1}r[f]==s&&(t[f]=0);w|=y}if(k)for(u=0;u<i;u++)if(r[u]==p)for(t[u]=a,l=u-1;l>=0;l--)if(r[l]==e)t[l]=a;else break}function ot(n,t,i){if(!(w<n)){if(n==1&&a==it&&!b){i.reverse();return}for(var o=i.length,r=0,u,f,e,s;r<o;){if(t[r]>=n){for(u=r+1;u<o&&t[u]>=n;)u++;for(f=r,e=u-1;f<e;f++,e--)s=i[f],i[f]=i[e],i[e]=s;r=u}r++}}}function pt(n,t,w,it){var at=t[it],st,ct,ht,ot,lt,vt;switch(at){case u:case h:c=!1;case i:case v:return at;case f:return c?v:f;case y:return c=!0,tt=!0,h;case e:return i;case l:return it<1||it+1>=t.length||(st=w[it-1])!=f&&st!=v||(ct=t[it+1])!=f&&ct!=v?i:(c&&(ct=v),ct==st?ct:i);case d:return(st=it>0?w[it-1]:s,st==f&&it+1<t.length&&t[it+1]==f)?f:i;case o:if(it>0&&w[it-1]==f)return f;if(c)return i;for(ot=it+1,ht=t.length;ot<ht&&t[ot]==o;)ot++;return ot<ht&&t[ot]==f?f:i;case g:for(ht=t.length,ot=it+1;ot<ht&&t[ot]==g;)ot++;return ot<ht&&(lt=n[it],vt=lt>=1425&&lt<=2303||lt==64286,st=t[ot],vt&&(st==h||st==y))?h:it<1||(st=t[it-1])==s?i:w[it-1];case s:return c=!1,b=!0,a;case p:return k=!0,i;case nt:case rt:case ft:case et:case ut:c=!1;case r:return i}}function st(n){var t=n.charCodeAt(0),r=t>>8;return r==0?t>191?u:at[t]:r==5?/[\u0591-\u05f4]/.test(n)?h:u:r==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(n)?g:/[\u0660-\u0669\u066b-\u066c]/.test(n)?v:t==1642?o:/[\u06f0-\u06f9]/.test(n)?f:y:r==32&&t<=8287?vt[t&255]:r==254?t>=65136?y:i:i}var a=0,w=0,c=!1,tt=!1,b=!1,k=!1,ht=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],ct=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],lt=0,it=1,u=0,h=1,f=2,v=3,i=4,s=5,p=6,y=7,e=8,l=9,d=10,o=11,g=12,nt=13,rt=14,ut=15,ft=16,et=17,r=18,at=[r,r,r,r,r,r,r,r,r,p,s,p,e,s,r,r,r,r,r,r,r,r,r,r,r,r,r,r,s,s,s,p,e,i,i,o,o,o,i,i,i,i,i,d,l,d,l,l,f,f,f,f,f,f,f,f,f,f,l,i,i,i,i,i,i,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,i,i,i,i,i,i,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,i,i,i,i,r,r,r,r,r,r,s,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,l,i,o,o,o,o,i,i,i,i,u,i,i,r,i,i,o,o,f,f,i,u,i,i,i,f,u,i,i,i,i,i],vt=[e,e,e,e,e,e,e,e,e,e,e,r,r,r,u,h,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,e,s,nt,rt,ut,ft,et,l,o,o,o,o,o,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,l,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,e];t.L=u;t.R=h;t.EN=f;t.ON_R=3;t.AN=4;t.R_H=5;t.B=6;t.DOT="·";t.doBidiReorder=function(n,u,f){var e;if(n.length<2)return{};var s=n.split(""),c=new Array(s.length),l=new Array(s.length),o=[];for(a=f?it:lt,yt(s,o,s.length,u),e=0;e<c.length;c[e]=e,e++);for(ot(2,o,c),ot(1,o,c),e=0;e<c.length-1;e++)u[e]===v?o[e]=t.AN:o[e]===h&&(u[e]>y&&u[e]<nt||u[e]===i||u[e]===r)?o[e]=t.ON_R:e>0&&s[e-1]==="ل"&&/\u0622|\u0623|\u0625|\u0627/.test(s[e])&&(o[e-1]=o[e]=t.R_H,e++);for(s[s.length-1]===t.DOT&&(o[s.length-1]=t.B),e=0;e<c.length;e++)l[e]=o[c[e]];return{logicalFromVisual:c,bidiLevels:l}};t.hasBidiCharacters=function(n,t){for(var r=!1,i=0;i<n.length;i++)t[i]=st(n.charAt(i)),r||t[i]!=h&&t[i]!=y||(r=!0);return r};t.getVisualFromLogicalIdx=function(n,t){for(var i=0;i<t.logicalFromVisual.length;i++)if(t.logicalFromVisual[i]==n)return i;return 0}});ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang","ace/lib/useragent"],function(n,t){"use strict";var i=n("./lib/bidiutil"),u=n("./lib/lang"),f=n("./lib/useragent"),e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,r=function(n){this.session=n;this.bidiMap={};this.currentRow=null;this.bidiUtil=i;this.charWidths=[];this.EOL="¬";this.showInvisibles=!0;this.isRtlDir=!1;this.line="";this.wrapIndent=0;this.isLastRow=!1;this.EOF="¶";this.seenBidi=!1};(function(){this.isBidiRow=function(n,t,i){return this.seenBidi?(n!==this.currentRow&&(this.currentRow=n,this.updateRowLine(t,i),this.updateBidiMap()),this.bidiMap.bidiLevels):!1};this.onChange=function(n){this.seenBidi?this.currentRow=null:n.action=="insert"&&e.test(n.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)};this.getDocumentRow=function(){var t=0,i=this.session.$screenRowCache,n;return i.length&&(n=this.session.$getRowCacheIndex(i,this.currentRow),n>=0&&(t=this.session.$docRowCache[n])),t};this.getSplitIndex=function(){var n=0,t=this.session.$screenRowCache,i,r;if(t.length)for(r=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-n>0;){if(i=this.session.$getRowCacheIndex(t,this.currentRow-n-1),i!==r)break;r=i;n++}return n};this.updateRowLine=function(n,t){var r,f,e,o;n===undefined&&(n=this.getDocumentRow());this.wrapIndent=0;this.isLastRow=n===this.session.getLength()-1;this.line=this.session.getLine(n);this.session.$useWrapMode&&(r=this.session.$wrapData[n],r&&(t===undefined&&(t=this.getSplitIndex()),t>0&&r.length?(this.wrapIndent=r.indent,this.line=t<r.length?this.line.substring(r[t-1],r[r.length-1]):this.line.substring(r[r.length-1])):this.line=this.line.substring(0,r[t])));f=this.session;e=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(n,t){return n==="\t"||f.isFullWidth(n.charCodeAt(0))?(o=n==="\t"?f.getScreenTabSize(t+e):2,e+=o-1,u.stringRepeat(i.DOT,o)):n})};this.updateBidiMap=function(){var n=[],r=this.isLastRow?this.EOF:this.EOL,t=this.line+(this.showInvisibles?r:i.DOT);this.bidiMap=i.hasBidiCharacters(t,n)?i.doBidiReorder(t,n,this.isRtlDir):{}};this.markAsDirty=function(){this.currentRow=null};this.updateCharacterWidths=function(n){if(this.seenBidi&&this.characterWidth!==n.$characterSize.width){var r=this.characterWidth=n.$characterSize.width,t=n.$measureCharWidth("ה");this.charWidths[i.L]=this.charWidths[i.EN]=this.charWidths[i.ON_R]=r;this.charWidths[i.R]=this.charWidths[i.AN]=t;this.charWidths[i.R_H]=f.isChrome?t:t*.45;this.charWidths[i.B]=0;this.currentRow=null}};this.getShowInvisibles=function(){return this.showInvisibles};this.setShowInvisibles=function(n){this.showInvisibles=n;this.currentRow=null};this.setEolChar=function(n){this.EOL=n};this.setTextDir=function(n){this.isRtlDir=n};this.getPosLeft=function(n){var f;n-=this.wrapIndent;var t=i.getVisualFromLogicalIdx(n>0?n-1:0,this.bidiMap),r=this.bidiMap.bidiLevels,u=0;for(n===0&&r[t]%2!=0&&t++,f=0;f<t;f++)u+=this.charWidths[r[f]];return n!==0&&r[t]%2==0&&(u+=this.charWidths[r[t]]),this.wrapIndent&&(u+=this.wrapIndent*this.charWidths[i.L]),u};this.getSelections=function(n,t){for(var l=this.bidiMap,o=l.bidiLevels,a,e=this.wrapIndent*this.charWidths[i.L],s=[],v=Math.min(n,t)-this.wrapIndent,y=Math.max(n,t)-this.wrapIndent,r=!1,h=!1,u=0,c,f=0;f<o.length;f++)c=l.logicalFromVisual[f],a=o[f],r=c>=v&&c<y,r&&!h?u=e:!r&&h&&s.push({left:u,width:e-u}),e+=this.charWidths[a],h=r;return r&&f===o.length&&s.push({left:u,width:e-u}),s};this.offsetToCol=function(n){var f=0,n=Math.max(n,0),e=0,t=0,r=this.bidiMap.bidiLevels,u=this.charWidths[r[t]];for(this.wrapIndent&&(n-=this.wrapIndent*this.charWidths[i.L]);n>e+u/2;){if(e+=u,t===r.length-1){u=0;break}u=this.charWidths[r[++t]]}return t>0&&r[t-1]%2!=0&&r[t]%2==0?(n<e&&t--,f=this.bidiMap.logicalFromVisual[t]):t>0&&r[t-1]%2==0&&r[t]%2!=0?f=1+(n>e?this.bidiMap.logicalFromVisual[t]:this.bidiMap.logicalFromVisual[t-1]):this.isRtlDir&&t===r.length-1&&u===0&&r[t-1]%2==0||!this.isRtlDir&&t===0&&r[t]%2!=0?f=1+this.bidiMap.logicalFromVisual[t]:(t>0&&r[t-1]%2!=0&&u!==0&&t--,f=this.bidiMap.logicalFromVisual[t]),f+this.wrapIndent}}).call(r.prototype);t.BidiHandler=r});ace.define("ace/range",["require","exports","module"],function(n,t){"use strict";var r=function(n,t){return n.row-t.row||n.column-t.column},i=function(n,t,i,r){this.start={row:n,column:t};this.end={row:i,column:r}};(function(){this.isEqual=function(n){return this.start.row===n.start.row&&this.end.row===n.end.row&&this.start.column===n.start.column&&this.end.column===n.end.column};this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"};this.contains=function(n,t){return this.compare(n,t)==0};this.compareRange=function(n){var t,r=n.end,i=n.start;return t=this.compare(r.row,r.column),t==1?(t=this.compare(i.row,i.column),t==1?2:t==0?1:0):t==-1?-2:(t=this.compare(i.row,i.column),t==-1?-1:t==1?42:0)};this.comparePoint=function(n){return this.compare(n.row,n.column)};this.containsRange=function(n){return this.comparePoint(n.start)==0&&this.comparePoint(n.end)==0};this.intersects=function(n){var t=this.compareRange(n);return t==-1||t==0||t==1};this.isEnd=function(n,t){return this.end.row==n&&this.end.column==t};this.isStart=function(n,t){return this.start.row==n&&this.start.column==t};this.setStart=function(n,t){typeof n=="object"?(this.start.column=n.column,this.start.row=n.row):(this.start.row=n,this.start.column=t)};this.setEnd=function(n,t){typeof n=="object"?(this.end.column=n.column,this.end.row=n.row):(this.end.row=n,this.end.column=t)};this.inside=function(n,t){return this.compare(n,t)==0?this.isEnd(n,t)||this.isStart(n,t)?!1:!0:!1};this.insideStart=function(n,t){return this.compare(n,t)==0?this.isEnd(n,t)?!1:!0:!1};this.insideEnd=function(n,t){return this.compare(n,t)==0?this.isStart(n,t)?!1:!0:!1};this.compare=function(n,t){return!this.isMultiLine()&&n===this.start.row?t<this.start.column?-1:t>this.end.column?1:0:n<this.start.row?-1:n>this.end.row?1:this.start.row===n?t>=this.start.column?0:-1:this.end.row===n?t<=this.end.column?0:1:0};this.compareStart=function(n,t){return this.start.row==n&&this.start.column==t?-1:this.compare(n,t)};this.compareEnd=function(n,t){return this.end.row==n&&this.end.column==t?1:this.compare(n,t)};this.compareInside=function(n,t){return this.end.row==n&&this.end.column==t?1:this.start.row==n&&this.start.column==t?-1:this.compare(n,t)};this.clipRows=function(n,t){var r,u;return this.end.row>t?r={row:t+1,column:0}:this.end.row<n&&(r={row:n,column:0}),this.start.row>t?u={row:t+1,column:0}:this.start.row<n&&(u={row:n,column:0}),i.fromPoints(u||this.start,r||this.end)};this.extend=function(n,t){var r=this.compare(n,t),u,f;return r==0?this:(r==-1?u={row:n,column:t}:f={row:n,column:t},i.fromPoints(u||this.start,f||this.end))};this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column};this.isMultiLine=function(){return this.start.row!==this.end.row};this.clone=function(){return i.fromPoints(this.start,this.end)};this.collapseRows=function(){return this.end.column==0?new i(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new i(this.start.row,0,this.end.row,0)};this.toScreenRange=function(n){var t=n.documentToScreenPosition(this.start),r=n.documentToScreenPosition(this.end);return new i(t.row,t.column,r.row,r.column)};this.moveBy=function(n,t){this.start.row+=n;this.start.column+=t;this.end.row+=n;this.end.column+=t}}).call(i.prototype);i.fromPoints=function(n,t){return new i(n.row,n.column,t.row,t.column)};i.comparePoints=r;i.comparePoints=function(n,t){return n.row-t.row||n.column-t.column};t.Range=i});ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(n,t){"use strict";var f=n("./lib/oop"),r=n("./lib/lang"),e=n("./lib/event_emitter").EventEmitter,i=n("./range").Range,u=function(n){this.session=n;this.doc=n.getDocument();this.clearSelection();this.lead=this.selectionLead=this.doc.createAnchor(0,0);this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var t=this;this.lead.on("change",function(n){t._emit("changeCursor");t.$isEmpty||t._emit("changeSelection");t.$keepDesiredColumnOnChange||n.old.column==n.value.column||(t.$desiredColumn=null)});this.selectionAnchor.on("change",function(){t.$isEmpty||t._emit("changeSelection")})};(function(){f.implement(this,e);this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column};this.isMultiLine=function(){return this.isEmpty()?!1:this.getRange().isMultiLine()};this.getCursor=function(){return this.lead.getPosition()};this.setSelectionAnchor=function(n,t){this.anchor.setPosition(n,t);this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))};this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()};this.getSelectionLead=function(){return this.lead.getPosition()};this.shiftSelection=function(n){if(this.$isEmpty){this.moveCursorTo(this.lead.row,this.lead.column+n);return}var t=this.getSelectionAnchor(),i=this.getSelectionLead(),r=this.isBackwards();r&&t.column===0||this.setSelectionAnchor(t.row,t.column+n);(r||i.column!==0)&&this.$moveSelection(function(){this.moveCursorTo(i.row,i.column+n)})};this.isBackwards=function(){var n=this.anchor,t=this.lead;return n.row>t.row||n.row==t.row&&n.column>t.column};this.getRange=function(){var t=this.anchor,n=this.lead;return this.isEmpty()?i.fromPoints(n,n):this.isBackwards()?i.fromPoints(n,t):i.fromPoints(t,n)};this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))};this.selectAll=function(){var n=this.doc.getLength()-1;this.setSelectionAnchor(0,0);this.moveCursorTo(n,this.doc.getLine(n).length)};this.setRange=this.setSelectionRange=function(n,t){t?(this.setSelectionAnchor(n.end.row,n.end.column),this.selectTo(n.start.row,n.start.column)):(this.setSelectionAnchor(n.start.row,n.start.column),this.selectTo(n.end.row,n.end.column));this.getRange().isEmpty()&&(this.$isEmpty=!0);this.$desiredColumn=null};this.$moveSelection=function(n){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column);n.call(this)};this.selectTo=function(n,t){this.$moveSelection(function(){this.moveCursorTo(n,t)})};this.selectToPosition=function(n){this.$moveSelection(function(){this.moveCursorToPosition(n)})};this.moveTo=function(n,t){this.clearSelection();this.moveCursorTo(n,t)};this.moveToPosition=function(n){this.clearSelection();this.moveCursorToPosition(n)};this.selectUp=function(){this.$moveSelection(this.moveCursorUp)};this.selectDown=function(){this.$moveSelection(this.moveCursorDown)};this.selectRight=function(){this.$moveSelection(this.moveCursorRight)};this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)};this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)};this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)};this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)};this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)};this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)};this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)};this.getWordRange=function(n,t){if(typeof t=="undefined"){var i=n||this.lead;n=i.row;t=i.column}return this.session.getWordRange(n,t)};this.selectWord=function(){this.setSelectionRange(this.getWordRange())};this.selectAWord=function(){var n=this.getCursor(),t=this.session.getAWordRange(n.row,n.column);this.setSelectionRange(t)};this.getLineRange=function(n,t){var r=typeof n=="number"?n:this.lead.row,u,f=this.session.getFoldLine(r);return f?(r=f.start.row,u=f.end.row):u=r,t===!0?new i(r,0,u,this.session.getLine(u).length):new i(r,0,u+1,0)};this.selectLine=function(){this.setSelectionRange(this.getLineRange())};this.moveCursorUp=function(){this.moveCursorBy(-1,0)};this.moveCursorDown=function(){this.moveCursorBy(1,0)};this.wouldMoveIntoSoftTab=function(n,t,i){var r=n.column,u=n.column+t;return i<0&&(r=n.column-t,u=n.column),this.session.isTabStop(n)&&this.doc.getLine(n.row).slice(r,u).split(" ").length-1==t};this.moveCursorLeft=function(){var n=this.lead.getPosition(),t,i;(t=this.session.getFoldAt(n.row,n.column,-1))?this.moveCursorTo(t.start.row,t.start.column):n.column===0?n.row>0&&this.moveCursorTo(n.row-1,this.doc.getLine(n.row-1).length):(i=this.session.getTabSize(),this.wouldMoveIntoSoftTab(n,i,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-i):this.moveCursorBy(0,-1))};this.moveCursorRight=function(){var n=this.lead.getPosition(),t,i;(t=this.session.getFoldAt(n.row,n.column,1))?this.moveCursorTo(t.end.row,t.end.column):this.lead.column==this.doc.getLine(this.lead.row).length?this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0):(i=this.session.getTabSize(),n=this.lead,this.wouldMoveIntoSoftTab(n,i,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,i):this.moveCursorBy(0,1))};this.moveCursorLineStart=function(){var t=this.lead.row,i=this.lead.column,u=this.session.documentToScreenRow(t,i),n=this.session.screenToDocumentPosition(u,0),f=this.session.getDisplayLine(t,null,n.row,n.column),r=f.match(/^\s*/);r[0].length==i||this.session.$useEmacsStyleLineStart||(n.column+=r[0].length);this.moveCursorToPosition(n)};this.moveCursorLineEnd=function(){var r=this.lead,n=this.session.getDocumentLastRowColumnPosition(r.row,r.column),t,i;this.lead.column==n.column&&(t=this.session.getLine(n.row),n.column==t.length&&(i=t.search(/\s+$/),i>0&&(n.column=i)));this.moveCursorTo(n.row,n.column)};this.moveCursorFileEnd=function(){var n=this.doc.getLength()-1,t=this.doc.getLine(n).length;this.moveCursorTo(n,t)};this.moveCursorFileStart=function(){this.moveCursorTo(0,0)};this.moveCursorLongWordRight=function(){var t=this.lead.row,n=this.lead.column,i=this.doc.getLine(t),u=i.substring(n),f,r;if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,r=this.session.getFoldAt(t,n,1),r){this.moveCursorTo(r.end.row,r.end.column);return}if((f=this.session.nonTokenRe.exec(u))&&(n+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,u=i.substring(n)),n>=i.length){this.moveCursorTo(t,i.length);this.moveCursorRight();t<this.doc.getLength()-1&&this.moveCursorWordRight();return}(f=this.session.tokenRe.exec(u))&&(n+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0);this.moveCursorTo(t,n)};this.moveCursorLongWordLeft=function(){var t=this.lead.row,n=this.lead.column,f,u,i,e;if(f=this.session.getFoldAt(t,n,-1)){this.moveCursorTo(f.start.row,f.start.column);return}if(u=this.session.getFoldStringAt(t,n,-1),u==null&&(u=this.doc.getLine(t).substring(0,n)),i=r.stringReverse(u),this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,(e=this.session.nonTokenRe.exec(i))&&(n-=this.session.nonTokenRe.lastIndex,i=i.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0){this.moveCursorTo(t,0);this.moveCursorLeft();t>0&&this.moveCursorWordLeft();return}(e=this.session.tokenRe.exec(i))&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0);this.moveCursorTo(t,n)};this.$shortWordEndIndex=function(n){var f,t=0,i,u=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,f=this.session.tokenRe.exec(n))t=this.session.tokenRe.lastIndex;else{while((i=n[t])&&u.test(i))t++;if(t<1)for(r.lastIndex=0;(i=n[t])&&!r.test(i);)if(r.lastIndex=0,t++,u.test(i))if(t>2){t--;break}else{while((i=n[t])&&u.test(i))t++;if(t>2)break}}return r.lastIndex=0,t};this.moveCursorShortWordRight=function(){var n=this.lead.row,t=this.lead.column,u=this.doc.getLine(n),i=u.substring(t),r=this.session.getFoldAt(n,t,1),f,e;if(r)return this.moveCursorTo(r.end.row,r.end.column);if(t==u.length){f=this.doc.getLength();do n++,i=this.doc.getLine(n);while(n<f&&/^\s*$/.test(i));/^\s+/.test(i)||(i="");t=0}e=this.$shortWordEndIndex(i);this.moveCursorTo(n,t+e)};this.moveCursorShortWordLeft=function(){var t=this.lead.row,i=this.lead.column,u,n,f,e;if(u=this.session.getFoldAt(t,i,-1))return this.moveCursorTo(u.start.row,u.start.column);if(n=this.session.getLine(t).substring(0,i),i===0){do t--,n=this.doc.getLine(t);while(t>0&&/^\s*$/.test(n));i=n.length;/\s+$/.test(n)||(n="")}return f=r.stringReverse(n),e=this.$shortWordEndIndex(f),this.moveCursorTo(t,i-e)};this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()};this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()};this.moveCursorBy=function(n,t){var i=this.session.documentToScreenPosition(this.lead.row,this.lead.column),u,r;t===0&&(n!==0&&(this.session.$bidiHandler.isBidiRow(i.row,this.lead.row)?(u=this.session.$bidiHandler.getPosLeft(i.column),i.column=Math.round(u/this.session.$bidiHandler.charWidths[0])):u=i.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?i.column=this.$desiredColumn:this.$desiredColumn=i.column);r=this.session.screenToDocumentPosition(i.row+n,i.column,u);n!==0&&t===0&&r.row===this.lead.row&&r.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[r.row]&&(r.row>0||n>0)&&r.row++;this.moveCursorTo(r.row,r.column+t,t===0)};this.moveCursorToPosition=function(n){this.moveCursorTo(n.row,n.column)};this.moveCursorTo=function(n,t,i){var r=this.session.getFoldAt(n,t,1),u;r&&(n=r.start.row,t=r.start.column);this.$keepDesiredColumnOnChange=!0;u=this.session.getLine(n);/[\uDC00-\uDFFF]/.test(u.charAt(t))&&u.charAt(t-1)&&(t=this.lead.row==n&&this.lead.column==t+1?t-1:t+1);this.lead.setPosition(n,t);this.$keepDesiredColumnOnChange=!1;i||(this.$desiredColumn=null)};this.moveCursorToScreen=function(n,t,i){var r=this.session.screenToDocumentPosition(n,t);this.moveCursorTo(r.row,r.column,i)};this.detach=function(){this.lead.detach();this.anchor.detach();this.session=this.doc=null};this.fromOrientedRange=function(n){this.setSelectionRange(n,n.cursor==n.start);this.$desiredColumn=n.desiredColumn||this.$desiredColumn};this.toOrientedRange=function(n){var t=this.getRange();return n?(n.start.column=t.start.column,n.start.row=t.start.row,n.end.column=t.end.column,n.end.row=t.end.row):n=t,n.cursor=this.isBackwards()?n.start:n.end,n.desiredColumn=this.$desiredColumn,n};this.getRangeOfMovements=function(n){var t=this.getCursor(),r;try{return n(this),r=this.getCursor(),i.fromPoints(t,r)}catch(u){return i.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}};this.toJSON=function(){var n;return this.rangeCount?n=this.ranges.map(function(n){var t=n.clone();return t.isBackwards=n.cursor==n.start,t}):(n=this.getRange(),n.isBackwards=this.isBackwards()),n};this.fromJSON=function(n){var t,r;if(n.start==undefined){if(this.rangeList){for(this.toSingleRange(n[0]),t=n.length;t--;)r=i.fromPoints(n[t].start,n[t].end),n[t].isBackwards&&(r.cursor=r.start),this.addRange(r,!0);return}n=n[0]}this.rangeList&&this.toSingleRange(n);this.setSelectionRange(n,n.isBackwards)};this.isEqual=function(n){if((n.length||this.rangeCount)&&n.length!=this.rangeCount)return!1;if(!n.length||!this.ranges)return this.getRange().isEqual(n);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(n[t]))return!1;return!0}}).call(u.prototype);t.Selection=u});ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(n,t){"use strict";var u=n("./config"),i=2e3,r=function(n){var f,r,t,u,i;this.states=n;this.regExps={};this.matchMappings={};for(f in this.states){var c=this.states[f],e=[],o=0,s=this.matchMappings[f]={defaultToken:"text"},h="g",l=[];for(r=0;r<c.length;r++)(t=c[r],t.defaultToken&&(s.defaultToken=t.defaultToken),t.caseInsensitive&&(h="gi"),t.regex!=null)&&(t.regex instanceof RegExp&&(t.regex=t.regex.toString().slice(1,-1)),u=t.regex,i=new RegExp("(?:("+u+")|(.))").exec("a").length-2,Array.isArray(t.token)?t.token.length==1||i==1?t.token=t.token[0]:i-1!=t.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:t,groupCount:i-1}),t.token=t.token[0]):(t.tokenArray=t.token,t.token=null,t.onMatch=this.$arrayTokens):typeof t.token!="function"||t.onMatch||(t.onMatch=i>1?this.$applyToken:t.token),i>1&&(/\\\d/.test(t.regex)?u=t.regex.replace(/\\([0-9]+)/g,function(n,t){return"\\"+(parseInt(t,10)+o+1)}):(i=1,u=this.removeCapturingGroups(t.regex)),t.splitRegex||typeof t.token=="string"||l.push(t)),s[o]=r,o+=i,e.push(u),t.onMatch||(t.onMatch=null));e.length||(s[0]=0,e.push("$"));l.forEach(function(n){n.splitRegex=this.createSplitterRegexp(n.regex,h)},this);this.regExps[f]=new RegExp("("+e.join(")|(")+")|($)",h)}};(function(){this.$setMaxTokenCount=function(n){i=n|0};this.$applyToken=function(n){var u=this.splitRegex.exec(n).slice(1),i=this.token.apply(this,u),r,t,f;if(typeof i=="string")return[{type:i,value:n}];for(r=[],t=0,f=i.length;t<f;t++)u[t]&&(r[r.length]={type:i[t],value:u[t]});return r};this.$arrayTokens=function(n){var i,r,u,t,f;if(!n)return[];if(i=this.splitRegex.exec(n),!i)return"text";for(r=[],u=this.tokenArray,t=0,f=u.length;t<f;t++)i[t+1]&&(r[r.length]={type:u[t],value:i[t+1]});return r};this.removeCapturingGroups=function(n){return n.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(n,t){return t?"(?:":n})};this.createSplitterRegexp=function(n,t){if(n.indexOf("(?=")!=-1){var r=0,u=!1,i={};n.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(n,t,f,e,o,s){return u?u=o!="]":o?u=!0:e?(r==i.stack&&(i.end=s+1,i.stack=-1),r--):f&&(r++,f.length!=1&&(i.stack=r,i.start=s)),n});i.end!=null&&/^\)*$/.test(n.substr(i.end))&&(n=n.substring(0,i.start)+n.substr(i.end))}return n.charAt(0)!="^"&&(n="^"+n),n.charAt(n.length-1)!="$"&&(n+="$"),new RegExp(n,(t||"").replace("g",""))};this.getLineTokens=function(n,t){var f,r,c,p,a,b,h;t&&typeof t!="string"?(f=t.slice(0),t=f[0],t==="#tmp"&&(f.shift(),t=f.shift())):f=[];r=t||"start";c=this.states[r];c||(r="start",c=this.states[r]);p=this.matchMappings[r];a=this.regExps[r];a.lastIndex=0;for(var w,l=[],o=0,k=0,u={type:null,value:""};w=a.exec(n);){var s=p.defaultToken,e=null,v=w[0],y=a.lastIndex;for(y-v.length>o&&(b=n.substring(o,y-v.length),u.type==s?u.value+=b:(u.type&&l.push(u),u={type:s,value:b})),h=0;h<w.length-2;h++)if(w[h+1]!==undefined){e=c[p[h]];s=e.onMatch?e.onMatch(v,r,f,n):e.token;e.next&&(r=typeof e.next=="string"?e.next:e.next(r,f),c=this.states[r],c||(this.reportError("state doesn't exist",r),r="start",c=this.states[r]),p=this.matchMappings[r],o=y,a=this.regExps[r],a.lastIndex=y);e.consumeLineEnd&&(o=y);break}if(v)if(typeof s=="string")e&&e.merge===!1||u.type!==s?(u.type&&l.push(u),u={type:s,value:v}):u.value+=v;else if(s)for(u.type&&l.push(u),u={type:null,value:""},h=0;h<s.length;h++)l.push(s[h]);if(o==n.length)break;if(o=y,k++>i){for(k>2*n.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:n});o<n.length;)u.type&&l.push(u),u={value:n.substring(o,o+=2e3),type:"overflow"};r="start";f=[];break}}return u.type&&l.push(u),f.length>1&&f[0]!==r&&f.unshift("#tmp",r),{tokens:l,state:f.length?f:r}};this.reportError=u.reportError}).call(r.prototype);t.Tokenizer=r});ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(n,t){"use strict";var r=n("../lib/lang"),i=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(n,t){var r,u,f,i;if(!t){for(r in n)this.$rules[r]=n[r];return}for(r in n){for(u=n[r],f=0;f<u.length;f++)i=u[f],(i.next||i.onMatch)&&(typeof i.next=="string"&&i.next.indexOf(t)!==0&&(i.next=t+i.next),i.nextState&&i.nextState.indexOf(t)!==0&&(i.nextState=t+i.nextState));this.$rules[t+r]=u}};this.getRules=function(){return this.$rules};this.embedRules=function(n,t,i,u,f){var o=typeof n=="function"?(new n).getRules():n,s,h,e;if(u)for(e=0;e<u.length;e++)u[e]=t+u[e];else{u=[];for(s in o)u.push(t+s)}if(this.addRules(o,t),i)for(h=Array.prototype[f?"push":"unshift"],e=0;e<u.length;e++)h.apply(this.$rules[u[e]],r.deepCopy(i));this.$embeds||(this.$embeds=[]);this.$embeds.push(t)};this.getEmbeds=function(){return this.$embeds};var n=function(n,t){return(n!="start"||t.length)&&t.unshift(this.nextState,n),this.nextState},t=function(n,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){function r(f){var c=i[f],h,e,l,a,o,s,v,y;for(c.processed=!0,h=0;h<c.length;h++){if(e=c[h],l=null,Array.isArray(e)&&(l=e,e={}),!e.regex&&e.start&&(e.regex=e.start,e.next||(e.next=[]),e.next.push({defaultToken:e.token},{token:e.token+".end",regex:e.end||e.start,next:"pop"}),e.token=e.token+".start",e.push=!0),a=e.next||e.push,a&&Array.isArray(a)?(o=e.stateName,o||(o=e.token,typeof o!="string"&&(o=o[0]||""),i[o]&&(o+=u++)),i[o]=a,e.next=o,r(o)):a=="pop"&&(e.next=t),e.push&&(e.nextState=e.next||e.push,e.next=n,delete e.push),e.rules)for(s in e.rules)i[s]?i[s].push&&i[s].push.apply(i[s],e.rules[s]):i[s]=e.rules[s];v=typeof e=="string"?e:e.include;v&&(l=Array.isArray(v)?v.map(function(n){return i[n]}):i[v]);l&&(y=[h,1].concat(l),e.noEscape&&(y=y.filter(function(n){return!n.next})),c.splice.apply(c,y),h--);e.keywordMap&&(e.token=this.createKeywordMapper(e.keywordMap,e.defaultToken||"text",e.caseInsensitive),delete e.defaultToken)}}var u=0,i=this.$rules;Object.keys(i).forEach(r,this)};this.createKeywordMapper=function(n,t,i,r){var u=Object.create(null);return Object.keys(n).forEach(function(t){var f=n[t],e,o;for(i&&(f=f.toLowerCase()),e=f.split(r||"|"),o=e.length;o--;)u[e[o]]=t}),Object.getPrototypeOf(u)&&(u.__proto__=null),this.$keywordList=Object.keys(u),n=null,i?function(n){return u[n.toLowerCase()]||t}:function(n){return u[n]||t}};this.getKeywords=function(){return this.$keywords}}).call(i.prototype);t.TextHighlightRules=i});ace.define("ace/mode/behaviour",["require","exports","module"],function(n,t){"use strict";var i=function(){this.$behaviours={}};(function(){this.add=function(n,t,i){switch(undefined){case this.$behaviours:this.$behaviours={};case this.$behaviours[n]:this.$behaviours[n]={}}this.$behaviours[n][t]=i};this.addBehaviours=function(n){var t,i;for(t in n)for(i in n[t])this.add(t,i,n[t][i])};this.remove=function(n){this.$behaviours&&this.$behaviours[n]&&delete this.$behaviours[n]};this.inherit=function(n,t){var i;i=typeof n=="function"?(new n).getBehaviours(t):n.getBehaviours(t);this.addBehaviours(i)};this.getBehaviours=function(n){var i,t;if(n){for(i={},t=0;t<n.length;t++)this.$behaviours[n[t]]&&(i[n[t]]=this.$behaviours[n[t]]);return i}return this.$behaviours}}).call(i.prototype);t.Behaviour=i});ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(n,t){"use strict";var r=n("./range").Range,i=function(n,t,i){this.$session=n;this.$row=t;this.$rowTokens=n.getTokens(t);var r=n.getTokenAt(t,i);this.$tokenIndex=r?r.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row);this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]};this.stepForward=function(){this.$tokenIndex+=1;for(var n;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,n||(n=this.$session.getLength()),this.$row>=n)return this.$row=n-1,null;this.$rowTokens=this.$session.getTokens(this.$row);this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]};this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]};this.getCurrentTokenRow=function(){return this.$row};this.getCurrentTokenColumn=function(){var i=this.$rowTokens,t=this.$tokenIndex,n=i[t].start;if(n!==undefined)return n;for(n=0;t>0;)t-=1,n+=i[t].value.length;return n};this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}};this.getCurrentTokenRange=function(){var t=this.$rowTokens[this.$tokenIndex],n=this.getCurrentTokenColumn();return new r(this.$row,n,this.$row,n+t.value.length)}}).call(i.prototype);t.TokenIterator=i});ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(n,t){"use strict";var h=n("../../lib/oop"),c=n("../behaviour").Behaviour,o=n("../../token_iterator").TokenIterator,l=n("../../lib/lang"),s=["text","paren.rparen","punctuation.operator"],a=["text","paren.rparen","punctuation.operator","comment"],i,f={},v={'"':'"',"'":"'"},u=function(n){var t=-1;if(n.multiSelect&&(t=n.selection.index,f.rangeCount!=n.multiSelect.rangeCount&&(f={rangeCount:n.multiSelect.rangeCount})),f[t])return i=f[t];i=f[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},e=function(n,t,i,r){var u=n.end.row-n.start.row;return{text:i+t+r,selection:[0,n.start.column+1,u,n.end.column+(u?0:1)]}},r=function r(n){this.add("braces","insertion",function(t,f,o,s,h){var c=o.getCursorPosition(),a=s.doc.getLine(c.row),k,v,g,p,y,d,w,b;if(h=="{"){if(u(o),k=o.getSelectionRange(),v=s.doc.getTextRange(k),v!==""&&v!=="{"&&o.getWrapBehavioursEnabled())return e(k,v,"{","}");if(r.isSaneInsertion(o,s))return/[\]\}\)]/.test(a[c.column])||o.inMultiSelectMode||n&&n.braces?(r.recordAutoInsert(o,s,"}"),{text:"{}",selection:[1,1]}):(r.recordMaybeInsert(o,s,"{"),{text:"{",selection:[1,1]})}else if(h=="}"){if(u(o),y=a.substring(c.column,c.column+1),y=="}"&&(g=s.$findOpeningBracket("}",{column:c.column+1,row:c.row}),g!==null&&r.isAutoInsertedClosing(c,a,h)))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if(h=="\n"||h=="\r\n"){if(u(o),p="",r.isMaybeInsertedClosing(c,a)&&(p=l.stringRepeat("}",i.maybeInsertedBrackets),r.clearMaybeInsertedClosing()),y=a.substring(c.column,c.column+1),y==="}"){if(d=s.findMatchingBracket({row:c.row,column:c.column+1},"}"),!d)return null;w=this.$getIndent(s.getLine(d.row))}else if(p)w=this.$getIndent(a);else{r.clearMaybeInsertedClosing();return}return b=w+s.getTabString(),{text:"\n"+b+"\n"+w+p,selection:[1,b.length,1,b.length]}}r.clearMaybeInsertedClosing()}});this.add("braces","deletion",function(n,t,r,f,e){var h=f.doc.getTextRange(e),o,s;if(!e.isMultiLine()&&h=="{"){if(u(r),o=f.doc.getLine(e.start.row),s=o.substring(e.end.column,e.end.column+1),s=="}")return e.end.column++,e;i.maybeInsertedBrackets--}});this.add("parens","insertion",function(n,t,i,f,o){var h,c,a;if(o=="("){if(u(i),h=i.getSelectionRange(),c=f.doc.getTextRange(h),c!==""&&i.getWrapBehavioursEnabled())return e(h,c,"(",")");if(r.isSaneInsertion(i,f))return r.recordAutoInsert(i,f,")"),{text:"()",selection:[1,1]}}else if(o==")"){u(i);var s=i.getCursorPosition(),l=f.doc.getLine(s.row),v=l.substring(s.column,s.column+1);if(v==")"&&(a=f.$findOpeningBracket(")",{column:s.column+1,row:s.row}),a!==null&&r.isAutoInsertedClosing(s,l,o)))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}});this.add("parens","deletion",function(n,t,i,r,f){var s=r.doc.getTextRange(f),e,o;if(!f.isMultiLine()&&s=="("&&(u(i),e=r.doc.getLine(f.start.row),o=e.substring(f.start.column+1,f.start.column+2),o==")"))return f.end.column++,f});this.add("brackets","insertion",function(n,t,i,f,o){var h,c,a;if(o=="["){if(u(i),h=i.getSelectionRange(),c=f.doc.getTextRange(h),c!==""&&i.getWrapBehavioursEnabled())return e(h,c,"[","]");if(r.isSaneInsertion(i,f))return r.recordAutoInsert(i,f,"]"),{text:"[]",selection:[1,1]}}else if(o=="]"){u(i);var s=i.getCursorPosition(),l=f.doc.getLine(s.row),v=l.substring(s.column,s.column+1);if(v=="]"&&(a=f.$findOpeningBracket("]",{column:s.column+1,row:s.row}),a!==null&&r.isAutoInsertedClosing(s,l,o)))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}});this.add("brackets","deletion",function(n,t,i,r,f){var s=r.doc.getTextRange(f),e,o;if(!f.isMultiLine()&&s=="["&&(u(i),e=r.doc.getLine(f.start.row),o=e.substring(f.start.column+1,f.start.column+2),o=="]"))return f.end.column++,f});this.add("string_dquotes","insertion",function(n,t,i,r,f){var d=r.$mode.$quotes||v,y,p,c,l,tt,it;if(f.length==1&&d[f]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(f)!=-1)return;u(i);var s=f,g=i.getSelectionRange(),h=r.doc.getTextRange(g);if(h!==""&&(h.length!=1||!d[h])&&i.getWrapBehavioursEnabled())return e(g,h,s,s);if(!h){var o=i.getCursorPosition(),nt=r.doc.getLine(o.row),w=nt.substring(o.column-1,o.column),b=nt.substring(o.column,o.column+1),a=r.getTokenAt(o.row,o.column),k=r.getTokenAt(o.row,o.column+1);if(w=="\\"&&a&&/escape/.test(a.type))return null;if(y=a&&/string|escape/.test(a.type),p=!k||/string|escape/.test(k.type),b==s)c=y!==p,c&&/string\.end/.test(k.type)&&(c=!1);else{if(y&&!p||y&&p||(l=r.$mode.tokenRe,l.lastIndex=0,tt=l.test(w),l.lastIndex=0,it=l.test(w),tt||it)||b&&!/[\s;,.})\]\\]/.test(b))return null;c=!0}return{text:c?s+s:"",selection:[1,1]}}}});this.add("string_dquotes","deletion",function(n,t,i,r,f){var e=r.doc.getTextRange(f),o,s;if(!f.isMultiLine()&&(e=='"'||e=="'")&&(u(i),o=r.doc.getLine(f.start.row),s=o.substring(f.start.column+1,f.start.column+2),s==e))return f.end.column++,f})};r.isSaneInsertion=function(n,t){var i=n.getCursorPosition(),r=new o(t,i.row,i.column),u;return!this.$matchTokenType(r.getCurrentToken()||"text",s)&&(u=new o(t,i.row,i.column+1),!this.$matchTokenType(u.getCurrentToken()||"text",s))?!1:(r.stepForward(),r.getCurrentTokenRow()!==i.row||this.$matchTokenType(r.getCurrentToken()||"text",a))};r.$matchTokenType=function(n,t){return t.indexOf(n.type||n)>-1};r.recordAutoInsert=function(n,t,r){var u=n.getCursorPosition(),f=t.doc.getLine(u.row);this.isAutoInsertedClosing(u,f,i.autoInsertedLineEnd[0])||(i.autoInsertedBrackets=0);i.autoInsertedRow=u.row;i.autoInsertedLineEnd=r+f.substr(u.column);i.autoInsertedBrackets++};r.recordMaybeInsert=function(n,t,r){var u=n.getCursorPosition(),f=t.doc.getLine(u.row);this.isMaybeInsertedClosing(u,f)||(i.maybeInsertedBrackets=0);i.maybeInsertedRow=u.row;i.maybeInsertedLineStart=f.substr(0,u.column)+r;i.maybeInsertedLineEnd=f.substr(u.column);i.maybeInsertedBrackets++};r.isAutoInsertedClosing=function(n,t,r){return i.autoInsertedBrackets>0&&n.row===i.autoInsertedRow&&r===i.autoInsertedLineEnd[0]&&t.substr(n.column)===i.autoInsertedLineEnd};r.isMaybeInsertedClosing=function(n,t){return i.maybeInsertedBrackets>0&&n.row===i.maybeInsertedRow&&t.substr(n.column)===i.maybeInsertedLineEnd&&t.substr(0,n.column)==i.maybeInsertedLineStart};r.popAutoInsertedClosing=function(){i.autoInsertedLineEnd=i.autoInsertedLineEnd.substr(1);i.autoInsertedBrackets--};r.clearMaybeInsertedClosing=function(){i&&(i.maybeInsertedBrackets=0,i.maybeInsertedRow=-1)};h.inherits(r,c);t.CstyleBehaviour=r});ace.define("ace/unicode",["require","exports","module"],function(n,t){"use strict";function i(n){var r=/\w{4}/g;for(var i in n)t.packages[i]=n[i].replace(r,"\\u$&")}t.packages={};i({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})});ace.define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(n,t){"use strict";var o=n("../tokenizer").Tokenizer,s=n("./text_highlight_rules").TextHighlightRules,h=n("./behaviour/cstyle").CstyleBehaviour,i=n("../unicode"),r=n("../lib/lang"),u=n("../token_iterator").TokenIterator,f=n("../range").Range,e=function(){this.HighlightRules=s};(function(){this.$defaultBehaviour=new h;this.tokenRe=new RegExp("^["+i.packages.L+i.packages.Mn+i.packages.Mc+i.packages.Nd+i.packages.Pc+"\\$_]+","g");this.nonTokenRe=new RegExp("^(?:[^"+i.packages.L+i.packages.Mn+i.packages.Mc+i.packages.Nd+i.packages.Pc+"\\$_]|\\s])+","g");this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new o(this.$highlightRules.getRules())),this.$tokenizer};this.lineCommentStart="";this.blockComment="";this.toggleCommentLines=function(n,t,i,u){function b(n){for(var t=i;t<=u;t++)n(e.getLine(t),t)}var e=t.doc,a=!0,c=!0,f=Infinity,o=t.getTabSize(),v=!1,s,h,l;if(this.lineCommentStart){Array.isArray(this.lineCommentStart)?(s=this.lineCommentStart.map(r.escapeRegExp).join("|"),h=this.lineCommentStart[0]):(s=r.escapeRegExp(this.lineCommentStart),h=this.lineCommentStart);s=new RegExp("^(\\s*)(?:"+s+") ?");v=t.getUseSoftTabs();var g=function(n,t){var r=n.match(s),u,i;r&&(u=r[1].length,i=r[0].length,w(n,u,i)||r[0][i-1]!=" "||i--,e.removeInLine(t,u,i))},nt=h+" ",d=function(n,t){(!a||/\S/.test(n))&&(w(n,f,f)?e.insertInLine({row:t,column:f},nt):e.insertInLine({row:t,column:f},h))},p=function(n){return s.test(n)},w=function(n,t,i){for(var r=0;t--&&n.charAt(t)==" ";)r++;if(r%o!=0)return!1;for(r=0;n.charAt(i++)==" ";)r++;return o>2?r%o!=o-1:r%o==0}}else{if(!this.blockComment)return!1;var h=this.blockComment.start,y=this.blockComment.end,s=new RegExp("^(\\s*)(?:"+r.escapeRegExp(h)+")"),k=new RegExp("(?:"+r.escapeRegExp(y)+")\\s*$"),d=function(n,t){p(n,t)||(!a||/\S/.test(n))&&(e.insertInLine({row:t,column:n.length},y),e.insertInLine({row:t,column:f},h))},g=function(n,t){var i;(i=n.match(k))&&e.removeInLine(t,n.length-i[0].length,n.length);(i=n.match(s))&&e.removeInLine(t,i[1].length,i[0].length)},p=function(n,i){var u,r;if(s.test(n))return!0;for(u=t.getTokens(i),r=0;r<u.length;r++)if(u[r].type==="comment")return!0}}l=Infinity;b(function(n,t){var i=n.search(/\S/);i!==-1?(i<f&&(f=i),c&&!p(n,t)&&(c=!1)):l>n.length&&(l=n.length)});f==Infinity&&(f=l,a=!1,c=!1);v&&f%o!=0&&(f=Math.floor(f/o)*o);b(c?g:d)};this.toggleBlockComment=function(n,t,i,r){var e=this.blockComment,p,w,s,o,h,c,l;if(e){!e.start&&e[0]&&(e=e[0]);var s=new u(t,r.row,r.column),o=s.getCurrentToken(),b=t.selection,a=t.selection.toOrientedRange(),v,y;if(o&&/comment/.test(o.type)){while(o&&/comment/.test(o.type)){if(h=o.value.indexOf(e.start),h!=-1){c=s.getCurrentTokenRow();l=s.getCurrentTokenColumn()+h;p=new f(c,l,c,l+e.start.length);break}o=s.stepBackward()}for(s=new u(t,r.row,r.column),o=s.getCurrentToken();o&&/comment/.test(o.type);){if(h=o.value.indexOf(e.end),h!=-1){c=s.getCurrentTokenRow();l=s.getCurrentTokenColumn()+h;w=new f(c,l,c,l+e.end.length);break}o=s.stepForward()}w&&t.remove(w);p&&(t.remove(p),v=p.start.row,y=-e.start.length)}else y=e.start.length,v=i.start.row,t.insert(i.end,e.end),t.insert(i.start,e.start);a.start.row==v&&(a.start.column+=y);a.end.row==v&&(a.end.column+=y);t.selection.fromOrientedRange(a)}};this.getNextLineIndent=function(n,t){return this.$getIndent(t)};this.checkOutdent=function(){return!1};this.autoOutdent=function(){};this.$getIndent=function(n){return n.match(/^\s*/)[0]};this.createWorker=function(){return null};this.createModeDelegates=function(n){var i,t;this.$embeds=[];this.$modes={};for(t in n)n[t]&&(this.$embeds.push(t),this.$modes[t]=new n[t]);for(i=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],t=0;t<i.length;t++)(function(n){var r=i[t],u=n[r];n[i[t]]=function(){return this.$delegator(r,arguments,u)}})(this)};this.$delegator=function(n,t,i){var u=t[0],r,f,e,o;for(typeof u!="string"&&(u=u[0]),r=0;r<this.$embeds.length;r++)if(this.$modes[this.$embeds[r]]&&(f=u.split(this.$embeds[r]),!f[0]&&f[1]))return t[0]=f[1],e=this.$modes[this.$embeds[r]],e[n].apply(e,t);return o=i.apply(this,t),i?o:undefined};this.transformAction=function(n,t){var i,r,u;if(this.$behaviour){i=this.$behaviour.getBehaviours();for(r in i)if(i[r][t]&&(u=i[r][t].apply(this,arguments),u))return u}};this.getKeywords=function(n){var e,r,i,t,o,f,s,u;if(!this.completionKeywords){e=this.$tokenizer.rules;r=[];for(u in e)for(i=e[u],t=0,o=i.length;t<o;t++)if(typeof i[t].token=="string")/keyword|support|storage/.test(i[t].token)&&r.push(i[t].regex);else if(typeof i[t].token=="object")for(f=0,s=i[t].token.length;f<s;f++)/keyword|support|storage/.test(i[t].token[f])&&(u=i[t].regex.match(/\(.+?\)/g)[f],r.push(u.substr(1,u.length-2)));this.completionKeywords=r}return n?r.concat(this.$keywordList||[]):this.$keywordList};this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]};this.getCompletions=function(){var n=this.$keywordList||this.$createKeywordList();return n.map(function(n){return{name:n,value:n,score:0,meta:"keyword"}})};this.$id="ace/mode/text"}).call(e.prototype);t.Mode=e});ace.define("ace/apply_delta",["require","exports","module"],function(n,t){"use strict";t.applyDelta=function(n,t){var i=t.start.row,u=t.start.column,r=n[i]||"",o,s,e,f;switch(t.action){case"insert":o=t.lines;o.length===1?n[i]=r.substring(0,u)+t.lines[0]+r.substring(u):(s=[i,1].concat(t.lines),n.splice.apply(n,s),n[i]=r.substring(0,u)+n[i],n[i+t.lines.length-1]+=r.substring(u));break;case"remove":e=t.end.column;f=t.end.row;i===f?n[i]=r.substring(0,u)+r.substring(e):n.splice(i,f-i+1,r.substring(0,u)+n[f].substring(e))}}});ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,t){"use strict";var i=n("./lib/oop"),r=n("./lib/event_emitter").EventEmitter,u=t.Anchor=function(n,t,i){this.$onChange=this.onChange.bind(this);this.attach(n);typeof i=="undefined"?this.setPosition(t.row,t.column):this.setPosition(t,i)};(function(){function n(n,t,i){var r=i?n.column<=t.column:n.column<t.column;return n.row<t.row||n.row==t.row&&r}function t(t,i,r){var f=t.action=="insert",o=(f?1:-1)*(t.end.row-t.start.row),s=(f?1:-1)*(t.end.column-t.start.column),u=t.start,e=f?u:t.end;return n(i,u,r)?{row:i.row,column:i.column}:n(e,i,!r)?{row:i.row+o,column:i.column+(i.row==e.row?s:0)}:{row:u.row,column:u.column}}i.implement(this,r);this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)};this.getDocument=function(){return this.document};this.$insertRight=!1;this.onChange=function(n){if((n.start.row!=n.end.row||n.start.row==this.row)&&!(n.start.row>this.row)){var i=t(n,{row:this.row,column:this.column},this.$insertRight);this.setPosition(i.row,i.column,!0)}};this.setPosition=function(n,t,i){var r,u;(r=i?{row:n,column:t}:this.$clipPositionToDocument(n,t),this.row!=r.row||this.column!=r.column)&&(u={row:this.row,column:this.column},this.row=r.row,this.column=r.column,this._signal("change",{old:u,value:r}))};this.detach=function(){this.document.removeEventListener("change",this.$onChange)};this.attach=function(n){this.document=n||this.document;this.document.on("change",this.$onChange)};this.$clipPositionToDocument=function(n,t){var i={};return n>=this.document.getLength()?(i.row=Math.max(0,this.document.getLength()-1),i.column=this.document.getLine(i.row).length):n<0?(i.row=0,i.column=0):(i.row=n,i.column=Math.min(this.document.getLine(i.row).length,Math.max(0,t))),t<0&&(i.column=0),i}}).call(u.prototype)});ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(n,t){"use strict";var u=n("./lib/oop"),f=n("./apply_delta").applyDelta,e=n("./lib/event_emitter").EventEmitter,i=n("./range").Range,o=n("./anchor").Anchor,r=function(n){this.$lines=[""];n.length===0?this.$lines=[""]:Array.isArray(n)?this.insertMergedLines({row:0,column:0},n):this.insert({row:0,column:0},n)};(function(){u.implement(this,e);this.setValue=function(n){var t=this.getLength()-1;this.remove(new i(0,0,t,this.getLine(t).length));this.insert({row:0,column:0},n)};this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())};this.createAnchor=function(n,t){return new o(this,n,t)};this.$split="aaa".split(/a/).length===0?function(n){return n.replace(/\r\n|\r/g,"\n").split("\n")}:function(n){return n.split(/\r\n|\r|\n/)};this.$detectNewLine=function(n){var t=n.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n";this._signal("changeNewLineMode")};this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}};this.$autoNewLine="";this.$newLineMode="auto";this.setNewLineMode=function(n){this.$newLineMode!==n&&(this.$newLineMode=n,this._signal("changeNewLineMode"))};this.getNewLineMode=function(){return this.$newLineMode};this.isNewLine=function(n){return n=="\r\n"||n=="\r"||n=="\n"};this.getLine=function(n){return this.$lines[n]||""};this.getLines=function(n,t){return this.$lines.slice(n,t+1)};this.getAllLines=function(){return this.getLines(0,this.getLength())};this.getLength=function(){return this.$lines.length};this.getTextRange=function(n){return this.getLinesForRange(n).join(this.getNewLineCharacter())};this.getLinesForRange=function(n){var t,i;return n.start.row===n.end.row?t=[this.getLine(n.start.row).substring(n.start.column,n.end.column)]:(t=this.getLines(n.start.row,n.end.row),t[0]=(t[0]||"").substring(n.start.column),i=t.length-1,n.end.row-n.start.row==i&&(t[i]=t[i].substring(0,n.end.column))),t};this.insertLines=function(n,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(n,t)};this.removeLines=function(n,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(n,t)};this.insertNewLine=function(n){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(n,["",""])};this.insert=function(n,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(n,this.$split(t))};this.insertInLine=function(n,t){var r=this.clippedPos(n.row,n.column),i=this.pos(n.row,n.column+t.length);return this.applyDelta({start:r,end:i,action:"insert",lines:[t]},!0),this.clonePos(i)};this.clippedPos=function(n,t){var i=this.getLength(),r;return n===undefined?n=i:n<0?n=0:n>=i&&(n=i-1,t=undefined),r=this.getLine(n),t==undefined&&(t=r.length),t=Math.min(Math.max(t,0),r.length),{row:n,column:t}};this.clonePos=function(n){return{row:n.row,column:n.column}};this.pos=function(n,t){return{row:n,column:t}};this.$clipPosition=function(n){var t=this.getLength();return n.row>=t?(n.row=Math.max(0,t-1),n.column=this.getLine(t-1).length):(n.row=Math.max(0,n.row),n.column=Math.min(Math.max(n.column,0),this.getLine(n.row).length)),n};this.insertFullLines=function(n,t){n=Math.min(Math.max(n,0),this.getLength());var i=0;n<this.getLength()?(t=t.concat([""]),i=0):(t=[""].concat(t),n--,i=this.$lines[n].length);this.insertMergedLines({row:n,column:i},t)};this.insertMergedLines=function(n,t){var i=this.clippedPos(n.row,n.column),r={row:i.row+t.length-1,column:(t.length==1?i.column:0)+t[t.length-1].length};return this.applyDelta({start:i,end:r,action:"insert",lines:t}),this.clonePos(r)};this.remove=function(n){var t=this.clippedPos(n.start.row,n.start.column),i=this.clippedPos(n.end.row,n.end.column);return this.applyDelta({start:t,end:i,action:"remove",lines:this.getLinesForRange({start:t,end:i})}),this.clonePos(t)};this.removeInLine=function(n,t,i){var r=this.clippedPos(n,t),u=this.clippedPos(n,i);return this.applyDelta({start:r,end:u,action:"remove",lines:this.getLinesForRange({start:r,end:u})},!0),this.clonePos(r)};this.removeFullLines=function(n,t){n=Math.min(Math.max(0,n),this.getLength()-1);t=Math.min(Math.max(0,t),this.getLength()-1);var u=t==this.getLength()-1&&n>0,f=t<this.getLength()-1,e=u?n-1:n,s=u?this.getLine(e).length:0,o=f?t+1:t,h=f?0:this.getLine(o).length,r=new i(e,s,o,h),c=this.$lines.slice(n,t+1);return this.applyDelta({start:r.start,end:r.end,action:"remove",lines:this.getLinesForRange(r)}),c};this.removeNewLine=function(n){n<this.getLength()-1&&n>=0&&this.applyDelta({start:this.pos(n,this.getLine(n).length),end:this.pos(n+1,0),action:"remove",lines:["",""]})};this.replace=function(n,t){return(n instanceof i||(n=i.fromPoints(n.start,n.end)),t.length===0&&n.isEmpty())?n.start:t==this.getTextRange(n)?n.end:(this.remove(n),t?this.insert(n.start,t):n.start)};this.applyDeltas=function(n){for(var t=0;t<n.length;t++)this.applyDelta(n[t])};this.revertDeltas=function(n){for(var t=n.length-1;t>=0;t--)this.revertDelta(n[t])};this.applyDelta=function(n,t){var r=n.action=="insert";(r?n.lines.length<=1&&!n.lines[0]:!i.comparePoints(n.start,n.end))||(r&&n.lines.length>2e4&&this.$splitAndapplyLargeDelta(n,2e4),f(this.$lines,n,t),this._signal("change",n))};this.$splitAndapplyLargeDelta=function(n,t){var o=n.lines,s=o.length,f=n.start.row,e=n.start.column,r=0,i=0,u;do{if(r=i,i+=t-1,u=o.slice(r,i),i>s){n.lines=u;n.start.row=f+r;n.start.column=e;break}u.push("");this.applyDelta({start:this.pos(f+r,e),end:this.pos(f+i,e=0),action:n.action,lines:u},!0)}while(1)};this.revertDelta=function(n){this.applyDelta({start:this.clonePos(n.start),end:this.clonePos(n.end),action:n.action=="insert"?"remove":"insert",lines:n.lines.slice()})};this.indexToPosition=function(n,t){for(var r=this.$lines||this.getAllLines(),f=this.getNewLineCharacter().length,i=t||0,u=r.length;i<u;i++)if(n-=r[i].length+f,n<0)return{row:i,column:n+r[i].length+f};return{row:u-1,column:r[u-1].length}};this.positionToIndex=function(n,t){for(var r=this.$lines||this.getAllLines(),f=this.getNewLineCharacter().length,u=0,e=Math.min(n.row,r.length),i=t||0;i<e;++i)u+=r[i].length+f;return u+n.column}}).call(r.prototype);t.Document=r});ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,t){"use strict";var r=n("./lib/oop"),u=n("./lib/event_emitter").EventEmitter,i=function(n){this.running=!1;this.lines=[];this.states=[];this.currentLine=0;this.tokenizer=n;var t=this;this.$worker=function(){var f,r;if(t.running){for(var e=new Date,n=t.currentLine,i=-1,o=t.doc,u=n;t.lines[n];)n++;for(f=o.getLength(),r=0,t.running=!1;n<f;){t.$tokenizeRow(n);i=n;do n++;while(t.lines[n]);if(r++,r%5==0&&new Date-e>20){t.running=setTimeout(t.$worker,20);break}}t.currentLine=n;i==-1&&(i=n);u<=i&&t.fireUpdateEvent(u,i)}}};(function(){r.implement(this,u);this.setTokenizer=function(n){this.tokenizer=n;this.lines=[];this.states=[];this.start(0)};this.setDocument=function(n){this.doc=n;this.lines=[];this.states=[];this.stop()};this.fireUpdateEvent=function(n,t){var i={first:n,last:t};this._signal("update",{data:i})};this.start=function(n){this.currentLine=Math.min(n||0,this.currentLine,this.doc.getLength());this.lines.splice(this.currentLine,this.lines.length);this.states.splice(this.currentLine,this.states.length);this.stop();this.running=setTimeout(this.$worker,700)};this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))};this.$updateOnChange=function(n){var t=n.start.row,i=n.end.row-t,r;i===0?this.lines[t]=null:n.action=="remove"?(this.lines.splice(t,i+1,null),this.states.splice(t,i+1,null)):(r=Array(i+1),r.unshift(t,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r));this.currentLine=Math.min(t,this.currentLine,this.doc.getLength());this.stop()};this.stop=function(){this.running&&clearTimeout(this.running);this.running=!1};this.getTokens=function(n){return this.lines[n]||this.$tokenizeRow(n)};this.getState=function(n){return this.currentLine==n&&this.$tokenizeRow(n),this.states[n]||"start"};this.$tokenizeRow=function(n){var i=this.doc.getLine(n),r=this.states[n-1],t=this.tokenizer.getLineTokens(i,r,n);return this.states[n]+""!=t.state+""?(this.states[n]=t.state,this.lines[n+1]=null,this.currentLine>n+1&&(this.currentLine=n+1)):this.currentLine==n&&(this.currentLine=n+1),this.lines[n]=t.tokens}}).call(i.prototype);t.BackgroundTokenizer=i});ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(n,t){"use strict";var r=n("./lib/lang"),f=n("./lib/oop"),u=n("./range").Range,i=function(n,t,i){this.setRegexp(n);this.clazz=t;this.type=i||"text"};(function(){this.MAX_RANGES=500;this.setRegexp=function(n){this.regExp+""!=n+""&&(this.regExp=n,this.cache=[])};this.update=function(n,t,i,f){var h,c,o,e,s;if(this.regExp)for(h=f.firstRow,c=f.lastRow,o=h;o<=c;o++)for(e=this.cache[o],e==null&&(e=r.getMatchOffsets(i.getLine(o),this.regExp),e.length>this.MAX_RANGES&&(e=e.slice(0,this.MAX_RANGES)),e=e.map(function(n){return new u(o,n.offset,o,n.offset+n.length)}),this.cache[o]=e.length?e:""),s=e.length;s--;)t.drawSingleLineMarker(n,e[s].toScreenRange(i),this.clazz,f)}}).call(i.prototype);t.SearchHighlight=i});ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(n,t){"use strict";function i(n,t){this.foldData=n;Array.isArray(t)?this.folds=t:t=this.folds=[t];var i=t[t.length-1];this.range=new r(t[0].start.row,t[0].start.column,i.end.row,i.end.column);this.start=this.range.start;this.end=this.range.end;this.folds.forEach(function(n){n.setFoldLine(this)},this)}var r=n("../range").Range;(function(){this.shiftRow=function(n){this.start.row+=n;this.end.row+=n;this.folds.forEach(function(t){t.start.row+=n;t.end.row+=n})};this.addFold=function(n){if(n.sameRow){if(n.start.row<this.startRow||n.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(n);this.folds.sort(function(n,t){return-n.range.compareEnd(t.start.row,t.start.column)});this.range.compareEnd(n.start.row,n.start.column)>0?(this.end.row=n.end.row,this.end.column=n.end.column):this.range.compareStart(n.end.row,n.end.column)<0&&(this.start.row=n.start.row,this.start.column=n.start.column)}else if(n.start.row==this.end.row)this.folds.push(n),this.end.row=n.end.row,this.end.column=n.end.column;else if(n.end.row==this.start.row)this.folds.unshift(n),this.start.row=n.start.row,this.start.column=n.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");n.foldLine=this};this.containsRow=function(n){return n>=this.start.row&&n<=this.end.row};this.walk=function(n,t,i){var u=0,h=this.folds,r,s,f,e=!0,o;for(t==null&&(t=this.end.row,i=this.end.column),o=0;o<h.length;o++){if(r=h[o],s=r.range.compareStart(t,i),s==-1){n(null,t,i,u,e);return}if(f=n(null,r.start.row,r.start.column,u,e),f=!f&&n(r.placeholder,r.start.row,r.start.column,u),f||s===0)return;e=!r.sameRow;u=r.end.column}n(null,t,i,u,e)};this.getNextFoldTo=function(n,t){for(var i,r,u=0;u<this.folds.length;u++){if(i=this.folds[u],r=i.range.compareEnd(n,t),r==-1)return{fold:i,kind:"after"};if(r===0)return{fold:i,kind:"inside"}}return null};this.addRemoveChars=function(n,t,i){var e=this.getNextFoldTo(n,t),r,f,u;if(e)if(r=e.fold,e.kind=="inside"&&r.start.column!=t&&r.start.row!=n)window.console&&window.console.log(n,t,r);else if(r.start.row==n){for(f=this.folds,u=f.indexOf(r),u===0&&(this.start.column+=i),u;u<f.length;u++){if(r=f[u],r.start.column+=i,!r.sameRow)return;r.end.column+=i}this.end.column+=i}};this.split=function(n,t){var u=this.getNextFoldTo(n,t),o;if(!u||u.kind=="inside")return null;var h=u.fold,r=this.folds,f=this.foldData,e=r.indexOf(h),s=r[e-1];return this.end.row=s.end.row,this.end.column=s.end.column,r=r.splice(e,r.length-e),o=new i(f,r),f.splice(f.indexOf(this)+1,0,o),o};this.merge=function(n){for(var i,r=n.folds,t=0;t<r.length;t++)this.addFold(r[t]);i=this.foldData;i.splice(i.indexOf(n),1)};this.toString=function(){var n=[this.range.toString()+": ["];return this.folds.forEach(function(t){n.push("  "+t.toString())}),n.push("]"),n.join("\n")};this.idxToPosition=function(n){for(var t,r=0,i=0;i<this.folds.length;i++){if(t=this.folds[i],n-=t.start.column-r,n<0)return{row:t.start.row,column:t.start.column+n};if(n-=t.placeholder.length,n<0)return t.start;r=t.end.column}return{row:this.end.row,column:this.end.column+n}}}).call(i.prototype);t.FoldLine=i});ace.define("ace/range_list",["require","exports","module","ace/range"],function(n,t){"use strict";var u=n("./range").Range,i=u.comparePoints,r=function(){this.ranges=[]};(function(){this.comparePoints=i;this.pointIndex=function(n,t,r){for(var e,o,f,s=this.ranges,u=r||0;u<s.length;u++)if(e=s[u],o=i(n,e.end),!(o>0))return(f=i(n,e.start),o===0)?t&&f!==0?-u-2:u:f>0||f===0&&!t?u:-u-1;return-u-1};this.add=function(n){var r=!n.isEmpty(),t=this.pointIndex(n.start,r),i;return t<0&&(t=-t-1),i=this.pointIndex(n.end,r,t),i<0?i=-i-1:i++,this.ranges.splice(t,i-t,n)};this.addList=function(n){for(var t=[],i=n.length;i--;)t.push.apply(t,this.add(n[i]));return t};this.substractPoint=function(n){var t=this.pointIndex(n);if(t>=0)return this.ranges.splice(t,1)};this.merge=function(){var e=[],t=this.ranges,n,r,u,f;for(t=t.sort(function(n,t){return i(n.start,t.start)}),n=t[0],u=1;u<t.length;u++)(r=n,n=t[u],f=i(r.end,n.start),f<0)||(f!=0||r.isEmpty()||n.isEmpty())&&(i(r.end,n.end)<0&&(r.end.row=n.end.row,r.end.column=n.end.column),t.splice(u,1),e.push(n),n=r,u--);return this.ranges=t,e};this.contains=function(n,t){return this.pointIndex({row:n,column:t})>=0};this.containsPoint=function(n){return this.pointIndex(n)>=0};this.rangeAtPoint=function(n){var t=this.pointIndex(n);if(t>=0)return this.ranges[t]};this.clipRows=function(n,t){var u=this.ranges,i,r,e,f;if(u[0].start.row>t||u[u.length-1].start.row<n)return[];for(i=this.pointIndex({row:n,column:0}),i<0&&(i=-i-1),r=this.pointIndex({row:t,column:0},i),r<0&&(r=-r-1),e=[],f=i;f<r;f++)e.push(u[f]);return e};this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)};this.attach=function(n){this.session&&this.detach();this.session=n;this.onChange=this.$onChange.bind(this);this.session.on("change",this.onChange)};this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)};this.$onChange=function(n){var o,r,i,e,t;n.action=="insert"?(r=n.start,o=n.end):(o=n.start,r=n.end);var u=r.row,c=o.row,f=c-u,s=-r.column+o.column,h=this.ranges;for(i=0,e=h.length;i<e;i++)if(t=h[i],!(t.end.row<u)){if(t.start.row>u)break;if(t.start.row==u&&t.start.column>=r.column&&(t.start.column==r.column&&this.$insertRight||(t.start.column+=s,t.start.row+=f)),t.end.row==u&&t.end.column>=r.column){if(t.end.column==r.column&&this.$insertRight)continue;t.end.column==r.column&&s>0&&i<e-1&&t.end.column>t.start.column&&t.end.column==h[i+1].start.column&&(t.end.column-=s);t.end.column+=s;t.end.row+=f}}if(f!=0&&i<e)for(;i<e;i++)t=h[i],t.start.row+=f,t.end.row+=f}}).call(r.prototype);t.RangeList=r});ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(n,t){"use strict";function r(n,t){n.row-=t.row;n.row==0&&(n.column-=t.column)}function o(n,t){r(n.start,t);r(n.end,t)}function u(n,t){n.row==0&&(n.column+=t.column);n.row+=t.row}function s(n,t){u(n.start,t);u(n.end,t)}var h=n("../range").Range,f=n("../range_list").RangeList,e=n("../lib/oop"),i=t.Fold=function(n,t){this.foldLine=null;this.placeholder=t;this.range=n;this.start=n.start;this.end=n.end;this.sameRow=n.start.row==n.end.row;this.subFolds=this.ranges=[]};e.inherits(i,f),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()};this.setFoldLine=function(n){this.foldLine=n;this.subFolds.forEach(function(t){t.setFoldLine(n)})};this.clone=function(){var t=this.range.clone(),n=new i(t,this.placeholder);return this.subFolds.forEach(function(t){n.subFolds.push(t.clone())}),n.collapseChildren=this.collapseChildren,n};this.addSubFold=function(n){var t,e,u,f,r,i,s,h;if(!this.range.isEqual(n)){if(!this.range.containsRange(n))throw new Error("A fold can't intersect already existing fold"+n.range+this.range);for(o(n,this.start),u=n.start.row,f=n.start.column,t=0,i=-1;t<this.subFolds.length;t++)if(i=this.subFolds[t].range.compare(u,f),i!=1)break;if(e=this.subFolds[t],i==0)return e.addSubFold(n);for(u=n.range.end.row,f=n.range.end.column,r=t,i=-1;r<this.subFolds.length;r++)if(i=this.subFolds[r].range.compare(u,f),i!=1)break;if(s=this.subFolds[r],i==0)throw new Error("A fold can't intersect already existing fold"+n.range+this.range);return h=this.subFolds.splice(t,r-t,n),n.setFoldLine(this.foldLine),n}};this.restoreRange=function(n){return s(n,this.start)}}.call(i.prototype)});ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(n,t){"use strict";function e(){this.getFoldAt=function(n,t,i){var e=this.getFoldLine(n),f,u,r;if(!e)return null;for(f=e.folds,u=0;u<f.length;u++)if(r=f[u],r.range.contains(n,t)){if(i==1&&r.range.isEnd(n,t))continue;else if(i==-1&&r.range.isStart(n,t))continue;return r}};this.getFoldsInRange=function(n){var o=n.start,s=n.end,u=this.$foldData,h=[],i,t,f,r,e;for(o.column+=1,s.column-=1,i=0;i<u.length;i++){if(t=u[i].range.compareRange(n),t==2)continue;else if(t==-2)break;for(f=u[i].folds,r=0;r<f.length;r++){if(e=f[r],t=e.range.compareRange(n),t==-2)break;else if(t==2)continue;else if(t==42)break;h.push(e)}}return o.column-=1,s.column+=1,h};this.getFoldsInRangeList=function(n){var t;return Array.isArray(n)?(t=[],n.forEach(function(n){t=t.concat(this.getFoldsInRange(n))},this)):t=this.getFoldsInRange(n),t};this.getAllFolds=function(){for(var t,r=[],i=this.$foldData,n=0;n<i.length;n++)for(t=0;t<i[n].folds.length;t++)r.push(i[n].folds[t]);return r};this.getFoldStringAt=function(n,t,i,r){var u,f,e,o,s;if(r=r||this.getFoldLine(n),!r)return null;for(u={end:{column:0}},o=0;o<r.folds.length;o++){if(e=r.folds[o],s=e.range.compareEnd(n,t),s==-1){f=this.getLine(e.start.row).substring(u.end.column,e.start.column);break}else if(s===0)return null;u=e}return f||(f=this.getLine(e.start.row).substring(u.end.column)),i==-1?f.substring(0,t-u.end.column):i==1?f.substring(t-u.end.column):f};this.getFoldLine=function(n,t){var u=this.$foldData,i=0,r;for(t&&(i=u.indexOf(t)),i==-1&&(i=0),i;i<u.length;i++){if(r=u[i],r.start.row<=n&&r.end.row>=n)return r;if(r.end.row>n)return null}return null};this.getNextFoldLine=function(n,t){var r=this.$foldData,i=0,u;for(t&&(i=r.indexOf(t)),i==-1&&(i=0),i;i<r.length;i++)if(u=r[i],u.end.row>=n)return u;return null};this.getFoldedRowCount=function(n,t){for(var e=this.$foldData,r=t-n+1,f=0;f<e.length;f++){var o=e[f],u=o.end.row,i=o.start.row;if(u>=t){i<t&&(i>=n?r-=t-i:r=0);break}else u>=n&&(r-=i>=n?u-i:u-n+1)}return r};this.$addFoldLine=function(n){return this.$foldData.push(n),this.$foldData.sort(function(n,t){return n.start.row-t.start.row}),n};this.addFold=function(n,t){var v=this.$foldData,y=!1,i,o,h,l,c,f,a;n instanceof u?i=n:(i=new u(t,n),i.collapseChildren=t.collapseChildren);this.$clipRangeToDocument(i.range);var s=i.start.row,p=i.start.column,e=i.end.row,w=i.end.column;if(!(s<e||s==e&&p<=w-2))throw new Error("The range has to be at least 2 characters width");if(o=this.getFoldAt(s,p,1),h=this.getFoldAt(e,w,-1),o&&h==o)return o.addSubFold(i);for(o&&!o.range.isStart(s,p)&&this.removeFold(o),h&&!h.range.isEnd(e,w)&&this.removeFold(h),l=this.getFoldsInRange(i.range),l.length>0&&(this.removeFolds(l),l.forEach(function(n){i.addSubFold(n)})),c=0;c<v.length;c++)if(f=v[c],e==f.start.row){f.addFold(i);y=!0;break}else if(s==f.end.row){if(f.addFold(i),y=!0,!i.sameRow&&(a=v[c+1],a&&a.start.row==e)){f.merge(a);break}break}else if(e<=f.start.row)break;return y||(f=this.$addFoldLine(new r(this.$foldData,i))),this.$useWrapMode?this.$updateWrapData(f.start.row,f.start.row):this.$updateRowLengthCache(f.start.row,f.start.row),this.$modified=!0,this._signal("changeFold",{data:i,action:"add"}),i};this.addFolds=function(n){n.forEach(function(n){this.addFold(n)},this)};this.removeFold=function(n){var i=n.foldLine,u=i.start.row,f=i.end.row,e=this.$foldData,t=i.folds,r;t.length==1?e.splice(e.indexOf(i),1):i.range.isEnd(n.end.row,n.end.column)?(t.pop(),i.end.row=t[t.length-1].end.row,i.end.column=t[t.length-1].end.column):i.range.isStart(n.start.row,n.start.column)?(t.shift(),i.start.row=t[0].start.row,i.start.column=t[0].start.column):n.sameRow?t.splice(t.indexOf(n),1):(r=i.split(n.start.row,n.start.column),t=r.folds,t.shift(),r.start.row=t[0].start.row,r.start.column=t[0].start.column);this.$updating||(this.$useWrapMode?this.$updateWrapData(u,f):this.$updateRowLengthCache(u,f));this.$modified=!0;this._signal("changeFold",{data:n,action:"remove"})};this.removeFolds=function(n){for(var i=[],t=0;t<n.length;t++)i.push(n[t]);i.forEach(function(n){this.removeFold(n)},this);this.$modified=!0};this.expandFold=function(n){this.removeFold(n);n.subFolds.forEach(function(t){n.restoreRange(t);this.addFold(t)},this);n.collapseChildren>0&&this.foldAll(n.start.row+1,n.end.row,n.collapseChildren-1);n.subFolds=[]};this.expandFolds=function(n){n.forEach(function(n){this.expandFold(n)},this)};this.unfold=function(n,t){var u,r,f;if(n==null?(u=new i(0,0,this.getLength(),0),t=!0):u=typeof n=="number"?new i(n,0,n,this.getLine(n).length):"row"in n?i.fromPoints(n,n):n,r=this.getFoldsInRangeList(u),t)this.removeFolds(r);else for(f=r;f.length;)this.expandFolds(f),f=this.getFoldsInRangeList(u);if(r.length)return r};this.isRowFolded=function(n,t){return!!this.getFoldLine(n,t)};this.getRowFoldEnd=function(n,t){var i=this.getFoldLine(n,t);return i?i.end.row:n};this.getRowFoldStart=function(n,t){var i=this.getFoldLine(n,t);return i?i.start.row:n};this.getFoldDisplayLine=function(n,t,i,r,u){r==null&&(r=n.start.row);u==null&&(u=0);t==null&&(t=n.end.row);i==null&&(i=this.getLine(t).length);var e=this.doc,f="";return n.walk(function(n,t,i,o){if(!(t<r)){if(t==r){if(i<u)return;o=Math.max(u,o)}f+=n!=null?n:e.getLine(t).substring(o,i)}},t,i),f};this.getDisplayLine=function(n,t,i,r){var f=this.getFoldLine(n),u;return f?this.getFoldDisplayLine(f,n,t,i,r):(u=this.doc.getLine(n),u.substring(r||0,t||u.length))};this.$cloneFoldData=function(){var n=[];return n=this.$foldData.map(function(t){var i=t.folds.map(function(n){return n.clone()});return new r(n,i)})};this.toggleFold=function(n){var o=this.selection,t=o.getRange(),i,r,u,e,f;if(t.isEmpty()){if(u=t.start,i=this.getFoldAt(u.row,u.column),i){this.expandFold(i);return}(r=this.findMatchingBracket(u))?t.comparePoint(r)==1?t.end=r:(t.start=r,t.start.column++,t.end.column--):(r=this.findMatchingBracket({row:u.row,column:u.column+1}))?(t.comparePoint(r)==1?t.end=r:t.start=r,t.start.column++):t=this.getCommentFoldRange(u.row,u.column)||t}else{if(e=this.getFoldsInRange(t),n&&e.length){this.expandFolds(e);return}e.length==1&&(i=e[0])}if(i||(i=this.getFoldAt(t.start.row,t.start.column)),i&&i.range.toString()==t.toString()){this.expandFold(i);return}if(f="...",!t.isMultiLine()){if(f=this.getTextRange(t),f.length<4)return;f=f.trim().substring(0,2)+".."}this.addFold(f,t)};this.getCommentFoldRange=function(n,t,r){var u=new f(this,n,t),e=u.getCurrentToken(),o=e.type,h,s,c,l;if(e&&/^comment|string/.test(o)){if(o=o.match(/comment|string/)[0],o=="comment"&&(o+="|doc-start"),h=new RegExp(o),s=new i,r!=1){do e=u.stepBackward();while(e&&h.test(e.type));u.stepForward()}if(s.start.row=u.getCurrentTokenRow(),s.start.column=u.getCurrentTokenColumn()+2,u=new f(this,n,t),r!=-1){c=-1;do if(e=u.stepForward(),c==-1)l=this.getState(u.$row),h.test(l)||(c=u.$row);else if(u.$row>c)break;while(e&&h.test(e.type));e=u.stepBackward()}else e=u.getCurrentToken();return s.end.row=u.getCurrentTokenRow(),s.end.column=u.getCurrentTokenColumn()+e.value.length-2,s}};this.foldAll=function(n,t,i){var f,r,u,e;if(i==undefined&&(i=1e5),f=this.foldWidgets,f)for(t=t||this.getLength(),n=n||0,r=n;r<t;r++)if((f[r]==null&&(f[r]=this.getFoldWidget(r)),f[r]=="start")&&(u=this.getFoldWidgetRange(r),u&&u.isMultiLine()&&u.end.row<=t&&u.start.row>=n)){r=u.end.row;try{e=this.addFold("...",u);e&&(e.collapseChildren=i)}catch(o){}}};this.$foldStyles={manual:1,markbegin:1,markbeginend:1};this.$foldStyle="markbegin";this.setFoldStyle=function(n){if(!this.$foldStyles[n])throw new Error("invalid fold style: "+n+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=n){this.$foldStyle=n;n=="manual"&&this.unfold();var t=this.$foldMode;this.$setFolding(null);this.$setFolding(t)}};this.$setFolding=function(n){if(this.$foldMode!=n){if(this.$foldMode=n,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!n||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[];this.getFoldWidget=n.getFoldWidget.bind(n,this,this.$foldStyle);this.getFoldWidgetRange=n.getFoldWidgetRange.bind(n,this,this.$foldStyle);this.$updateFoldWidgets=this.updateFoldWidgets.bind(this);this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this);this.on("change",this.$updateFoldWidgets);this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}};this.getParentFoldRangeData=function(n,t){var u=this.foldWidgets,i,e,f,r;if(!u||t&&u[n])return{};for(i=n-1;i>=0;){if(f=u[i],f==null&&(f=u[i]=this.getFoldWidget(i)),f=="start"&&(r=this.getFoldWidgetRange(i),e||(e=r),r&&r.end.row>=n))break;i--}return{range:i!==-1&&r,firstRange:e}};this.onFoldWidgetClick=function(n,t){var r,u,i;t=t.domEvent;r={children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};u=this.$toggleFoldWidget(n,r);u||(i=t.target||t.srcElement,i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid"))};this.$toggleFoldWidget=function(n,t){var i,u,o,f;if(this.getFoldWidget){var s=this.getFoldWidget(n),h=this.getLine(n),e=s==="end"?-1:1,r=this.getFoldAt(n,e===-1?0:h.length,e);return r?(t.children||t.all?this.removeFold(r):this.expandFold(r),r):(i=this.getFoldWidgetRange(n,!0),i&&!i.isMultiLine()&&(r=this.getFoldAt(i.start.row,i.start.column,1),r&&i.isEqual(r.range)))?(this.removeFold(r),r):(t.siblings?(u=this.getParentFoldRangeData(n),u.range&&(o=u.range.start.row+1,f=u.range.end.row),this.foldAll(o,f,t.all?1e4:0)):t.children?(f=i?i.end.row:this.getLength(),this.foldAll(n+1,f,t.all?1e4:0)):i&&(t.all&&(i.collapseChildren=1e4),this.addFold("...",i)),i)}};this.toggleFoldWidget=function(){var n=this.selection.getCursor().row,t,i,r;(n=this.getRowFoldStart(n),t=this.$toggleFoldWidget(n,{}),t)||(i=this.getParentFoldRangeData(n,!0),t=i.range||i.firstRange,t&&(n=t.start.row,r=this.getFoldAt(n,this.getLine(n).length,1),r?this.removeFold(r):this.addFold("...",t)))};this.updateFoldWidgets=function(n){var t=n.start.row,i=n.end.row-t,r;i===0?this.foldWidgets[t]=null:n.action=="remove"?this.foldWidgets.splice(t,i+1,null):(r=Array(i+1),r.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,r))};this.tokenizerUpdateFoldWidgets=function(n){var t=n.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}var i=n("../range").Range,r=n("./fold_line").FoldLine,u=n("./fold").Fold,f=n("../token_iterator").TokenIterator;t.Folding=e});ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(n,t){"use strict";function u(){this.findMatchingBracket=function(n,t){var r,i;return n.column==0?null:(r=t||this.getLine(n.row).charAt(n.column-1),r=="")?null:(i=r.match(/([\(\[\{])|([\)\]\}])/),!i)?null:i[1]?this.$findClosingBracket(i[1],n):this.$findOpeningBracket(i[2],n)};this.getBracketRange=function(n){var o=this.getLine(n.row),e=!0,t,f=o.charAt(n.column-1),i=f&&f.match(/([\(\[\{])|([\)\]\}])/),u;if(i||(f=o.charAt(n.column),n={row:n.row,column:n.column+1},i=f&&f.match(/([\(\[\{])|([\)\]\}])/),e=!1),!i)return null;if(i[1]){if(u=this.$findClosingBracket(i[1],n),!u)return null;t=r.fromPoints(n,u);e||(t.end.column++,t.start.column--);t.cursor=t.end}else{if(u=this.$findOpeningBracket(i[2],n),!u)return null;t=r.fromPoints(u,n);e||(t.start.column++,t.end.column--);t.cursor=t.start}return t};this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"};this.$findOpeningBracket=function(n,t,r){var c=this.$brackets[n],s=1,f=new i(this,t.row,t.column),u=f.getCurrentToken(),e,o,h;if(u||(u=f.stepForward()),u){for(r||(r=new RegExp("(\\.?"+u.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+")),e=t.column-f.getCurrentTokenColumn()-2,o=u.value;;){while(e>=0){if(h=o.charAt(e),h==c){if(s-=1,s==0)return{row:f.getCurrentTokenRow(),column:e+f.getCurrentTokenColumn()}}else h==n&&(s+=1);e-=1}do u=f.stepBackward();while(u&&!r.test(u.type));if(u==null)break;o=u.value;e=o.length-1}return null}};this.$findClosingBracket=function(n,t,r){var l=this.$brackets[n],o=1,f=new i(this,t.row,t.column),u=f.getCurrentToken(),e,s,c,h;if(u||(u=f.stepForward()),u){for(r||(r=new RegExp("(\\.?"+u.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+")),e=t.column-f.getCurrentTokenColumn();;){for(s=u.value,c=s.length;e<c;){if(h=s.charAt(e),h==l){if(o-=1,o==0)return{row:f.getCurrentTokenRow(),column:e+f.getCurrentTokenColumn()}}else h==n&&(o+=1);e+=1}do u=f.stepForward();while(u&&!r.test(u.type));if(u==null)break;e=0}return null}}}var i=n("../token_iterator").TokenIterator,r=n("../range").Range;t.BracketMatch=u});ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(n,t){"use strict";var e=n("./lib/oop"),f=n("./lib/lang"),o=n("./bidihandler").BidiHandler,u=n("./config"),s=n("./lib/event_emitter").EventEmitter,h=n("./selection").Selection,c=n("./mode/text").Mode,i=n("./range").Range,l=n("./document").Document,a=n("./background_tokenizer").BackgroundTokenizer,v=n("./search_highlight").SearchHighlight,r=function r(n,t){this.$breakpoints=[];this.$decorations=[];this.$frontMarkers={};this.$backMarkers={};this.$markerId=1;this.$undoSelect=!0;this.$foldData=[];this.id="session"+ ++r.$uid;this.$foldData.toString=function(){return this.join("\n")};this.on("changeFold",this.onChangeFold.bind(this));this.$onChange=this.onChange.bind(this);typeof n=="object"&&n.getLine||(n=new l(n));this.$bidiHandler=new o(this);this.setDocument(n);this.selection=new h(this);u.resetOptions(this);this.setMode(t);u._signal("session",this)};r.$uid=0,function(){function o(n){return n<4352?!1:n>=4352&&n<=4447||n>=4515&&n<=4519||n>=4602&&n<=4607||n>=9001&&n<=9002||n>=11904&&n<=11929||n>=11931&&n<=12019||n>=12032&&n<=12245||n>=12272&&n<=12283||n>=12288&&n<=12350||n>=12353&&n<=12438||n>=12441&&n<=12543||n>=12549&&n<=12589||n>=12593&&n<=12686||n>=12688&&n<=12730||n>=12736&&n<=12771||n>=12784&&n<=12830||n>=12832&&n<=12871||n>=12880&&n<=13054||n>=13056&&n<=19903||n>=19968&&n<=42124||n>=42128&&n<=42182||n>=43360&&n<=43388||n>=44032&&n<=55203||n>=55216&&n<=55238||n>=55243&&n<=55291||n>=63744&&n<=64255||n>=65040&&n<=65049||n>=65072&&n<=65106||n>=65108&&n<=65126||n>=65128&&n<=65131||n>=65281&&n<=65376||n>=65504&&n<=65510}e.implement(this,s);this.setDocument=function(n){this.doc&&this.doc.removeListener("change",this.$onChange);this.doc=n;n.on("change",this.$onChange);this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument());this.resetCaches()};this.getDocument=function(){return this.doc};this.$resetRowCache=function(n){if(!n){this.$docRowCache=[];this.$screenRowCache=[];return}var t=this.$docRowCache.length,i=this.$getRowCacheIndex(this.$docRowCache,n)+1;t>i&&(this.$docRowCache.splice(i,t),this.$screenRowCache.splice(i,t))};this.$getRowCacheIndex=function(n,t){for(var r=0,u=n.length-1,i,f;r<=u;)if(i=r+u>>1,f=n[i],t>f)r=i+1;else if(t<f)u=i-1;else return i;return r-1};this.resetCaches=function(){this.$modified=!0;this.$wrapData=[];this.$rowLengthCache=[];this.$resetRowCache(0);this.bgTokenizer&&this.bgTokenizer.start(0)};this.onChangeFold=function(n){var t=n.data;this.$resetRowCache(t.start.row)};this.onChange=function(n){this.$modified=!0;this.$bidiHandler.onChange(n);this.$resetRowCache(n.start.row);var t=this.$updateInternalDataOnChange(n);this.$fromUndo||!this.$undoManager||n.ignore||(this.$deltasDoc.push(n),t&&t.length!=0&&this.$deltasFold.push({action:"removeFolds",folds:t}),this.$informUndoManager.schedule());this.bgTokenizer&&this.bgTokenizer.$updateOnChange(n);this._signal("change",n)};this.setValue=function(n){this.doc.setValue(n);this.selection.moveTo(0,0);this.$resetRowCache(0);this.$deltas=[];this.$deltasDoc=[];this.$deltasFold=[];this.setUndoManager(this.$undoManager);this.getUndoManager().reset()};this.getValue=this.toString=function(){return this.doc.getValue()};this.getSelection=function(){return this.selection};this.getState=function(n){return this.bgTokenizer.getState(n)};this.getTokens=function(n){return this.bgTokenizer.getTokens(n)};this.getTokenAt=function(n,t){var u=this.bgTokenizer.getTokens(n),r,f=0,i;if(t==null)i=u.length-1,f=this.getLine(n).length;else for(i=0;i<u.length;i++)if(f+=u[i].value.length,f>=t)break;return(r=u[i],!r)?null:(r.index=i,r.start=f-r.value.length,r)};this.setUndoManager=function(n){if(this.$undoManager=n,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),n){var t=this;this.$syncInformUndoManager=function(){t.$informUndoManager.cancel();t.$deltasFold.length&&(t.$deltas.push({group:"fold",deltas:t.$deltasFold}),t.$deltasFold=[]);t.$deltasDoc.length&&(t.$deltas.push({group:"doc",deltas:t.$deltasDoc}),t.$deltasDoc=[]);t.$deltas.length>0&&n.execute({action:"aceupdate",args:[t.$deltas,t],merge:t.mergeUndoDeltas});t.mergeUndoDeltas=!1;t.$deltas=[]};this.$informUndoManager=f.delayedCall(this.$syncInformUndoManager)}};this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()};this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}};this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager};this.getTabString=function(){return this.getUseSoftTabs()?f.stringRepeat(" ",this.getTabSize()):"\t"};this.setUseSoftTabs=function(n){this.setOption("useSoftTabs",n)};this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs};this.setTabSize=function(n){this.setOption("tabSize",n)};this.getTabSize=function(){return this.$tabSize};this.isTabStop=function(n){return this.$useSoftTabs&&n.column%this.$tabSize==0};this.setNavigateWithinSoftTabs=function(n){this.setOption("navigateWithinSoftTabs",n)};this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs};this.$overwrite=!1;this.setOverwrite=function(n){this.setOption("overwrite",n)};this.getOverwrite=function(){return this.$overwrite};this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)};this.addGutterDecoration=function(n,t){this.$decorations[n]||(this.$decorations[n]="");this.$decorations[n]+=" "+t;this._signal("changeBreakpoint",{})};this.removeGutterDecoration=function(n,t){this.$decorations[n]=(this.$decorations[n]||"").replace(" "+t,"");this._signal("changeBreakpoint",{})};this.getBreakpoints=function(){return this.$breakpoints};this.setBreakpoints=function(n){this.$breakpoints=[];for(var t=0;t<n.length;t++)this.$breakpoints[n[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})};this.clearBreakpoints=function(){this.$breakpoints=[];this._signal("changeBreakpoint",{})};this.setBreakpoint=function(n,t){t===undefined&&(t="ace_breakpoint");t?this.$breakpoints[n]=t:delete this.$breakpoints[n];this._signal("changeBreakpoint",{})};this.clearBreakpoint=function(n){delete this.$breakpoints[n];this._signal("changeBreakpoint",{})};this.addMarker=function(n,t,i,r){var u=this.$markerId++,f={range:n,type:i||"line",renderer:typeof i=="function"?i:null,clazz:t,inFront:!!r,id:u};return r?(this.$frontMarkers[u]=f,this._signal("changeFrontMarker")):(this.$backMarkers[u]=f,this._signal("changeBackMarker")),u};this.addDynamicMarker=function(n,t){if(n.update){var i=this.$markerId++;return n.id=i,n.inFront=!!t,t?(this.$frontMarkers[i]=n,this._signal("changeFrontMarker")):(this.$backMarkers[i]=n,this._signal("changeBackMarker")),n}};this.removeMarker=function(n){var t=this.$frontMarkers[n]||this.$backMarkers[n],i;t&&(i=t.inFront?this.$frontMarkers:this.$backMarkers,t&&(delete i[n],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker")))};this.getMarkers=function(n){return n?this.$frontMarkers:this.$backMarkers};this.highlight=function(n){if(!this.$searchHighlight){var t=new v(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(n)};this.highlightLines=function(n,t,r,u){typeof t!="number"&&(r=t,t=n);r||(r="ace_step");var f=new i(n,0,t,Infinity);return f.id=this.addMarker(f,r,"fullLine",u),f};this.setAnnotations=function(n){this.$annotations=n;this._signal("changeAnnotation",{})};this.getAnnotations=function(){return this.$annotations||[]};this.clearAnnotations=function(){this.setAnnotations([])};this.$detectNewLine=function(n){var t=n.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"};this.getWordRange=function(n,t){var u=this.getLine(n),e=!1,o,r,f;if(t>0&&(e=!!u.charAt(t-1).match(this.tokenRe)),e||(e=!!u.charAt(t).match(this.tokenRe)),o=e?this.tokenRe:/^\s+$/.test(u.slice(t-1,t+1))?/\s/:this.nonTokenRe,r=t,r>0){do r--;while(r>=0&&u.charAt(r).match(o));r++}for(f=t;f<u.length&&u.charAt(f).match(o);)f++;return new i(n,r,n,f)};this.getAWordRange=function(n,t){for(var i=this.getWordRange(n,t),r=this.getLine(i.end.row);r.charAt(i.end.column).match(/[ \t]/);)i.end.column+=1;return i};this.setNewLineMode=function(n){this.doc.setNewLineMode(n)};this.getNewLineMode=function(){return this.doc.getNewLineMode()};this.setUseWorker=function(n){this.setOption("useWorker",n)};this.getUseWorker=function(){return this.$useWorker};this.onReloadTokenizer=function(n){var t=n.data;this.bgTokenizer.start(t.first);this._signal("tokenizerUpdate",n)};this.$modes={};this.$mode=null;this.$modeId=null;this.setMode=function(n,t){if(n&&typeof n=="object"){if(n.getTokenizer)return this.$onChangeMode(n);var r=n,i=r.path}else i=n||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new c),this.$modes[i]&&!r){this.$onChangeMode(this.$modes[i]);t&&t();return}this.$modeId=i;u.loadModule(["mode",i],function(n){if(this.$modeId!==i)return t&&t();this.$modes[i]&&!r?this.$onChangeMode(this.$modes[i]):n&&n.Mode&&(n=new n.Mode(r),r||(this.$modes[i]=n,n.$id=i),this.$onChangeMode(n));t&&t()}.bind(this));this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)};this.$onChangeMode=function(n,t){var i,r,u;(t||(this.$modeId=n.$id),this.$mode!==n)&&(this.$mode=n,this.$stopWorker(),this.$useWorker&&this.$startWorker(),i=n.getTokenizer(),i.addEventListener!==undefined&&(r=this.onReloadTokenizer.bind(this),i.addEventListener("update",r)),this.bgTokenizer?this.bgTokenizer.setTokenizer(i):(this.bgTokenizer=new a(i),u=this,this.bgTokenizer.addEventListener("update",function(n){u._signal("tokenizerUpdate",n)})),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=n.tokenRe,this.nonTokenRe=n.nonTokenRe,t||(n.attachToSession&&n.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(n.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode")))};this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)};this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(n){u.warn("Could not load worker",n);this.$worker=null}};this.getMode=function(){return this.$mode};this.$scrollTop=0;this.setScrollTop=function(n){this.$scrollTop===n||isNaN(n)||(this.$scrollTop=n,this._signal("changeScrollTop",n))};this.getScrollTop=function(){return this.$scrollTop};this.$scrollLeft=0;this.setScrollLeft=function(n){this.$scrollLeft===n||isNaN(n)||(this.$scrollLeft=n,this._signal("changeScrollLeft",n))};this.getScrollLeft=function(){return this.$scrollLeft};this.getScreenWidth=function(){return(this.$computeWidth(),this.lineWidgets)?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth};this.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var n=0;return this.lineWidgets.forEach(function(t){t&&t.screenWidth>n&&(n=t.screenWidth)}),this.lineWidgetWidth=n};this.$computeWidth=function(n){var t;if(this.$modified||n){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;var f=this.doc.getAllLines(),r=this.$rowLengthCache,u=0,e=0,i=this.$foldData[e],o=i?i.start.row:Infinity,s=f.length;for(t=0;t<s;t++){if(t>o){if(t=i.end.row+1,t>=s)break;i=this.$foldData[e++];o=i?i.start.row:Infinity}r[t]==null&&(r[t]=this.$getStringScreenWidth(f[t])[0]);r[t]>u&&(u=r[t])}this.screenWidth=u}};this.getLine=function(n){return this.doc.getLine(n)};this.getLines=function(n,t){return this.doc.getLines(n,t)};this.getLength=function(){return this.doc.getLength()};this.getTextRange=function(n){return this.doc.getTextRange(n||this.selection.getRange())};this.insert=function(n,t){return this.doc.insert(n,t)};this.remove=function(n){return this.doc.remove(n)};this.removeFullLines=function(n,t){return this.doc.removeFullLines(n,t)};this.undoChanges=function(n,t){var i,u,r;if(n.length){for(this.$fromUndo=!0,i=null,u=n.length-1;u!=-1;u--)r=n[u],r.group=="doc"?(this.doc.revertDeltas(r.deltas),i=this.$getUndoSelection(r.deltas,!0,i)):r.deltas.forEach(function(n){this.addFolds(n.folds)},this);return this.$fromUndo=!1,i&&this.$undoSelect&&!t&&this.selection.setSelectionRange(i),i}};this.redoChanges=function(n,t){var i,r,u;if(n.length){for(this.$fromUndo=!0,i=null,r=0;r<n.length;r++)u=n[r],u.group=="doc"&&(this.doc.applyDeltas(u.deltas),i=this.$getUndoSelection(u.deltas,!1,i));return this.$fromUndo=!1,i&&this.$undoSelect&&!t&&this.selection.setSelectionRange(i),i}};this.setUndoSelect=function(n){this.$undoSelect=n};this.$getUndoSelection=function(n,t,r){function c(n){return t?n.action!=="insert":n.action==="insert"}var f=n[0],u,e,o=!1,s,h;for(c(f)?(u=i.fromPoints(f.start,f.end),o=!0):(u=i.fromPoints(f.start,f.start),o=!1),s=1;s<n.length;s++)f=n[s],c(f)?(e=f.start,u.compare(e.row,e.column)==-1&&u.setStart(e),e=f.end,u.compare(e.row,e.column)==1&&u.setEnd(e),o=!0):(e=f.start,u.compare(e.row,e.column)==-1&&(u=i.fromPoints(f.start,f.start)),o=!1);return r!=null&&(i.comparePoints(r.start,u.start)===0&&(r.start.column+=u.end.column-u.start.column,r.end.column+=u.end.column-u.start.column),h=r.compareRange(u),h==1?u.setStart(r.start):h==-1&&u.setEnd(r.end)),u};this.replace=function(n,t){return this.doc.replace(n,t)};this.moveText=function(n,t,r){var c=this.getTextRange(n),s=this.getFoldsInRange(n),u=i.fromPoints(t,t),f,e;if(r||(this.remove(n),f=n.start.row-n.end.row,e=f?-n.end.column:n.start.column-n.end.column,e&&(u.start.row==n.end.row&&u.start.column>n.end.column&&(u.start.column+=e),u.end.row==n.end.row&&u.end.column>n.end.column&&(u.end.column+=e)),f&&u.start.row>=n.end.row&&(u.start.row+=f,u.end.row+=f)),u.end=this.insert(u.start,c),s.length){var o=n.start,h=u.start,f=h.row-o.row,e=h.column-o.column;this.addFolds(s.map(function(n){return n=n.clone(),n.start.row==o.row&&(n.start.column+=e),n.end.row==o.row&&(n.end.column+=e),n.start.row+=f,n.end.row+=f,n}))}return u};this.indentRows=function(n,t,i){i=i.replace(/\t/g,this.getTabString());for(var r=n;r<=t;r++)this.doc.insertInLine({row:r,column:0},i)};this.outdentRows=function(n){for(var f,t,e=n.collapseRows(),r=new i(0,0,0,0),o=this.getTabSize(),u=e.start.row;u<=e.end.row;++u){for(f=this.getLine(u),r.start.row=u,r.end.row=u,t=0;t<o;++t)if(f.charAt(t)!=" ")break;t<o&&f.charAt(t)=="\t"?(r.start.column=t,r.end.column=t+1):(r.start.column=0,r.end.column=t);this.remove(r)}};this.$moveLines=function(n,t,r){var f,u;if(n=this.getRowFoldStart(n),t=this.getRowFoldEnd(t),r<0){if(f=this.getRowFoldStart(n+r),f<0)return 0;u=f-n}else if(r>0){if(f=this.getRowFoldEnd(t+r),f>this.doc.getLength()-1)return 0;u=f-t}else n=this.$clipRowToDocument(n),t=this.$clipRowToDocument(t),u=t-n+1;var o=new i(n,0,t,Number.MAX_VALUE),e=this.getFoldsInRange(o).map(function(n){return n=n.clone(),n.start.row+=u,n.end.row+=u,n}),s=r==0?this.doc.getLines(n,t):this.doc.removeFullLines(n,t);return this.doc.insertFullLines(n+u,s),e.length&&this.addFolds(e),u};this.moveLinesUp=function(n,t){return this.$moveLines(n,t,-1)};this.moveLinesDown=function(n,t){return this.$moveLines(n,t,1)};this.duplicateLines=function(n,t){return this.$moveLines(n,t,0)};this.$clipRowToDocument=function(n){return Math.max(0,Math.min(n,this.doc.getLength()-1))};this.$clipColumnToRow=function(n,t){return t<0?0:Math.min(this.doc.getLine(n).length,t)};this.$clipPositionToDocument=function(n,t){if(t=Math.max(0,t),n<0)n=0,t=0;else{var i=this.doc.getLength();n>=i?(n=i-1,t=this.doc.getLine(i-1).length):t=Math.min(this.doc.getLine(n).length,t)}return{row:n,column:t}};this.$clipRangeToDocument=function(n){n.start.row<0?(n.start.row=0,n.start.column=0):n.start.column=this.$clipColumnToRow(n.start.row,n.start.column);var t=this.doc.getLength()-1;return n.end.row>t?(n.end.row=t,n.end.column=this.doc.getLine(t).length):n.end.column=this.$clipColumnToRow(n.end.row,n.end.column),n};this.$wrapLimit=80;this.$useWrapMode=!1;this.$wrapLimitRange={min:null,max:null};this.setUseWrapMode=function(n){if(n!=this.$useWrapMode){if(this.$useWrapMode=n,this.$modified=!0,this.$resetRowCache(0),n){var t=this.getLength();this.$wrapData=Array(t);this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}};this.getUseWrapMode=function(){return this.$useWrapMode};this.setWrapLimitRange=function(n,t){(this.$wrapLimitRange.min!==n||this.$wrapLimitRange.max!==t)&&(this.$wrapLimitRange={min:n,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))};this.adjustWrapLimit=function(n,t){var i=this.$wrapLimitRange,r;return(i.max<0&&(i={min:t,max:t}),r=this.$constrainWrapLimit(n,i.min,i.max),r!=this.$wrapLimit&&r>1)?(this.$wrapLimit=r,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1};this.$constrainWrapLimit=function(n,t,i){return t&&(n=Math.max(t,n)),i&&(n=Math.min(i,n)),n};this.getWrapLimit=function(){return this.$wrapLimit};this.setWrapLimit=function(n){this.setWrapLimitRange(n,n)};this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}};this.$updateInternalDataOnChange=function(n){var l=this.$useWrapMode,p=n.action,f=n.start,e=n.end,i=f.row,s=e.row,r=s-i,h=null,o,u,c,a,v,y,t;if(this.$updating=!0,r!=0)if(p==="remove"){for(this[l?"$wrapData":"$rowLengthCache"].splice(i,r),o=this.$foldData,h=this.getFoldsInRange(n),this.removeFolds(h),t=this.getFoldLine(e.row),u=0,t&&(t.addRemoveChars(e.row,e.column,f.column-e.column),t.shiftRow(-r),c=this.getFoldLine(i),c&&c!==t&&(c.merge(t),t=c),u=o.indexOf(t)+1),u;u<o.length;u++)t=o[u],t.start.row>=e.row&&t.shiftRow(-r);s=i}else{a=Array(r);a.unshift(i,0);v=l?this.$wrapData:this.$rowLengthCache;v.splice.apply(v,a);var o=this.$foldData,t=this.getFoldLine(i),u=0;for(t&&(y=t.range.compareInside(f.row,f.column),y==0?(t=t.split(f.row,f.column),t&&(t.shiftRow(r),t.addRemoveChars(s,0,e.column-f.column))):y==-1&&(t.addRemoveChars(i,0,e.column-f.column),t.shiftRow(r)),u=o.indexOf(t)+1),u;u<o.length;u++)t=o[u],t.start.row>=i&&t.shiftRow(r)}else r=Math.abs(n.start.column-n.end.column),p==="remove"&&(h=this.getFoldsInRange(n),this.removeFolds(h),r=-r),t=this.getFoldLine(i),t&&t.addRemoveChars(i,f.column,r);return l&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,l?this.$updateWrapData(i,s):this.$updateRowLengthCache(i,s),h};this.$updateRowLengthCache=function(n,t){this.$rowLengthCache[n]=null;this.$rowLengthCache[t]=null};this.$updateWrapData=function(t,i){var o=this.doc.getAllLines(),s=this.getTabSize(),h=this.$wrapData,c=this.$wrapLimit,u,f,e=t;for(i=Math.min(i,o.length-1);e<=i;)f=this.getFoldLine(e,f),f?(u=[],f.walk(function(t,i,f,e){var s,h;if(t!=null)for(s=this.$getDisplayTokens(t,u.length),s[0]=n,h=1;h<s.length;h++)s[h]=r;else s=this.$getDisplayTokens(o[i].substring(e,f),u.length);u=u.concat(s)}.bind(this),f.end.row,o[f.end.row].length+1),h[f.start.row]=this.$computeWrapSplits(u,c,s),e=f.end.row+1):(u=this.$getDisplayTokens(o[e]),h[e]=this.$computeWrapSplits(u,c,s),e++)};var h=1,l=2,n=3,r=4,y=9,t=10,p=11,w=12;this.$computeWrapSplits=function(i,u,f){function nt(){var n=0,r,u;if(d===0)return n;if(v)for(r=0;r<i.length;r++)if(u=i[r],u==t)n+=1;else if(u==p)n+=f;else if(u==w)continue;else break;return k&&v!==!1&&(n+=f),Math.min(n,d)}function c(n){var r=i.slice(o,n),t=r.length;r.join("").replace(/12/g,function(){t-=1}).replace(/2/g,function(){t-=1});a.length||(s=nt(),a.indent=s);b+=t;a.push(b);o=n}var s,e,h;if(i.length==0)return[];var a=[],g=i.length,o=0,b=0,k=this.$wrapAsCode,v=this.$indentedSoftWrap,d=u<=Math.max(2*f,8)||v===!1?0:Math.floor(u/2);for(s=0;g-o>u-s;){if(e=o+u-s,i[e-1]>=t&&i[e]>=t){c(e);continue}if(i[e]==n||i[e]==r){for(e;e!=o-1;e--)if(i[e]==n)break;if(e>o){c(e);continue}for(e=o+u,e;e<i.length;e++)if(i[e]!=r)break;if(e==i.length)break;c(e);continue}for(h=Math.max(e-(u-(u>>2)),o-1);e>h&&i[e]<n;)e--;if(k){while(e>h&&i[e]<n)e--;while(e>h&&i[e]==y)e--}else while(e>h&&i[e]<t)e--;if(e>h){c(++e);continue}e=o+u;i[e]==l&&e--;c(e-s)}return a};this.$getDisplayTokens=function(n,i){var u=[],s,f,r,e;for(i=i||0,f=0;f<n.length;f++)if(r=n.charCodeAt(f),r==9)for(s=this.getScreenTabSize(u.length+i),u.push(p),e=1;e<s;e++)u.push(w);else r==32?u.push(t):r>39&&r<48||r>57&&r<64?u.push(y):r>=4352&&o(r)?u.push(h,l):u.push(h);return u};this.$getStringScreenWidth=function(n,t,i){if(t==0)return[0,0];t==null&&(t=Infinity);i=i||0;for(var u,r=0;r<n.length;r++)if(u=n.charCodeAt(r),i+=u==9?this.getScreenTabSize(i):u>=4352&&o(u)?2:1,i>t)break;return[i,r]};this.lineWidgets=null;this.getRowLength=function(n){if(this.lineWidgets)var t=this.lineWidgets[n]&&this.lineWidgets[n].rowCount||0;else t=0;return this.$useWrapMode&&this.$wrapData[n]?this.$wrapData[n].length+1+t:1+t};this.getRowLineCount=function(n){return this.$useWrapMode&&this.$wrapData[n]?this.$wrapData[n].length+1:1};this.getRowWrapIndent=function(n){if(this.$useWrapMode){var i=this.screenToDocumentPosition(n,Number.MAX_VALUE),t=this.$wrapData[i.row];return t.length&&t[0]<i.column?t.indent:0}return 0};this.getScreenLastRowColumn=function(n){var t=this.screenToDocumentPosition(n,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)};this.getDocumentLastRowColumn=function(n,t){var i=this.documentToScreenRow(n,t);return this.getScreenLastRowColumn(i)};this.getDocumentLastRowColumnPosition=function(n,t){var i=this.documentToScreenRow(n,t);return this.screenToDocumentPosition(i,Number.MAX_VALUE/10)};this.getRowSplitData=function(n){return this.$useWrapMode?this.$wrapData[n]:undefined};this.getScreenTabSize=function(n){return this.$tabSize-n%this.$tabSize};this.screenToDocumentRow=function(n,t){return this.screenToDocumentPosition(n,t).row};this.screenToDocumentColumn=function(n,t){return this.screenToDocumentPosition(n,t).column};this.screenToDocumentPosition=function(n,t,i){var b,w,s,f;if(n<0)return{row:0,column:0};var h,r=0,e=0,v,o=0,c=0,l=this.$screenRowCache,y=this.$getRowCacheIndex(l,n),p=l.length;if(p&&y>=0)var o=l[y],r=this.$docRowCache[y],b=n>l[p-1];else b=!p;for(var a=this.getLength()-1,u=this.getNextFoldLine(r),k=u?u.start.row:Infinity;o<=n;){if(c=this.getRowLength(r),o+c>n||r>=a)break;else o+=c,r++,r>k&&(r=u.end.row+1,u=this.getNextFoldLine(r,u),k=u?u.start.row:Infinity);b&&(this.$docRowCache.push(r),this.$screenRowCache.push(o))}if(u&&u.start.row<=r)h=this.getFoldDisplayLine(u),r=u.start.row;else{if(o+c<=n||r>a)return{row:a,column:this.getLine(a).length};h=this.getLine(r);u=null}return(w=0,s=Math.floor(n-o),this.$useWrapMode&&(f=this.$wrapData[r],f&&(v=f[s],s>0&&f.length&&(w=f.indent,e=f[s-1]||f[f.length-1],h=h.substring(e)))),i!==undefined&&this.$bidiHandler.isBidiRow(o+s,r,s)&&(t=this.$bidiHandler.offsetToCol(i)),e+=this.$getStringScreenWidth(h,t-w)[1],this.$useWrapMode&&e>=v&&(e=v-1),u)?u.idxToPosition(e):{row:r,column:e}};this.documentToScreenPosition=function(n,t){var a,b,i,l,u,w,e,o;a=typeof t=="undefined"?this.$clipPositionToDocument(n.row,n.column):this.$clipPositionToDocument(n,t);n=a.row;t=a.column;var s=0,v=null,h=null;h=this.getFoldAt(n,t,1);h&&(n=h.start.row,t=h.start.column);var f,r=0,c=this.$docRowCache,y=this.$getRowCacheIndex(c,n),p=c.length;if(p&&y>=0)var r=c[y],s=this.$screenRowCache[y],b=n>c[p-1];else b=!p;for(i=this.getNextFoldLine(r),l=i?i.start.row:Infinity;r<n;){if(r>=l){if(f=i.end.row+1,f>n)break;i=this.getNextFoldLine(f,i);l=i?i.start.row:Infinity}else f=r+1;s+=this.getRowLength(r);r=f;b&&(this.$docRowCache.push(r),this.$screenRowCache.push(s))}if(u="",i&&r>=l?(u=this.getFoldDisplayLine(i,n,t),v=i.start.row):(u=this.getLine(n).substring(0,t),v=n),w=0,this.$useWrapMode&&(e=this.$wrapData[v],e)){for(o=0;u.length>=e[o];)s++,o++;u=u.substring(e[o-1]||0,u.length);w=o>0?e.indent:0}return{row:s,column:w+this.$getStringScreenWidth(u)[0]}};this.documentToScreenColumn=function(n,t){return this.documentToScreenPosition(n,t).column};this.documentToScreenRow=function(n,t){return this.documentToScreenPosition(n,t).row};this.getScreenLength=function(){var i=0,n=null,u,t,f;if(this.$useWrapMode)for(var o=this.$wrapData.length,r=0,t=0,n=this.$foldData[t++],e=n?n.start.row:Infinity;r<o;)f=this.$wrapData[r],i+=f?f.length+1:1,r++,r>e&&(r=n.end.row+1,n=this.$foldData[t++],e=n?n.start.row:Infinity);else for(i=this.getLength(),u=this.$foldData,t=0;t<u.length;t++)n=u[t],i-=n.end.row-n.start.row;return this.lineWidgets&&(i+=this.$getWidgetScreenLength()),i};this.$setFontMetrics=function(n){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,i,r){if(i===0)return[0,0];i||(i=Infinity);r=r||0;for(var f,u=0;u<t.length;u++)if(f=t.charAt(u),r+=f==="\t"?this.getScreenTabSize(r):n.getCharacterWidth(f),r>i)break;return[r,u]})};this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null);this.$stopWorker()};this.isFullWidth=o}.call(r.prototype);n("./edit_session/folding").Folding.call(r.prototype);n("./edit_session/bracket_match").BracketMatch.call(r.prototype);u.defineOptions(r.prototype,"session",{wrap:{set:function(n){if(n&&n!="off"?n=="free"?n=!0:n=="printMargin"?n=-1:typeof n=="string"&&(n=parseInt(n,10)||!1):n=!1,this.$wrap!=n)if(this.$wrap=n,n){var t=typeof n=="number"?n:null;this.setWrapLimitRange(t,t);this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(n){n=n=="auto"?this.$mode.type!="text":n!="text";n!=this.$wrapAsCode&&(this.$wrapAsCode=n,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(n){this.$useWorker=n;this.$stopWorker();n&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(n){isNaN(n)||this.$tabSize===n||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=n,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},overwrite:{set:function(){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(n){this.doc.setNewLineMode(n)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(n){this.setMode(n)},get:function(){return this.$modeId}}});t.EditSession=r});ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(n,t){"use strict";function e(n,t){function i(n){return/\w/.test(n)||t.regExp?"\\b":""}return i(n[0])+n+i(n[n.length-1])}var i=n("./lib/lang"),f=n("./lib/oop"),r=n("./range").Range,u=function(){this.$options={}};(function(){this.set=function(n){return f.mixin(this.$options,n),this};this.getOptions=function(){return i.copyObject(this.$options)};this.setOptions=function(n){this.$options=n};this.find=function(n){var t=this.$options,u=this.$matchIterator(n,t),i;return u?(i=null,u.forEach(function(n,u,f,e){return(i=new r(n,u,f,e),u==e&&t.start&&t.start.start&&t.skipCurrent!=!1&&i.isEqual(t.start))?(i=null,!1):!0}),i):!1};this.findAll=function(n){var l=this.$options,s,p,a,e,u,y,t,v;if(!l.needle)return[];this.$assembleRegExp(l);var o=l.range,h=o?n.getLines(o.start.row,o.end.row):n.doc.getAllLines(),f=[],c=l.re;if(l.$isMultiLine){s=c.length;p=h.length-s;n:for(e=c.offset||0;e<=p;e++){for(t=0;t<s;t++)if(h[e+t].search(c[t])==-1)continue n;var w=h[e],k=h[e+s-1],b=w.length-w.match(c[0])[0].length,d=k.match(c[s-1])[0].length;a&&a.end.row===e&&a.end.column>b||(f.push(a=new r(e,b,e+s-1,d)),s>2&&(e=e+s-2))}}else for(u=0;u<h.length;u++)for(y=i.getMatchOffsets(h[u],c),t=0;t<y.length;t++)v=y[t],f.push(new r(u,v.offset,u,v.offset+v.length));if(o){for(var g=o.start.column,nt=o.start.column,u=0,t=f.length-1;u<t&&f[u].start.column<g&&f[u].start.row==o.start.row;)u++;while(u<t&&f[t].end.column>nt&&f[t].end.row==o.end.row)t--;for(f=f.slice(u,t+1),u=0,t=f.length;u<t;u++)f[u].start.row+=o.start.row,f[u].end.row+=o.start.row}return f};this.replace=function(n,t){var u=this.$options,f=this.$assembleRegExp(u),e,i,r;if(u.$isMultiLine)return t;if(f){if(e=f.exec(n),!e||e[0].length!=n.length)return null;if(t=n.replace(f,t),u.preserveCase){for(t=t.split(""),i=Math.min(n.length,n.length);i--;)r=n[i],t[i]=r&&r.toLowerCase()!=r?t[i].toUpperCase():t[i].toLowerCase();t=t.join("")}return t}};this.$assembleRegExp=function(n,t){var r,u,f;if(n.needle instanceof RegExp)return n.re=n.needle;if(r=n.needle,!n.needle)return n.re=!1;if(n.regExp||(r=i.escapeRegExp(r)),n.wholeWord&&(r=e(r,n)),u=n.caseSensitive?"gm":"gmi",n.$isMultiLine=!t&&/[\n\r]/.test(r),n.$isMultiLine)return n.re=this.$assembleMultilineRegExp(r,u);try{f=new RegExp(r,u)}catch(o){f=!1}return n.re=f};this.$assembleMultilineRegExp=function(n,t){for(var r=n.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),u=[],i=0;i<r.length;i++)try{u.push(new RegExp(r[i],t))}catch(f){return!1}return u};this.$matchIterator=function(n,t){var i=this.$assembleRegExp(t),o,s,c,h,u;if(!i)return!1;var f=t.backwards==!0,l=t.skipCurrent!=!1,e=t.range,r=t.start;return r||(r=e?e[f?"end":"start"]:n.selection.getRange()),r.start&&(r=r[l!=f?"end":"start"]),o=e?e.start.row:0,s=e?e.end.row:n.getLength()-1,c=f?function(n){var i=r.row;if(!u(i,r.column,n)){for(i--;i>=o;i--)if(u(i,Number.MAX_VALUE,n))return;if(t.wrap!=!1)for(i=s,o=r.row;i>=o;i--)if(u(i,Number.MAX_VALUE,n))return}}:function(n){var i=r.row;if(!u(i,r.column,n)){for(i=i+1;i<=s;i++)if(u(i,0,n))return;if(t.wrap!=!1)for(i=o,s=r.row;i<=s;i++)if(u(i,0,n))return}},t.$isMultiLine?(h=i.length,u=function(t,r,u){var e=f?t-h+1:t,o,c,s,l;if(!(e<0)&&(o=n.getLine(e),c=o.search(i[0]),(f||!(c<r))&&c!==-1)){for(s=1;s<h;s++)if(o=n.getLine(e+s),o.search(i[s])==-1)return;if(l=o.match(i[h-1])[0].length,!f||!(l>r))return u(e,c,e+h-1,l)?!0:void 0}}):u=f?function(t,r,u){var l=n.getLine(t),s=[],e,h=0,o,c,f;for(i.lastIndex=0;e=i.exec(l);){if(f=e[0].length,h=e.index,!f){if(h>=l.length)break;i.lastIndex=h+=1}if(e.index+f>r)break;s.push(e.index,f)}for(o=s.length-1;o>=0;o-=2)if(c=s[o-1],f=s[o],u(t,c,t,c+f))return!0}:function(t,r,u){var s=n.getLine(t),e,f=r,o;for(i.lastIndex=r;e=i.exec(s);){if(o=e[0].length,f=e.index,u(t,f,t,f+o))return!0;if(!o&&(i.lastIndex=f+=1,f>=s.length))return!1}},{forEach:c}}}).call(u.prototype);t.Search=u});ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(n,t){"use strict";function u(n,t){this.platform=t||(e.isMac?"mac":"win");this.commands={};this.commandKeyBinding={};this.addCommands(n);this.$singleCommand=!0}function f(n,t){u.call(this,n,t);this.$singleCommand=!1}var i=n("../lib/keys"),e=n("../lib/useragent"),r=i.KEY_MODS;f.prototype=u.prototype,function(){function n(n){return typeof n=="object"&&n.bindKey&&n.bindKey.position||(n.isDefault?-100:0)}this.addCommand=function(n){this.commands[n.name]&&this.removeCommand(n);this.commands[n.name]=n;n.bindKey&&this._buildKeyHash(n)};this.removeCommand=function(n,t){var e=n&&(typeof n=="string"?n:n.name),r,u,i,f;n=this.commands[e];t||delete this.commands[e];r=this.commandKeyBinding;for(u in r)i=r[u],i==n?delete r[u]:Array.isArray(i)&&(f=i.indexOf(n),f!=-1&&(i.splice(f,1),i.length==1&&(r[u]=i[0])))};this.bindKey=function(n,t,i){if(typeof n=="object"&&n&&(i==undefined&&(i=n.position),n=n[this.platform]),n){if(typeof t=="function")return this.addCommand({exec:t,bindKey:n,name:t.name||n});n.split("|").forEach(function(n){var u="",f,e,o;n.indexOf(" ")!=-1&&(f=n.split(/\s+/),n=f.pop(),f.forEach(function(n){var t=this.parseKeys(n),i=r[t.hashId]+t.key;u+=(u?" ":"")+i;this._addCommandToBinding(u,"chainKeys")},this),u+=" ");e=this.parseKeys(n);o=r[e.hashId]+e.key;this._addCommandToBinding(u+o,t,i)},this)}};this._addCommandToBinding=function(t,i,r){var u=this.commandKeyBinding,f,e,o,s;if(i)if(!u[t]||this.$singleCommand)u[t]=i;else{for(Array.isArray(u[t])?(f=u[t].indexOf(i))!=-1&&u[t].splice(f,1):u[t]=[u[t]],typeof r!="number"&&(r=n(i)),e=u[t],f=0;f<e.length;f++)if(o=e[f],s=n(o),s>r)break;e.splice(f,0,i)}else delete u[t]};this.addCommands=function(n){n&&Object.keys(n).forEach(function(t){var i=n[t];if(i){if(typeof i=="string")return this.bindKey(i,t);(typeof i=="function"&&(i={exec:i}),typeof i=="object")&&(i.name||(i.name=t),this.addCommand(i))}},this)};this.removeCommands=function(n){Object.keys(n).forEach(function(t){this.removeCommand(n[t])},this)};this.bindKeys=function(n){Object.keys(n).forEach(function(t){this.bindKey(t,n[t])},this)};this._buildKeyHash=function(n){this.bindKey(n.bindKey,n)};this.parseKeys=function(n){var t=n.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(n){return n}),r=t.pop(),o=i[r],f,u,e;if(i.FUNCTION_KEYS[o])r=i.FUNCTION_KEYS[o].toLowerCase();else if(t.length){if(t.length==1&&t[0]=="shift")return{key:r.toUpperCase(),hashId:-1}}else return{key:r,hashId:-1};for(f=0,u=t.length;u--;){if(e=i.KEY_MODS[t[u]],e==null)return typeof console!="undefined"&&console.error("invalid modifier "+t[u]+" in "+n),!1;f|=e}return{key:r,hashId:f}};this.findKeyCommand=function(n,t){var i=r[n]+t;return this.commandKeyBinding[i]};this.handleKeyboard=function(n,t,i,u){if(!(u<0)){var e=r[t]+i,f=this.commandKeyBinding[e];return(n.$keyChain&&(n.$keyChain+=" "+e,f=this.commandKeyBinding[n.$keyChain]||f),f&&(f=="chainKeys"||f[f.length-1]=="chainKeys"))?(n.$keyChain=n.$keyChain||e,{command:"null"}):(n.$keyChain&&(t&&t!=4||i.length!=1?(t==-1||u>0)&&(n.$keyChain=""):n.$keyChain=n.$keyChain.slice(0,-e.length-1)),{command:f})}};this.getStatusText=function(n,t){return t.$keyChain||""}}.call(u.prototype);t.HashHandler=u;t.MultiHashHandler=f});ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(n,t){"use strict";var r=n("../lib/oop"),u=n("../keyboard/hash_handler").MultiHashHandler,f=n("../lib/event_emitter").EventEmitter,i=function(n,t){u.call(this,t,n);this.byName=this.commands;this.setDefaultHandler("exec",function(n){return n.command.exec(n.editor,n.args||{})})};r.inherits(i,u),function(){r.implement(this,f);this.exec=function(n,t,i){var u,r;if(Array.isArray(n)){for(u=n.length;u--;)if(this.exec(n[u],t,i))return!0;return!1}return(typeof n=="string"&&(n=this.commands[n]),!n)?!1:t&&t.$readOnly&&!n.readOnly?!1:n.isAvailable&&!n.isAvailable(t)?!1:(r={editor:t,command:n,args:i},r.returnValue=this._emit("exec",r),this._signal("afterExec",r),r.returnValue===!1?!1:!0)};this.toggleRecording=function(n){if(!this.$inReplay){if(n&&n._emit("changeStatus"),this.recording)return this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1;this.$addCommandToMacro||(this.$addCommandToMacro=function(n){this.macro.push([n.command,n.args])}.bind(this));this.oldMacro=this.macro;this.macro=[];this.on("exec",this.$addCommandToMacro);return this.recording=!0}};this.replay=function(n){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(n);try{this.$inReplay=!0;this.macro.forEach(function(t){typeof t=="string"?this.exec(t,n):this.exec(t[0],n,t[1])},this)}finally{this.$inReplay=!1}}};this.trimMacro=function(n){return n.map(function(n){return typeof n[0]!="string"&&(n[0]=n[0].name),n[1]||(n=n[0]),n})}}.call(i.prototype);t.CommandManager=i});ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(n,t){"use strict";function i(n,t){return{win:n,mac:t}}var f=n("../lib/lang"),r=n("../config"),u=n("../range").Range;t.commands=[{name:"showSettingsMenu",bindKey:i("Ctrl-,","Command-,"),exec:function(n){r.loadModule("ace/ext/settings_menu",function(t){t.init(n);n.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:i("Alt-E","F4"),exec:function(n){r.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(n,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:i("Alt-Shift-E","Shift-F4"),exec:function(n){r.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(n,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:i("Ctrl-A","Command-A"),exec:function(n){n.selectAll()},readOnly:!0},{name:"centerselection",bindKey:i(null,"Ctrl-L"),exec:function(n){n.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:i("Ctrl-L","Command-L"),exec:function(n){var t=parseInt(prompt("Enter line number:"),10);isNaN(t)||n.gotoLine(t)},readOnly:!0},{name:"fold",bindKey:i("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(n){n.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:i("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(n){n.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:i("F2","F2"),exec:function(n){n.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:i("Alt-F2","Alt-F2"),exec:function(n){n.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:i(null,"Ctrl-Command-Option-0"),exec:function(n){n.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:i("Alt-0","Command-Option-0"),exec:function(n){n.session.foldAll();n.session.unfold(n.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:i("Alt-Shift-0","Command-Option-Shift-0"),exec:function(n){n.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:i("Ctrl-K","Command-G"),exec:function(n){n.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:i("Ctrl-Shift-K","Command-Shift-G"),exec:function(n){n.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:i("Alt-K","Ctrl-G"),exec:function(n){n.selection.isEmpty()?n.selection.selectWord():n.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:i("Alt-Shift-K","Ctrl-Shift-G"),exec:function(n){n.selection.isEmpty()?n.selection.selectWord():n.findPrevious()},readOnly:!0},{name:"find",bindKey:i("Ctrl-F","Command-F"),exec:function(n){r.loadModule("ace/ext/searchbox",function(t){t.Search(n)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(n){n.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:i("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(n){n.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:i("Ctrl-Home","Command-Home|Command-Up"),exec:function(n){n.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:i("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(n){n.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:i("Up","Up|Ctrl-P"),exec:function(n,t){n.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:i("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(n){n.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:i("Ctrl-End","Command-End|Command-Down"),exec:function(n){n.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:i("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(n){n.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:i("Down","Down|Ctrl-N"),exec:function(n,t){n.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:i("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(n){n.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:i("Ctrl-Left","Option-Left"),exec:function(n){n.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:i("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(n){n.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:i("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(n){n.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:i("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(n){n.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:i("Left","Left|Ctrl-B"),exec:function(n,t){n.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:i("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(n){n.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:i("Ctrl-Right","Option-Right"),exec:function(n){n.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:i("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(n){n.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:i("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(n){n.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:i("Shift-Right","Shift-Right"),exec:function(n){n.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:i("Right","Right|Ctrl-F"),exec:function(n,t){n.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(n){n.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:i(null,"Option-PageDown"),exec:function(n){n.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:i("PageDown","PageDown|Ctrl-V"),exec:function(n){n.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(n){n.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:i(null,"Option-PageUp"),exec:function(n){n.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(n){n.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:i("Ctrl-Up",null),exec:function(n){n.renderer.scrollBy(0,-2*n.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:i("Ctrl-Down",null),exec:function(n){n.renderer.scrollBy(0,2*n.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(n){n.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(n){n.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:i("Ctrl-Alt-E","Command-Option-E"),exec:function(n){n.commands.toggleRecording(n)},readOnly:!0},{name:"replaymacro",bindKey:i("Ctrl-Shift-E","Command-Shift-E"),exec:function(n){n.commands.replay(n)},readOnly:!0},{name:"jumptomatching",bindKey:i("Ctrl-P","Ctrl-P"),exec:function(n){n.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:i("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(n){n.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:i("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(n){n.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:i(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(){},readOnly:!0},{name:"cut",exec:function(n){var t=n.getSelectionRange();n._emit("cut",t);n.selection.isEmpty()||(n.session.remove(t),n.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(n,t){n.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",bindKey:i("Ctrl-D","Command-D"),exec:function(n){n.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:i("Ctrl-Shift-D","Command-Shift-D"),exec:function(n){n.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:i("Ctrl-Alt-S","Command-Alt-S"),exec:function(n){n.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:i("Ctrl-/","Command-/"),exec:function(n){n.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:i("Ctrl-Shift-/","Command-Shift-/"),exec:function(n){n.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:i("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(n){n.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:i("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(n){n.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:i("Ctrl-H","Command-Option-F"),exec:function(n){r.loadModule("ace/ext/searchbox",function(t){t.Search(n,!0)})}},{name:"undo",bindKey:i("Ctrl-Z","Command-Z"),exec:function(n){n.undo()}},{name:"redo",bindKey:i("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(n){n.redo()}},{name:"copylinesup",bindKey:i("Alt-Shift-Up","Command-Option-Up"),exec:function(n){n.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:i("Alt-Up","Option-Up"),exec:function(n){n.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:i("Alt-Shift-Down","Command-Option-Down"),exec:function(n){n.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:i("Alt-Down","Option-Down"),exec:function(n){n.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:i("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(n){n.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:i("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(n){n.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:i("Shift-Delete",null),exec:function(n){if(n.selection.isEmpty())n.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:i("Alt-Backspace","Command-Backspace"),exec:function(n){n.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:i("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(n){n.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",bindKey:i("Ctrl-Shift-Backspace",null),exec:function(n){var t=n.selection.getRange();t.start.column=0;n.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",bindKey:i("Ctrl-Shift-Delete",null),exec:function(n){var t=n.selection.getRange();t.end.column=Number.MAX_VALUE;n.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:i("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(n){n.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:i("Ctrl-Delete","Alt-Delete"),exec:function(n){n.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:i("Shift-Tab","Shift-Tab"),exec:function(n){n.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:i("Tab","Tab"),exec:function(n){n.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:i("Ctrl-[","Ctrl-["),exec:function(n){n.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:i("Ctrl-]","Ctrl-]"),exec:function(n){n.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(n,t){n.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(n,t){n.insert(f.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:i(null,"Ctrl-O"),exec:function(n){n.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:i("Alt-Shift-X","Ctrl-T"),exec:function(n){n.transposeLetters()},multiSelectAction:function(n){n.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:i("Ctrl-U","Ctrl-U"),exec:function(n){n.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:i("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(n){n.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:i("Ctrl-Shift-L","Command-Shift-L"),exec:function(n){var t=n.selection.getRange();t.start.column=t.end.column=0;t.end.row++;n.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:i(null,null),exec:function(n){for(var r,h=n.selection.isBackwards(),t=h?n.selection.getSelectionLead():n.selection.getSelectionAnchor(),e=h?n.selection.getSelectionAnchor():n.selection.getSelectionLead(),i=n.session.doc.getLine(t.row).length,l=n.session.doc.getTextRange(n.selection.getRange()),c=l.replace(/\n\s*/," ").length,o=n.session.doc.getLine(t.row),s=t.row+1;s<=e.row+1;s++)r=f.stringTrimLeft(f.stringTrimRight(n.session.doc.getLine(s))),r.length!==0&&(r=" "+r),o+=r;e.row+1<n.session.doc.getLength()-1&&(o+=n.session.doc.getNewLineCharacter());n.clearSelection();n.session.doc.replace(new u(t.row,0,e.row+2,0),o);c>0?(n.selection.moveCursorTo(t.row,t.column),n.selection.selectTo(t.row,t.column+c)):(i=n.session.doc.getLine(t.row).length>i?i+1:i,n.selection.moveCursorTo(t.row,i))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:i(null,null),exec:function(n){var f=n.session.doc.getLength()-1,e=n.session.doc.getLine(f).length,i=n.selection.rangeList.ranges,r=[],t;for(i.length<1&&(i=[n.selection.getRange()]),t=0;t<i.length;t++)t==i.length-1&&(i[t].end.row===f&&i[t].end.column===e||r.push(new u(i[t].end.row,i[t].end.column,f,e))),t===0?i[t].start.row===0&&i[t].start.column===0||r.push(new u(0,0,i[t].start.row,i[t].start.column)):r.push(new u(i[t-1].end.row,i[t-1].end.column,i[t].start.row,i[t].start.column));for(n.exitMultiSelectMode(),n.clearSelection(),t=0;t<r.length;t++)n.selection.addRange(r[t],!1)},readOnly:!0,scrollIntoView:"none"}]});ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],function(n,t){"use strict";n("./lib/fixoldbrowsers");var e=n("./lib/oop"),o=n("./lib/dom"),f=n("./lib/lang"),h=n("./lib/useragent"),c=n("./keyboard/textinput").TextInput,l=n("./mouse/mouse_handler").MouseHandler,a=n("./mouse/fold_handler").FoldHandler,v=n("./keyboard/keybinding").KeyBinding,y=n("./edit_session").EditSession,p=n("./search").Search,i=n("./range").Range,w=n("./lib/event_emitter").EventEmitter,b=n("./commands/command_manager").CommandManager,k=n("./commands/default_commands").commands,r=n("./config"),s=n("./token_iterator").TokenIterator,u=function u(n,t){var i=n.getContainerElement();this.container=i;this.renderer=n;this.id="editor"+ ++u.$uid;this.commands=new b(h.isMac?"mac":"win",k);typeof document=="object"&&(this.textInput=new c(n.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new l(this),new a(this));this.keyBinding=new v(this);this.$blockScrolling=0;this.$search=(new p).set({wrap:!0});this.$historyTracker=this.$historyTracker.bind(this);this.commands.on("exec",this.$historyTracker);this.$initOperationListeners();this._$emitInputEvent=f.delayedCall(function(){this._signal("input",{});this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this));this.on("change",function(n,t){t._$emitInputEvent.schedule(31)});this.setSession(t||new y(""));r.resetOptions(this);r._signal("editor",this)};u.$uid=0,function(){e.implement(this,w);this.$initOperationListeners=function(){this.selections=[];this.commands.on("exec",this.startOperation.bind(this),!0);this.commands.on("afterExec",this.endOperation.bind(this),!0);this.$opResetTimer=f.delayedCall(this.endOperation.bind(this));this.on("change",function(){this.curOp||this.startOperation();this.curOp.docChanged=!0}.bind(this),!0);this.on("changeSelection",function(){this.curOp||this.startOperation();this.curOp.selectionChanged=!0}.bind(this),!0)};this.curOp=null;this.prevOp={};this.startOperation=function(n){if(this.curOp){if(!n||this.curOp.command)return;this.prevOp=this.curOp}n||(this.previousCommand=null,n={});this.$opResetTimer.schedule();this.curOp={command:n.command||{},args:n.args,scrollTop:this.renderer.scrollTop};this.curOp.command.name&&this.curOp.command.scrollIntoView!==undefined&&this.$blockScrolling++};this.endOperation=function(n){var i,t,r,u;if(this.curOp){if(n&&n.returnValue===!1)return this.curOp=null;if(this._signal("beforeEndOperation"),i=this.curOp.command,i.name&&this.$blockScrolling>0&&this.$blockScrolling--,t=i&&i.scrollIntoView,t){switch(t){case"center-animate":t="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":r=this.selection.getRange();u=this.renderer.layerConfig;(r.start.row>=u.lastRow||r.end.row<=u.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}t=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp;this.curOp=null}};this.$mergeableCommands=["backspace","del","insertstring"];this.$historyTracker=function(n){var u;if(this.$mergeUndoDeltas){var i=this.prevOp,r=this.$mergeableCommands,t=i.command&&n.command.name==i.command.name;n.command.name=="insertstring"?(u=n.args,this.mergeNextCommand===undefined&&(this.mergeNextCommand=!0),t=t&&this.mergeNextCommand&&(!/\s/.test(u)||/\s/.test(i.args)),this.mergeNextCommand=!0):t=t&&r.indexOf(n.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(t=!1);t?this.session.mergeUndoDeltas=!0:r.indexOf(n.command.name)!==-1&&(this.sequenceStartTime=Date.now())}};this.setKeyboardHandler=function(n,t){if(n&&typeof n=="string"){this.$keybindingId=n;var i=this;r.loadModule(["keybinding",n],function(r){i.$keybindingId==n&&i.keyBinding.setKeyboardHandler(r&&r.handler);t&&t()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(n),t&&t()};this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()};this.setSession=function(n){var t,i;if(this.session!=n){if(this.curOp&&this.endOperation(),this.curOp={},t=this.session,t&&(this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),i=this.session.getSelection(),i.off("changeCursor",this.$onCursorChange),i.off("changeSelection",this.$onSelectionChange)),this.session=n,n){this.$onDocumentChange=this.onDocumentChange.bind(this);n.on("change",this.$onDocumentChange);this.renderer.setSession(n);this.$onChangeMode=this.onChangeMode.bind(this);n.on("changeMode",this.$onChangeMode);this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this);n.on("tokenizerUpdate",this.$onTokenizerUpdate);this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer);n.on("changeTabSize",this.$onChangeTabSize);this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this);n.on("changeWrapLimit",this.$onChangeWrapLimit);this.$onChangeWrapMode=this.onChangeWrapMode.bind(this);n.on("changeWrapMode",this.$onChangeWrapMode);this.$onChangeFold=this.onChangeFold.bind(this);n.on("changeFold",this.$onChangeFold);this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this);this.session.on("changeFrontMarker",this.$onChangeFrontMarker);this.$onChangeBackMarker=this.onChangeBackMarker.bind(this);this.session.on("changeBackMarker",this.$onChangeBackMarker);this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this);this.session.on("changeBreakpoint",this.$onChangeBreakpoint);this.$onChangeAnnotation=this.onChangeAnnotation.bind(this);this.session.on("changeAnnotation",this.$onChangeAnnotation);this.$onCursorChange=this.onCursorChange.bind(this);this.session.on("changeOverwrite",this.$onCursorChange);this.$onScrollTopChange=this.onScrollTopChange.bind(this);this.session.on("changeScrollTop",this.$onScrollTopChange);this.$onScrollLeftChange=this.onScrollLeftChange.bind(this);this.session.on("changeScrollLeft",this.$onScrollLeftChange);this.selection=n.getSelection();this.selection.on("changeCursor",this.$onCursorChange);this.$onSelectionChange=this.onSelectionChange.bind(this);this.selection.on("changeSelection",this.$onSelectionChange);this.onChangeMode();this.$blockScrolling+=1;this.onCursorChange();this.$blockScrolling-=1;this.onScrollTopChange();this.onScrollLeftChange();this.onSelectionChange();this.onChangeFrontMarker();this.onChangeBackMarker();this.onChangeBreakpoint();this.onChangeAnnotation();this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit();this.renderer.updateFull()}else this.selection=null,this.renderer.setSession(n);this._signal("changeSession",{session:n,oldSession:t});this.curOp=null;t&&t._signal("changeEditor",{oldEditor:this});n&&n._signal("changeEditor",{editor:this});n&&n.bgTokenizer&&n.bgTokenizer.scheduleStart()}};this.getSession=function(){return this.session};this.setValue=function(n,t){return this.session.doc.setValue(n),t?t==1?this.navigateFileEnd():t==-1&&this.navigateFileStart():this.selectAll(),n};this.getValue=function(){return this.session.getValue()};this.getSelection=function(){return this.selection};this.resize=function(n){this.renderer.onResize(n)};this.setTheme=function(n,t){this.renderer.setTheme(n,t)};this.getTheme=function(){return this.renderer.getTheme()};this.setStyle=function(n){this.renderer.setStyle(n)};this.unsetStyle=function(n){this.renderer.unsetStyle(n)};this.getFontSize=function(){return this.getOption("fontSize")||o.computedStyle(this.container,"fontSize")};this.setFontSize=function(n){this.setOption("fontSize",n)};this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var n=this;this.$highlightPending=!0;setTimeout(function(){var t,r,u;(n.$highlightPending=!1,t=n.session,t&&t.bgTokenizer)&&(r=t.findMatchingBracket(n.getCursorPosition()),r?u=new i(r.row,r.column,r.row,r.column+1):t.$mode.getMatching&&(u=t.$mode.getMatching(n.session)),u&&(t.$bracketHighlight=t.addMarker(u,"ace_bracket","text")))},50)}};this.$highlightTags=function(){if(!this.$highlightTagPending){var n=this;this.$highlightTagPending=!0;setTimeout(function(){var t;if(n.$highlightTagPending=!1,t=n.session,t&&t.bgTokenizer){var h=n.getCursorPosition(),f=new s(n.session,h.row,h.column),r=f.getCurrentToken();if(!r||!/\b(?:tag-open|tag-name)/.test(r.type)){t.removeMarker(t.$tagHighlight);t.$tagHighlight=null;return}if(r.type.indexOf("tag-open")==-1||(r=f.stepForward(),r)){var c=r.value,e=0,u=f.stepBackward();if(u.value=="<"){do u=r,r=f.stepForward(),r&&r.value===c&&r.type.indexOf("tag-name")!==-1&&(u.value==="<"?e++:u.value==="<\/"&&e--);while(r&&e>=0)}else{do r=u,u=f.stepBackward(),r&&r.value===c&&r.type.indexOf("tag-name")!==-1&&(u.value==="<"?e++:u.value==="<\/"&&e--);while(u&&e<=0);f.stepForward()}if(!r){t.removeMarker(t.$tagHighlight);t.$tagHighlight=null;return}var l=f.getCurrentTokenRow(),a=f.getCurrentTokenColumn(),o=new i(l,a,l,a+r.value.length),v=t.$backMarkers[t.$tagHighlight];t.$tagHighlight&&v!=undefined&&o.compareRange(v.range)!==0&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null);o&&!t.$tagHighlight&&(t.$tagHighlight=t.addMarker(o,"ace_bracket","text"))}}},50)}};this.focus=function(){var n=this;setTimeout(function(){n.textInput.focus()});this.textInput.focus()};this.isFocused=function(){return this.textInput.isFocused()};this.blur=function(){this.textInput.blur()};this.onFocus=function(n){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",n))};this.onBlur=function(n){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",n))};this.$cursorChange=function(){this.renderer.updateCursor()};this.onDocumentChange=function(n){var t=this.session.$useWrapMode,i=n.start.row==n.end.row?n.end.row:Infinity;this.renderer.updateLines(n.start.row,i,t);this._signal("change",n);this.$cursorChange();this.$updateHighlightActiveLine()};this.onTokenizerUpdate=function(n){var t=n.data;this.renderer.updateLines(t.first,t.last)};this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())};this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())};this.onCursorChange=function(){this.$cursorChange();this.$blockScrolling||(r.warn("Automatically scrolling cursor into view after selection change","this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView());this.$highlightBrackets();this.$highlightTags();this.$updateHighlightActiveLine();this._signal("changeSelection")};this.$updateHighlightActiveLine=function(){var n=this.getSession(),t,r;this.$highlightActiveLine&&(this.$selectionStyle=="line"&&this.selection.isMultiLine()||(t=this.getCursorPosition()),!this.renderer.$maxLines||this.session.getLength()!==1||this.renderer.$minLines>1||(t=!1));n.$highlightLineMarker&&!t?(n.removeMarker(n.$highlightLineMarker.id),n.$highlightLineMarker=null):!n.$highlightLineMarker&&t?(r=new i(t.row,t.column,t.row,Infinity),r.id=n.addMarker(r,"ace_active-line","screenLine"),n.$highlightLineMarker=r):t&&(n.$highlightLineMarker.start.row=t.row,n.$highlightLineMarker.end.row=t.row,n.$highlightLineMarker.start.column=t.column,n._signal("changeBackMarker"))};this.onSelectionChange=function(){var n=this.session,t,i,r;n.$selectionMarker&&n.removeMarker(n.$selectionMarker);n.$selectionMarker=null;this.selection.isEmpty()?this.$updateHighlightActiveLine():(t=this.selection.getRange(),i=this.getSelectionStyle(),n.$selectionMarker=n.addMarker(t,"ace_selection",i));r=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(r);this._signal("changeSelection")};this.$getSelectionHighLightRegexp=function(){var e=this.session,n=this.getSelectionRange();if(!n.isEmpty()&&!n.isMultiLine()){var r=n.start.column-1,u=n.end.column+1,i=e.getLine(n.start.row),f=i.length,t=i.substring(Math.max(r,0),Math.min(u,f));if((!(r>=0)||!/^[\w\d]/.test(t))&&(!(u<=f)||!/[\w\d]$/.test(t)))return(t=i.substring(n.start.column,n.end.column),!/^[\w\d]+$/.test(t))?void 0:this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:t})}};this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()};this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()};this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()};this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())};this.onChangeMode=function(n){this.renderer.updateText();this._emit("changeMode",n)};this.onChangeWrapLimit=function(){this.renderer.updateFull()};this.onChangeWrapMode=function(){this.renderer.onResize(!0)};this.onChangeFold=function(){this.$updateHighlightActiveLine();this.renderer.updateFull()};this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())};this.getCopyText=function(){var n=this.getSelectedText();return this._signal("copy",n),n};this.onCopy=function(){this.commands.exec("copy",this)};this.onCut=function(){this.commands.exec("cut",this)};this.onPaste=function(n,t){var i={text:n,event:t};this.commands.exec("paste",this,i)};this.$handlePaste=function(n){var i,t,r,u,f;if(typeof n=="string"&&(n={text:n}),this._signal("paste",n),i=n.text,!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(i);else{if(t=i.split(/\r\n|\r|\n/),r=this.selection.rangeList.ranges,t.length>r.length||t.length<2||!t[1])return this.commands.exec("insertstring",this,i);for(u=r.length;u--;)f=r[u],f.isEmpty()||this.session.remove(f),this.session.insert(f.start,t[u])}};this.execCommand=function(n,t){return this.commands.exec(n,this,t)};this.insert=function(n,t){var f=this.session,s=f.getMode(),r=this.getCursorPosition(),u,e,o,c,a;this.getBehavioursEnabled()&&!t&&(u=s.transformAction(f.getState(r.row),"insertion",this,f,n),u&&(n!==u.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),n=u.text));n=="\t"&&(n=this.session.getTabString());this.selection.isEmpty()?this.session.getOverwrite()&&n.indexOf("\n")==-1&&(e=new i.fromPoints(r,r),e.end.column+=n.length,this.session.remove(e)):(e=this.getSelectionRange(),r=this.session.remove(e),this.clearSelection());(n=="\n"||n=="\r\n")&&(o=f.getLine(r.row),r.column>o.search(/\S|$/)&&(c=o.substr(r.column).search(/\S|$/),f.doc.removeInLine(r.row,r.column,r.column+c)));this.clearSelection();var l=r.column,h=f.getState(r.row),o=f.getLine(r.row),v=s.checkOutdent(h,o,n),y=f.insert(r,n);u&&u.selection&&(u.selection.length==2?this.selection.setSelectionRange(new i(r.row,l+u.selection[0],r.row,l+u.selection[1])):this.selection.setSelectionRange(new i(r.row+u.selection[0],u.selection[1],r.row+u.selection[2],u.selection[3])));f.getDocument().isNewLine(n)&&(a=s.getNextLineIndent(h,o.slice(0,r.column),f.getTabString()),f.insert({row:r.row+1,column:0},a));v&&s.autoOutdent(h,f,r.row)};this.onTextInput=function(n){this.keyBinding.onTextInput(n)};this.onCommandKey=function(n,t,i){this.keyBinding.onCommandKey(n,t,i)};this.setOverwrite=function(n){this.session.setOverwrite(n)};this.getOverwrite=function(){return this.session.getOverwrite()};this.toggleOverwrite=function(){this.session.toggleOverwrite()};this.setScrollSpeed=function(n){this.setOption("scrollSpeed",n)};this.getScrollSpeed=function(){return this.getOption("scrollSpeed")};this.setDragDelay=function(n){this.setOption("dragDelay",n)};this.getDragDelay=function(){return this.getOption("dragDelay")};this.setSelectionStyle=function(n){this.setOption("selectionStyle",n)};this.getSelectionStyle=function(){return this.getOption("selectionStyle")};this.setHighlightActiveLine=function(n){this.setOption("highlightActiveLine",n)};this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")};this.setHighlightGutterLine=function(n){this.setOption("highlightGutterLine",n)};this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")};this.setHighlightSelectedWord=function(n){this.setOption("highlightSelectedWord",n)};this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord};this.setAnimatedScroll=function(n){this.renderer.setAnimatedScroll(n)};this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()};this.setShowInvisibles=function(n){this.renderer.setShowInvisibles(n)};this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()};this.setDisplayIndentGuides=function(n){this.renderer.setDisplayIndentGuides(n)};this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()};this.setShowPrintMargin=function(n){this.renderer.setShowPrintMargin(n)};this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()};this.setPrintMarginColumn=function(n){this.renderer.setPrintMarginColumn(n)};this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()};this.setReadOnly=function(n){this.setOption("readOnly",n)};this.getReadOnly=function(){return this.getOption("readOnly")};this.setBehavioursEnabled=function(n){this.setOption("behavioursEnabled",n)};this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")};this.setWrapBehavioursEnabled=function(n){this.setOption("wrapBehavioursEnabled",n)};this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")};this.setShowFoldWidgets=function(n){this.setOption("showFoldWidgets",n)};this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")};this.setFadeFoldWidgets=function(n){this.setOption("fadeFoldWidgets",n)};this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")};this.remove=function(n){var t,r,u;if(this.selection.isEmpty()&&(n=="left"?this.selection.selectLeft():this.selection.selectRight()),t=this.getSelectionRange(),this.getBehavioursEnabled()){var i=this.session,e=i.getState(t.start.row),f=i.getMode().transformAction(e,"deletion",this,i,t);t.end.column===0&&(r=i.getTextRange(t),r[r.length-1]=="\n"&&(u=i.getLine(t.end.row),/^\s+$/.test(u)&&(t.end.column=u.length)));f&&(t=f)}this.session.remove(t);this.clearSelection()};this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight();this.session.remove(this.getSelectionRange());this.clearSelection()};this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft();this.session.remove(this.getSelectionRange());this.clearSelection()};this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart();this.session.remove(this.getSelectionRange());this.clearSelection()};this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var n=this.getSelectionRange();n.start.column==n.end.column&&n.start.row==n.end.row&&(n.end.column=0,n.end.row++);this.session.remove(n);this.clearSelection()};this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var n=this.getCursorPosition();this.insert("\n");this.moveCursorToPosition(n)};this.transposeLetters=function(){var t,n,r,f,u;this.selection.isEmpty()&&(t=this.getCursorPosition(),n=t.column,n!==0)&&(r=this.session.getLine(t.row),n<r.length?(f=r.charAt(n)+r.charAt(n-1),u=new i(t.row,n-1,t.row,n+1)):(f=r.charAt(n-1)+r.charAt(n-2),u=new i(t.row,n-2,t.row,n)),this.session.replace(u,f),this.session.selection.moveToPosition(u.end))};this.toLowerCase=function(){var i=this.getSelectionRange(),n,t;this.selection.isEmpty()&&this.selection.selectWord();n=this.getSelectionRange();t=this.session.getTextRange(n);this.session.replace(n,t.toLowerCase());this.selection.setSelectionRange(i)};this.toUpperCase=function(){var i=this.getSelectionRange(),n,t;this.selection.isEmpty()&&this.selection.selectWord();n=this.getSelectionRange();t=this.session.getTextRange(n);this.session.replace(n,t.toUpperCase());this.selection.setSelectionRange(i)};this.indent=function(){var t=this.session,n=this.getSelectionRange(),o,i,e,r;if(n.start.row<n.end.row){i=this.$getSelectedRows();t.indentRows(i.first,i.last,"\t");return}if(n.start.column<n.end.column&&(o=t.getTextRange(n),!/^\s+$/.test(o))){i=this.$getSelectedRows();t.indentRows(i.first,i.last,"\t");return}var c=t.getLine(n.start.row),s=n.start,u=t.getTabSize(),h=t.documentToScreenColumn(s.row,s.column);if(this.session.getUseSoftTabs())r=u-h%u,e=f.stringRepeat(" ",r);else{for(r=h%u;c[n.start.column-1]==" "&&r;)n.start.column--,r--;this.selection.setSelectionRange(n);e="\t"}return this.insert(e)};this.blockIndent=function(){var n=this.$getSelectedRows();this.session.indentRows(n.first,n.last,"\t")};this.blockOutdent=function(){var n=this.session.getSelection();this.session.outdentRows(n.getRange())};this.sortLines=function(){for(var r,e,t=this.$getSelectedRows(),u=this.session,f=[],n=t.first;n<=t.last;n++)f.push(u.getLine(n));for(f.sort(function(n,t){return n.toLowerCase()<t.toLowerCase()?-1:n.toLowerCase()>t.toLowerCase()?1:0}),r=new i(0,0,0,0),n=t.first;n<=t.last;n++)e=u.getLine(n),r.start.row=n,r.end.row=n,r.end.column=e.length,u.replace(r,f[n-t.first])};this.toggleCommentLines=function(){var t=this.session.getState(this.getCursorPosition().row),n=this.$getSelectedRows();this.session.getMode().toggleCommentLines(t,this.session,n.first,n.last)};this.toggleBlockComment=function(){var n=this.getCursorPosition(),t=this.session.getState(n.row),i=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,i,n)};this.getNumberAt=function(n,t){var r=/[\-]?[0-9]+(?:\.[0-9]+)?/g,u,i;for(r.lastIndex=0,u=this.session.getLine(n);r.lastIndex<t;)if(i=r.exec(u),i.index<=t&&i.index+i[0].length>=t)return{value:i[0],start:i.index,end:i.index+i[0].length};return null};this.modifyNumber=function(n){var u=this.selection.getCursor().row,r=this.selection.getCursor().column,l=new i(u,r-1,u,r),h=this.session.getTextRange(l),t,s,c;if(!isNaN(parseFloat(h))&&isFinite(h)&&(t=this.getNumberAt(u,r),t)){var e=t.value.indexOf(".")>=0?t.start+t.value.indexOf(".")+1:t.end,o=t.start+t.value.length-e,f=parseFloat(t.value);f*=Math.pow(10,o);n*=e!==t.end&&r<e?Math.pow(10,t.end-r-1):Math.pow(10,t.end-r);f+=n;f/=Math.pow(10,o);s=f.toFixed(o);c=new i(u,t.start,u,t.end);this.session.replace(c,s);this.moveCursorTo(u,Math.max(t.start+1,r+s.length-t.value.length))}};this.removeLines=function(){var n=this.$getSelectedRows();this.session.removeFullLines(n.first,n.last);this.clearSelection()};this.duplicateSelection=function(){var t=this.selection,i=this.session,n=t.getRange(),f=t.isBackwards(),r,u,e;n.isEmpty()?(r=n.start.row,i.duplicateLines(r,r)):(u=f?n.start:n.end,e=i.insert(u,i.getTextRange(n),!1),n.start=u,n.end=e,t.setSelectionRange(n,f))};this.moveLinesDown=function(){this.$moveLines(1,!1)};this.moveLinesUp=function(){this.$moveLines(-1,!1)};this.moveText=function(n,t,i){return this.session.moveText(n,t,i)};this.copyLinesUp=function(){this.$moveLines(-1,!0)};this.copyLinesDown=function(){this.$moveLines(1,!0)};this.$moveLines=function(n,t){var f,l,r=this.selection,h,u,i,o,y,s,c;if(!r.inMultiSelectMode||this.inVirtualSelectionMode)h=r.toOrientedRange(),f=this.$getSelectedRows(h),l=this.session.$moveLines(f.first,f.last,t?0:n),t&&n==-1&&(l=0),h.moveBy(l,0),r.fromOrientedRange(h);else{u=r.rangeList.ranges;r.rangeList.detach(this.session);this.inVirtualSelectionMode=!0;var e=0,a=0,v=u.length;for(i=0;i<v;i++){for(o=i,u[i].moveBy(e,0),f=this.$getSelectedRows(u[i]),y=f.first,s=f.last;++i<v;){if(a&&u[i].moveBy(a,0),c=this.$getSelectedRows(u[i]),t&&c.first!=s)break;else if(!t&&c.first>s+1)break;s=c.last}for(i--,e=this.session.$moveLines(y,s,t?0:n),t&&n==-1&&(o=i+1);o<=i;)u[o].moveBy(e,0),o++;t||(e=0);a+=e}r.fromOrientedRange(r.ranges[0]);r.rangeList.attach(this.session);this.inVirtualSelectionMode=!1}};this.$getSelectedRows=function(n){return n=(n||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(n.start.row),last:this.session.getRowFoldEnd(n.end.row)}};this.onCompositionStart=function(){this.renderer.showComposition(this.getCursorPosition())};this.onCompositionUpdate=function(n){this.renderer.setCompositionText(n)};this.onCompositionEnd=function(){this.renderer.hideComposition()};this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()};this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()};this.isRowVisible=function(n){return n>=this.getFirstVisibleRow()&&n<=this.getLastVisibleRow()};this.isRowFullyVisible=function(n){return n>=this.renderer.getFirstFullyVisibleRow()&&n<=this.renderer.getLastFullyVisibleRow()};this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1};this.$moveByPage=function(n,t){var i=this.renderer,r=this.renderer.layerConfig,u=n*Math.floor(r.height/r.lineHeight),f;this.$blockScrolling++;t===!0?this.selection.$moveSelection(function(){this.moveCursorBy(u,0)}):t===!1&&(this.selection.moveCursorBy(u,0),this.selection.clearSelection());this.$blockScrolling--;f=i.scrollTop;i.scrollBy(0,u*r.lineHeight);t!=null&&i.scrollCursorIntoView(null,.5);i.animateScrolling(f)};this.selectPageDown=function(){this.$moveByPage(1,!0)};this.selectPageUp=function(){this.$moveByPage(-1,!0)};this.gotoPageDown=function(){this.$moveByPage(1,!1)};this.gotoPageUp=function(){this.$moveByPage(-1,!1)};this.scrollPageDown=function(){this.$moveByPage(1)};this.scrollPageUp=function(){this.$moveByPage(-1)};this.scrollToRow=function(n){this.renderer.scrollToRow(n)};this.scrollToLine=function(n,t,i,r){this.renderer.scrollToLine(n,t,i,r)};this.centerSelection=function(){var n=this.getSelectionRange(),t={row:Math.floor(n.start.row+(n.end.row-n.start.row)/2),column:Math.floor(n.start.column+(n.end.column-n.start.column)/2)};this.renderer.alignCursor(t,.5)};this.getCursorPosition=function(){return this.selection.getCursor()};this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())};this.getSelectionRange=function(){return this.selection.getRange()};this.selectAll=function(){this.$blockScrolling+=1;this.selection.selectAll();this.$blockScrolling-=1};this.clearSelection=function(){this.selection.clearSelection()};this.moveCursorTo=function(n,t){this.selection.moveCursorTo(n,t)};this.moveCursorToPosition=function(n){this.selection.moveCursorToPosition(n)};this.jumpToMatching=function(n,t){var c=this.getCursorPosition(),e=new s(this.session,c.row,c.column),h=e.getCurrentToken(),r=h||e.stepForward(),u,f,p;if(r){var y,l=!1,o={},a=c.column-r.start,v,w={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(r.value.match(/[{}()\[\]]/g)){for(;a<r.value.length&&!l;a++)if(w[r.value[a]]){v=w[r.value[a]]+"."+r.type.replace("rparen","lparen");isNaN(o[v])&&(o[v]=0);switch(r.value[a]){case"(":case"[":case"{":o[v]++;break;case")":case"]":case"}":o[v]--;o[v]===-1&&(y="bracket",l=!0)}}}else r&&r.type.indexOf("tag-name")!==-1&&(isNaN(o[r.value])&&(o[r.value]=0),h.value==="<"?o[r.value]++:h.value==="<\/"&&o[r.value]--,o[r.value]===-1&&(y="tag",l=!0));l||(h=r,r=e.stepForward(),a=0)}while(r&&!l);if(y){if(y==="bracket")u=this.session.getBracketRange(c),u||(u=new i(e.getCurrentTokenRow(),e.getCurrentTokenColumn()+a-1,e.getCurrentTokenRow(),e.getCurrentTokenColumn()+a-1),f=u.start,(t||f.row===c.row&&Math.abs(f.column-c.column)<2)&&(u=this.session.getBracketRange(f)));else if(y==="tag"){if(r&&r.type.indexOf("tag-name")!==-1)p=r.value;else return;if(u=new i(e.getCurrentTokenRow(),e.getCurrentTokenColumn()-2,e.getCurrentTokenRow(),e.getCurrentTokenColumn()-2),u.compare(c.row,c.column)===0){l=!1;do r=h,h=e.stepBackward(),h&&(h.type.indexOf("tag-close")!==-1&&u.setEnd(e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1),r.value===p&&r.type.indexOf("tag-name")!==-1&&(h.value==="<"?o[p]++:h.value==="<\/"&&o[p]--,o[p]===0&&(l=!0)));while(h&&!l)}r&&r.type.indexOf("tag-name")&&(f=u.start,f.row==c.row&&Math.abs(f.column-c.column)<2&&(f=u.end))}f=u&&u.cursor||f;f&&(n?u&&t?this.selection.setRange(u):u&&u.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(f.row,f.column):this.selection.moveTo(f.row,f.column))}}};this.gotoLine=function(n,t,i){this.selection.clearSelection();this.session.unfold({row:n-1,column:t||0});this.$blockScrolling+=1;this.exitMultiSelectMode&&this.exitMultiSelectMode();this.moveCursorTo(n-1,t||0);this.$blockScrolling-=1;this.isRowFullyVisible(n-1)||this.scrollToLine(n-1,!0,i)};this.navigateTo=function(n,t){this.selection.moveTo(n,t)};this.navigateUp=function(n){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection();this.selection.moveCursorBy(-n||-1,0)};this.navigateDown=function(n){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection();this.selection.moveCursorBy(n||1,0)};this.navigateLeft=function(n){if(this.selection.isEmpty())for(n=n||1;n--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()};this.navigateRight=function(n){if(this.selection.isEmpty())for(n=n||1;n--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()};this.navigateLineStart=function(){this.selection.moveCursorLineStart();this.clearSelection()};this.navigateLineEnd=function(){this.selection.moveCursorLineEnd();this.clearSelection()};this.navigateFileEnd=function(){this.selection.moveCursorFileEnd();this.clearSelection()};this.navigateFileStart=function(){this.selection.moveCursorFileStart();this.clearSelection()};this.navigateWordRight=function(){this.selection.moveCursorWordRight();this.clearSelection()};this.navigateWordLeft=function(){this.selection.moveCursorWordLeft();this.clearSelection()};this.replace=function(n,t){t&&this.$search.set(t);var i=this.$search.find(this.session),r=0;return i?(this.$tryReplace(i,n)&&(r=1),i!==null&&(this.selection.setSelectionRange(i),this.renderer.scrollSelectionIntoView(i.start,i.end)),r):r};this.replaceAll=function(n,t){var i,r,f,u;if(t&&this.$search.set(t),i=this.$search.findAll(this.session),r=0,!i.length)return r;for(this.$blockScrolling+=1,f=this.getSelectionRange(),this.selection.moveTo(0,0),u=i.length-1;u>=0;--u)this.$tryReplace(i[u],n)&&r++;return this.selection.setSelectionRange(f),this.$blockScrolling-=1,r};this.$tryReplace=function(n,t){var i=this.session.getTextRange(n);return t=this.$search.replace(i,t),t!==null?(n.end=this.session.replace(n,t),n):null};this.getLastSearchOptions=function(){return this.$search.getOptions()};this.find=function(n,t,i){var r,u;if(t||(t={}),typeof n=="string"||n instanceof RegExp?t.needle=n:typeof n=="object"&&e.mixin(t,n),r=this.selection.getRange(),t.needle==null&&(n=this.session.getTextRange(r)||this.$search.$options.needle,n||(r=this.session.getWordRange(r.start.row,r.start.column),n=this.session.getTextRange(r)),this.$search.set({needle:n})),this.$search.set(t),t.start||this.$search.set({start:r}),u=this.$search.find(this.session),t.preventScroll)return u;if(u)return this.revealRange(u,i),u;t.backwards?r.start=r.end:r.end=r.start;this.selection.setRange(r)};this.findNext=function(n,t){this.find({skipCurrent:!0,backwards:!1},n,t)};this.findPrevious=function(n,t){this.find(n,{skipCurrent:!0,backwards:!0},t)};this.revealRange=function(n,t){this.$blockScrolling+=1;this.session.unfold(n);this.selection.setSelectionRange(n);this.$blockScrolling-=1;var i=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(n.start,n.end,.5);t!==!1&&this.renderer.animateScrolling(i)};this.undo=function(){this.$blockScrolling++;this.session.getUndoManager().undo();this.$blockScrolling--;this.renderer.scrollCursorIntoView(null,.5)};this.redo=function(){this.$blockScrolling++;this.session.getUndoManager().redo();this.$blockScrolling--;this.renderer.scrollCursorIntoView(null,.5)};this.destroy=function(){this.renderer.destroy();this._signal("destroy",this);this.session&&this.session.destroy()};this.setAutoScrollEditorIntoView=function(n){var u,r,t,i;if(n){r=this;t=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));i=this.$scrollAnchor;i.style.cssText="position:absolute";this.container.insertBefore(i,this.container.firstChild);var f=this.on("changeSelection",function(){t=!0}),e=this.renderer.on("beforeRender",function(){t&&(u=r.renderer.container.getBoundingClientRect())}),o=this.renderer.on("afterRender",function(){if(t&&u&&(r.isFocused()||r.searchBox&&r.searchBox.isFocused())){var e=r.renderer,n=e.$cursorLayer.$pixelPos,f=e.layerConfig,o=n.top-f.offset;t=n.top>=0&&o+u.top<0?!0:n.top<f.height&&n.top+u.top+f.lineHeight>window.innerHeight?!1:null;t!=null&&(i.style.top=o+"px",i.style.left=n.left+"px",i.style.height=f.lineHeight+"px",i.scrollIntoView(t));t=u=null}});this.setAutoScrollEditorIntoView=function(n){n||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",f),this.renderer.off("afterRender",o),this.renderer.off("beforeRender",e))}}};this.$resetCursorStyle=function(){var t=this.$cursorStyle||"ace",n=this.renderer.$cursorLayer;n&&(n.setSmoothBlinking(/smooth/.test(t)),n.isBlinking=!this.$readOnly&&t!="wide",o.setCssClass(n.element,"ace_slim-cursors",/slim/.test(t)))}}.call(u.prototype);r.defineOptions(u.prototype,"editor",{selectionStyle:{set:function(n){this.onSelectionChange();this._signal("changeSelectionStyle",{data:n})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(n){this.setAutoScrollEditorIntoView(n)}},keyboardHandler:{set:function(n){this.setKeyboardHandler(n)},get:function(){return this.keybindingId},handlesSet:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});t.Editor=u});ace.define("ace/undomanager",["require","exports","module"],function(n,t){"use strict";var i=function(){this.reset()};(function(){function t(n){return{action:n.action,start:n.start,end:n.end,lines:n.lines.length==1?null:n.lines,text:n.lines.length==1?n.lines[0]:null}}function i(n){return{action:n.action,start:n.start,end:n.end,lines:n.lines||[n.text]}}function n(n,t){for(var i,f,r,o,e=new Array(n.length),u=0;u<n.length;u++){for(i=n[u],f={group:i.group,deltas:new Array(i.length)},r=0;r<i.deltas.length;r++)o=i.deltas[r],f.deltas[r]=t(o);e[u]=f}return e}this.execute=function(n){var t=n.args[0];this.$doc=n.args[1];n.merge&&this.hasUndo()&&(this.dirtyCounter--,t=this.$undoStack.pop().concat(t));this.$undoStack.push(t);this.$redoStack=[];this.dirtyCounter<0&&(this.dirtyCounter=NaN);this.dirtyCounter++};this.undo=function(n){var t=this.$undoStack.pop(),i=null;return t&&(i=this.$doc.undoChanges(t,n),this.$redoStack.push(t),this.dirtyCounter--),i};this.redo=function(n){var t=this.$redoStack.pop(),i=null;return t&&(i=this.$doc.redoChanges(this.$deserializeDeltas(t),n),this.$undoStack.push(t),this.dirtyCounter++),i};this.reset=function(){this.$undoStack=[];this.$redoStack=[];this.dirtyCounter=0};this.hasUndo=function(){return this.$undoStack.length>0};this.hasRedo=function(){return this.$redoStack.length>0};this.markClean=function(){this.dirtyCounter=0};this.isClean=function(){return this.dirtyCounter===0};this.$serializeDeltas=function(i){return n(i,t)};this.$deserializeDeltas=function(t){return n(t,i)}}).call(i.prototype);t.UndoManager=i});ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],function(n,t){"use strict";var i=n("../lib/dom"),u=n("../lib/oop"),f=n("../lib/lang"),e=n("../lib/event_emitter").EventEmitter,r=function(n){this.element=i.createElement("div");this.element.className="ace_layer ace_gutter-layer";n.appendChild(this.element);this.setShowFoldWidgets(this.$showFoldWidgets);this.gutterWidth=0;this.$annotations=[];this.$updateAnnotations=this.$updateAnnotations.bind(this);this.$cells=[]};(function(){u.implement(this,e);this.setSession=function(n){if(this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=n,n)n.on("change",this.$updateAnnotations)};this.addGutterDecoration=function(n,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration");this.session.addGutterDecoration(n,t)};this.removeGutterDecoration=function(n,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration");this.session.removeGutterDecoration(n,t)};this.setAnnotations=function(n){var r,i,e;for(this.$annotations=[],r=0;r<n.length;r++){var u=n[r],o=u.row,t=this.$annotations[o];t||(t=this.$annotations[o]={text:[]});i=u.text;i=i?f.escapeHTML(i):u.html||"";t.text.indexOf(i)===-1&&t.text.push(i);e=u.type;e=="error"?t.className=" ace_error":e=="warning"&&t.className!=" ace_error"?t.className=" ace_warning":e!="info"||t.className||(t.className=" ace_info")}};this.$updateAnnotations=function(n){var t,i,r;this.$annotations.length&&(t=n.start.row,i=n.end.row-t,i===0||(n.action=="remove"?this.$annotations.splice(t,i+1,null):(r=new Array(i+1),r.unshift(t,1),this.$annotations.splice.apply(this.$annotations,r))))};this.update=function(n){for(var u=this.session,b=n.firstRow,nt=Math.min(n.lastRow+n.gutterOffset,u.getLength()-1),e=u.getNextFoldLine(b),a=e?e.start.row:Infinity,v=this.$showFoldWidgets&&u.foldWidgets,k=u.$breakpoints,d=u.$decorations,g=u.$firstLineNumber,c=0,l=u.gutterRenderer||this.$renderer,t=null,y=-1,r=b,s,f,o,p,h,w;;){if(r>a&&(r=e.end.row+1,e=u.getNextFoldLine(r,e),a=e?e.start.row:Infinity),r>nt){while(this.$cells.length>y+1)t=this.$cells.pop(),this.element.removeChild(t.element);break}t=this.$cells[++y];t||(t={element:null,textNode:null,foldWidget:null},t.element=i.createElement("div"),t.textNode=document.createTextNode(""),t.element.appendChild(t.textNode),this.element.appendChild(t.element),this.$cells[y]=t);f="ace_gutter-cell ";k[r]&&(f+=k[r]);d[r]&&(f+=d[r]);this.$annotations[r]&&(f+=this.$annotations[r].className);t.element.className!=f&&(t.element.className=f);o=u.getRowLength(r)*n.lineHeight+"px";o!=t.element.style.height&&(t.element.style.height=o);v&&(s=v[r],s==null&&(s=v[r]=u.getFoldWidget(r)));s?(t.foldWidget||(t.foldWidget=i.createElement("span"),t.element.appendChild(t.foldWidget)),f="ace_fold-widget ace_"+s,f+=s=="start"&&r==a&&r<e.end.row?" ace_closed":" ace_open",t.foldWidget.className!=f&&(t.foldWidget.className=f),o=n.lineHeight+"px",t.foldWidget.style.height!=o&&(t.foldWidget.style.height=o)):t.foldWidget&&(t.element.removeChild(t.foldWidget),t.foldWidget=null);p=c=l?l.getText(u,r):r+g;p!==t.textNode.data&&(t.textNode.data=p);r++}this.element.style.height=n.minHeight+"px";(this.$fixedWidth||u.$useWrapMode)&&(c=u.getLength()+g);h=l?l.getWidth(u,c,n):c.toString().length*n.characterWidth;w=this.$padding||this.$computePadding();h+=w.left+w.right;h===this.gutterWidth||isNaN(h)||(this.gutterWidth=h,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",h))};this.$fixedWidth=!1;this.$showLineNumbers=!0;this.$renderer="";this.setShowLineNumbers=function(n){this.$renderer=!n&&{getWidth:function(){return""},getText:function(){return""}}};this.getShowLineNumbers=function(){return this.$showLineNumbers};this.$showFoldWidgets=!0;this.setShowFoldWidgets=function(n){n?i.addCssClass(this.element,"ace_folding-enabled"):i.removeCssClass(this.element,"ace_folding-enabled");this.$showFoldWidgets=n;this.$padding=null};this.getShowFoldWidgets=function(){return this.$showFoldWidgets};this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var n=i.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(n.paddingLeft)+1||0,this.$padding.right=parseInt(n.paddingRight)||0,this.$padding};this.getRegion=function(n){var t=this.$padding||this.$computePadding(),i=this.element.getBoundingClientRect();return n.x<t.left+i.left?"markers":this.$showFoldWidgets&&n.x>i.right-t.right?"foldWidgets":void 0}}).call(r.prototype);t.Gutter=r});ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(n,t){"use strict";var r=n("../range").Range,u=n("../lib/dom"),i=function(n){this.element=u.createElement("div");this.element.className="ace_layer ace_marker-layer";n.appendChild(this.element)};(function(){function n(n,t,i,r){return(n?1:0)|(t?2:0)|(i?4:0)|(r?8:0)}this.$padding=0;this.setPadding=function(n){this.$padding=n};this.setSession=function(n){this.session=n};this.setMarkers=function(n){this.markers=n};this.update=function(n){var r,u,i,t,f,e;if(n){this.config=n;r=[];for(u in this.markers){if(i=this.markers[u],!i.range){i.update(r,this,this.session,n);continue}(t=i.range.clipRows(n.firstRow,n.lastRow),t.isEmpty())||(t=t.toScreenRange(this.session),i.renderer?(f=this.$getTop(t.start.row,n),e=this.$padding+(this.session.$bidiHandler.isBidiRow(t.start.row)?this.session.$bidiHandler.getPosLeft(t.start.column):t.start.column*n.characterWidth),i.renderer(r,t,e,f,n)):i.type=="fullLine"?this.drawFullLineMarker(r,t,i.clazz,n):i.type=="screenLine"?this.drawScreenLineMarker(r,t,i.clazz,n):t.isMultiLine()?i.type=="text"?this.drawTextMarker(r,t,i.clazz,n):this.drawMultiLineMarker(r,t,i.clazz,n):this.session.$bidiHandler.isBidiRow(t.start.row)?this.drawBidiSingleLineMarker(r,t,i.clazz+" ace_start ace_br15",n):this.drawSingleLineMarker(r,t,i.clazz+" ace_start ace_br15",n))}this.element.innerHTML=r.join("")}};this.$getTop=function(n,t){return(n-t.firstRowScreen)*t.lineHeight};this.drawTextMarker=function(t,i,u,f,e){for(var v=this.session,c=i.start.row,s=i.end.row,o=c,p=0,l=0,a=v.getScreenLastRowColumn(o),y=null,h=new r(o,i.start.column,o,l);o<=s;o++)h.start.row=h.end.row=o,h.start.column=o==c?i.start.column:v.getRowWrapIndent(o),h.end.column=a,p=l,l=a,a=o+1<s?v.getScreenLastRowColumn(o+1):o==s?0:i.end.column,y=u+(o==c?" ace_start":"")+" ace_br"+n(o==c||o==c+1&&i.start.column,p<l,l>a,o==s),this.session.$bidiHandler.isBidiRow(o)?this.drawBidiSingleLineMarker(t,h,y,f,o==s?0:1,e):this.drawSingleLineMarker(t,h,y,f,o==s?0:1,e)};this.drawMultiLineMarker=function(n,t,i,r,u){var s=this.$padding,e,o,c,f,l,h;(u=u||"",this.session.$bidiHandler.isBidiRow(t.start.row)?(f=t.clone(),f.end.row=f.start.row,f.end.column=this.session.getLine(f.start.row).length,this.drawBidiSingleLineMarker(n,f,i+" ace_br1 ace_start",r,null,u)):(e=r.lineHeight,o=this.$getTop(t.start.row,r),c=s+t.start.column*r.characterWidth,n.push("<div class='",i," ace_br1 ace_start' style='","height:",e,"px;","right:0;","top:",o,"px;","left:",c,"px;",u,"'><\/div>")),this.session.$bidiHandler.isBidiRow(t.end.row)?(f=t.clone(),f.start.row=f.end.row,f.start.column=0,this.drawBidiSingleLineMarker(n,f,i+" ace_br12",r,null,u)):(l=t.end.column*r.characterWidth,e=r.lineHeight,o=this.$getTop(t.end.row,r),n.push("<div class='",i," ace_br12' style='","height:",e,"px;","width:",l,"px;","top:",o,"px;","left:",s,"px;",u,"'><\/div>")),e=(t.end.row-t.start.row-1)*r.lineHeight,e<=0)||(o=this.$getTop(t.start.row+1,r),h=(t.start.column?1:0)|(t.end.column?0:8),n.push("<div class='",i,h?" ace_br"+h:"","' style='","height:",e,"px;","right:0;","top:",o,"px;","left:",s,"px;",u,"'><\/div>"))};this.drawSingleLineMarker=function(n,t,i,r,u,f){var e=r.lineHeight,o=(t.end.column+(u||0)-t.start.column)*r.characterWidth,s=this.$getTop(t.start.row,r),h=this.$padding+t.start.column*r.characterWidth;n.push("<div class='",i,"' style='","height:",e,"px;","width:",o,"px;","top:",s,"px;","left:",h,"px;",f||"","'><\/div>")};this.drawBidiSingleLineMarker=function(n,t,i,r,u,f){var e=r.lineHeight,o=this.$getTop(t.start.row,r),s=this.$padding,h=this.session.$bidiHandler.getSelections(t.start.column,t.end.column);h.forEach(function(t){n.push("<div class='",i,"' style='","height:",e,"px;","width:",t.width+(u||0),"px;","top:",o,"px;","left:",s+t.left,"px;",f||"","'><\/div>")})};this.drawFullLineMarker=function(n,t,i,r,u){var f=this.$getTop(t.start.row,r),e=r.lineHeight;t.start.row!=t.end.row&&(e+=this.$getTop(t.end.row,r)-f);n.push("<div class='",i,"' style='","height:",e,"px;","top:",f,"px;","left:0;right:0;",u||"","'><\/div>")};this.drawScreenLineMarker=function(n,t,i,r,u){var f=this.$getTop(t.start.row,r),e=r.lineHeight;n.push("<div class='",i,"' style='","height:",e,"px;","top:",f,"px;","left:0;right:0;",u||"","'><\/div>")}}).call(i.prototype);t.Marker=i});ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(n,t){"use strict";var f=n("../lib/oop"),r=n("../lib/dom"),i=n("../lib/lang"),o=n("../lib/useragent"),e=n("../lib/event_emitter").EventEmitter,u=function(n){this.element=r.createElement("div");this.element.className="ace_layer ace_text-layer";n.appendChild(this.element);this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){f.implement(this,e);this.EOF_CHAR="¶";this.EOL_CHAR_LF="¬";this.EOL_CHAR_CRLF="¤";this.EOL_CHAR=this.EOL_CHAR_LF;this.TAB_CHAR="—";this.SPACE_CHAR="·";this.$padding=0;this.$updateEolChar=function(){var n=this.session.doc.getNewLineCharacter()=="\n"?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=n)return this.EOL_CHAR=n,!0};this.setPadding=function(n){this.$padding=n;this.element.style.padding="0 "+n+"px"};this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0};this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0};this.$setFontMetrics=function(n){this.$fontMetrics=n;this.$fontMetrics.on("changeCharacterSize",function(n){this._signal("changeCharacterSize",n)}.bind(this));this.$pollSizeChanges()};this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()};this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()};this.setSession=function(n){this.session=n;n&&this.$computeTabString()};this.showInvisibles=!1;this.setShowInvisibles=function(n){return this.showInvisibles==n?!1:(this.showInvisibles=n,this.$computeTabString(),!0)};this.displayIndentGuides=!0;this.setDisplayIndentGuides=function(n){return this.displayIndentGuides==n?!1:(this.displayIndentGuides=n,this.$computeTabString(),!0)};this.$tabStrings=[];this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize(),r,n,t,f;for(this.tabSize=e,r=this.$tabStrings=[0],n=1;n<e+1;n++)this.showInvisibles?r.push("<span class='ace_invisible ace_invisible_tab'>"+i.stringRepeat(this.TAB_CHAR,n)+"<\/span>"):r.push(i.stringRepeat(" ",n));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var u="ace_indent-guide",o="",s="";this.showInvisibles?(u+=" ace_invisible",o=" ace_invisible_space",s=" ace_invisible_tab",t=i.stringRepeat(this.SPACE_CHAR,this.tabSize),f=i.stringRepeat(this.TAB_CHAR,this.tabSize)):(t=i.stringRepeat(" ",this.tabSize),f=t);this.$tabStrings[" "]="<span class='"+u+o+"'>"+t+"<\/span>";this.$tabStrings["\t"]="<span class='"+u+s+"'>"+f+"<\/span>"}};this.updateLines=function(n,t,i){var r,u,e,s;(this.config.lastRow!=n.lastRow||this.config.firstRow!=n.firstRow)&&this.scrollLines(n);this.config=n;var f=Math.max(t,n.firstRow),c=Math.min(i,n.lastRow),l=this.element.childNodes,h=0;for(r=n.firstRow;r<f;r++){if(u=this.session.getFoldLine(r),u)if(u.containsRow(f)){f=u.start.row;break}else r=u.end.row;h++}for(var r=f,u=this.session.getNextFoldLine(r),o=u?u.start.row:Infinity;;){if(r>o&&(r=u.end.row+1,u=this.session.getNextFoldLine(r,u),o=u?u.start.row:Infinity),r>c)break;e=l[h++];e&&(s=[],this.$renderLine(s,r,!this.$useLineGroups(),r==o?u:!1),e.style.height=n.lineHeight*this.session.getRowLength(r)+"px",e.innerHTML=s.join(""));r++}};this.scrollLines=function(n){var t=this.config,i,r,u;if((this.config=n,!t||t.lastRow<n.firstRow)||n.lastRow<t.firstRow)return this.update(n);if(i=this.element,t.firstRow<n.firstRow)for(r=this.session.getFoldedRowCount(t.firstRow,n.firstRow-1);r>0;r--)i.removeChild(i.firstChild);if(t.lastRow>n.lastRow)for(r=this.session.getFoldedRowCount(n.lastRow+1,t.lastRow);r>0;r--)i.removeChild(i.lastChild);n.firstRow<t.firstRow&&(u=this.$renderLinesFragment(n,n.firstRow,t.firstRow-1),i.firstChild?i.insertBefore(u,i.firstChild):i.appendChild(u));n.lastRow>t.lastRow&&(u=this.$renderLinesFragment(n,t.lastRow+1,n.lastRow),i.appendChild(u))};this.$renderLinesFragment=function(n,t,i){for(var o=this.element.ownerDocument.createDocumentFragment(),u=t,f=this.session.getNextFoldLine(u),s=f?f.start.row:Infinity,e,h;;){if(u>s&&(u=f.end.row+1,f=this.session.getNextFoldLine(u,f),s=f?f.start.row:Infinity),u>i)break;if(e=r.createElement("div"),h=[],this.$renderLine(h,u,!1,u==s?f:!1),e.innerHTML=h.join(""),this.$useLineGroups())e.className="ace_line_group",o.appendChild(e),e.style.height=n.lineHeight*this.session.getRowLength(u)+"px";else while(e.firstChild)o.appendChild(e.firstChild);u++}return o};this.update=function(n){this.config=n;for(var r=[],f=n.firstRow,e=n.lastRow,t=f,i=this.session.getNextFoldLine(t),u=i?i.start.row:Infinity;;){if(t>u&&(t=i.end.row+1,i=this.session.getNextFoldLine(t,i),u=i?i.start.row:Infinity),t>e)break;this.$useLineGroups()&&r.push("<div class='ace_line_group' style='height:",n.lineHeight*this.session.getRowLength(t),"px'>");this.$renderLine(r,t,!1,t==u?i:!1);this.$useLineGroups()&&r.push("<\/div>");t++}this.element.innerHTML=r.join("")};this.$textToken={text:!0,rparen:!0,lparen:!0};this.$renderToken=function(n,t,r,u){var f=this,h=function(n,r,u,e){var o,s,h;return r?f.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+i.stringRepeat(f.SPACE_CHAR,n.length)+"<\/span>":n:n=="&"?"&#38;":n=="<"?"&#60;":n==">"?"&#62;":n=="\t"?(o=f.session.getScreenTabSize(t+e),t+=o-1,f.$tabStrings[o]):n=="　"?(s=f.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",h=f.showInvisibles?f.SPACE_CHAR:"",t+=1,"<span class='"+s+"' style='width:"+f.config.characterWidth*2+"px'>"+h+"<\/span>"):u?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+f.SPACE_CHAR+"<\/span>":(t+=1,"<span class='ace_cjk' style='width:"+f.config.characterWidth*2+"px'>"+n+"<\/span>")},o=u.replace(/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,h),s,e;return this.$textToken[r.type]?n.push(o):(s="ace_"+r.type.replace(/\./g," ace_"),e="",r.type=="fold"&&(e=" style='width:"+r.value.length*this.config.characterWidth+"px;' "),n.push("<span class='",s,"'",e,">",o,"<\/span>")),t+u.length};this.renderIndentGuide=function(n,t,r){var u=t.search(this.$indentGuideRe);return u<=0||u>=r?t:t[0]==" "?(u-=u%this.tabSize,n.push(i.stringRepeat(this.$tabStrings[" "],u/this.tabSize)),t.substr(u)):t[0]=="\t"?(n.push(i.stringRepeat(this.$tabStrings["\t"],u)),t.substr(u)):t};this.$renderWrappedLine=function(n,t,r,u){for(var h,f,e=0,l=0,o=r[0],s=0,c=0;c<t.length;c++){if(h=t[c],f=h.value,c==0&&this.displayIndentGuides){if(e=f.length,f=this.renderIndentGuide(n,f,o),!f)continue;e-=f.length}if(e+f.length<o)s=this.$renderToken(n,s,h,f),e+=f.length;else{while(e+f.length>=o)s=this.$renderToken(n,s,h,f.substring(0,o-e)),f=f.substring(o-e),e=o,u||n.push("<\/div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),n.push(i.stringRepeat(" ",r.indent)),l++,s=0,o=r[l]||Number.MAX_VALUE;f.length!=0&&(e+=f.length,s=this.$renderToken(n,s,h,f))}}};this.$renderSimpleLine=function(n,t){var u=0,r=t[0],i=r.value,f;for(this.displayIndentGuides&&(i=this.renderIndentGuide(n,i)),i&&(u=this.$renderToken(n,u,r,i)),f=1;f<t.length;f++)r=t[f],i=r.value,u=this.$renderToken(n,u,r,i)};this.$renderLine=function(n,t,i,r){var u,f;r||r==!1||(r=this.session.getFoldLine(t));u=r?this.$getFoldLineTokens(t,r):this.session.getTokens(t);i||n.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(t)),"px'>");u.length&&(f=this.session.getRowSplitData(t),f&&f.length?this.$renderWrappedLine(n,u,f,i):this.$renderSimpleLine(n,u));this.showInvisibles&&(r&&(t=r.end.row),n.push("<span class='ace_invisible ace_invisible_eol'>",t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"<\/span>"));i||n.push("<\/div>")};this.$getFoldLineTokens=function(n,t){function f(n,t,r){for(var u=0,e=0,f;e+n[u].value.length<t;)if(e+=n[u].value.length,u++,u==n.length)return;for(e!=t&&(f=n[u].value.substring(t-e),f.length>r-t&&(f=f.substring(0,r-t)),i.push({type:n[u].type,value:f}),e=t+f.length,u+=1);e<r&&u<n.length;)f=n[u].value,f.length+e>r?i.push({type:n[u].type,value:f.substring(0,r-e)}):i.push(n[u]),e+=f.length,u+=1}var u=this.session,i=[],r=u.getTokens(n);return t.walk(function(n,t,e,o,s){n!=null?i.push({type:"fold",value:n}):(s&&(r=u.getTokens(t)),r.length&&f(r,o,e))},t.end.row,this.session.getLine(t.end.row).length),i};this.$useLineGroups=function(){return this.session.getUseWrapMode()};this.destroy=function(){clearInterval(this.$pollSizeChangesTimer);this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode);delete this.$measureNode}}).call(u.prototype);t.Text=u});ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(n,t){"use strict";var i=n("../lib/dom"),r,u=function(n){this.element=i.createElement("div");this.element.className="ace_layer ace_cursor-layer";n.appendChild(this.element);r===undefined&&(r=!("opacity"in this.element.style));this.isVisible=!1;this.isBlinking=!0;this.blinkInterval=1e3;this.smoothBlinking=!1;this.cursors=[];this.cursor=this.addCursor();i.addCssClass(this.element,"ace_hidden-cursors");this.$updateCursors=(r?this.$updateVisibility:this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(n){for(var t=this.cursors,i=t.length;i--;)t[i].style.visibility=n?"":"hidden"};this.$updateOpacity=function(n){for(var t=this.cursors,i=t.length;i--;)t[i].style.opacity=n?"":"0"};this.$padding=0;this.setPadding=function(n){this.$padding=n};this.setSession=function(n){this.session=n};this.setBlinking=function(n){n!=this.isBlinking&&(this.isBlinking=n,this.restartTimer())};this.setBlinkInterval=function(n){n!=this.blinkInterval&&(this.blinkInterval=n,this.restartTimer())};this.setSmoothBlinking=function(n){n==this.smoothBlinking||r||(this.smoothBlinking=n,i.setCssClass(this.element,"ace_smooth-blinking",n),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())};this.addCursor=function(){var n=i.createElement("div");return n.className="ace_cursor",this.element.appendChild(n),this.cursors.push(n),n};this.removeCursor=function(){if(this.cursors.length>1){var n=this.cursors.pop();return n.parentNode.removeChild(n),n}};this.hideCursor=function(){this.isVisible=!1;i.addCssClass(this.element,"ace_hidden-cursors");this.restartTimer()};this.showCursor=function(){this.isVisible=!0;i.removeCssClass(this.element,"ace_hidden-cursors");this.restartTimer()};this.restartTimer=function(){var n=this.$updateCursors,t;(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&i.removeCssClass(this.element,"ace_smooth-blinking"),n(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)&&(this.smoothBlinking&&setTimeout(function(){i.addCssClass(this.element,"ace_smooth-blinking")}.bind(this)),t=function(){this.timeoutId=setTimeout(function(){n(!1)},.6*this.blinkInterval)}.bind(this),this.intervalId=setInterval(function(){n(!0);t()},this.blinkInterval),t())};this.getPixelPosition=function(n,t){if(!this.config||!this.session)return{left:0,top:0};n||(n=this.session.selection.getCursor());var i=this.session.documentToScreenPosition(n),r=this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,n.row)?this.session.$bidiHandler.getPosLeft(i.column):i.column*this.config.characterWidth),u=(i.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:r,top:u}};this.update=function(n){var r,e,t,u,o;this.config=n;var i=this.session.$selectionMarkers,r=0,f=0;for((i===undefined||i.length===0)&&(i=[{cursor:null}]),r=0,e=i.length;r<e;r++)(t=this.getPixelPosition(i[r].cursor,!0),(t.top>n.height+n.offset||t.top<0)&&r>1)||(u=(this.cursors[f++]||this.addCursor()).style,this.drawCursor?this.drawCursor(u,t,n,i[r],this.session):(u.left=t.left+"px",u.top=t.top+"px",u.width=n.characterWidth+"px",u.height=n.lineHeight+"px"));while(this.cursors.length>f)this.removeCursor();o=this.session.getOverwrite();this.$setOverwrite(o);this.$pixelPos=t;this.restartTimer()};this.drawCursor=null;this.$setOverwrite=function(n){n!=this.overwrite&&(this.overwrite=n,n?i.addCssClass(this.element,"ace_overwrite-cursors"):i.removeCssClass(this.element,"ace_overwrite-cursors"))};this.destroy=function(){clearInterval(this.intervalId);clearTimeout(this.timeoutId)}}).call(u.prototype);t.Cursor=u});ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(n,t){"use strict";var f=n("./lib/oop"),e=n("./lib/dom"),o=n("./lib/event"),h=n("./lib/event_emitter").EventEmitter,s=32768,r=function(n){this.element=e.createElement("div");this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix;this.inner=e.createElement("div");this.inner.className="ace_scrollbar-inner";this.element.appendChild(this.inner);n.appendChild(this.element);this.setVisible(!1);this.skipEvent=!1;o.addListener(this.element,"scroll",this.onScroll.bind(this));o.addListener(this.element,"mousedown",o.preventDefault)},i,u;(function(){f.implement(this,h);this.setVisible=function(n){this.element.style.display=n?"":"none";this.isVisible=n;this.coeff=1}}).call(r.prototype);i=function(n,t){r.call(this,n);this.scrollTop=0;this.scrollHeight=0;t.$scrollbarWidth=this.width=e.scrollbarWidth(n.ownerDocument);this.inner.style.width=this.element.style.width=(this.width||15)+5+"px";this.$minWidth=0};f.inherits(i,r),function(){this.classSuffix="-v";this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var n=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-n)/(this.coeff-n)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1};this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)};this.setHeight=function(n){this.element.style.height=n+"px"};this.setInnerHeight=this.setScrollHeight=function(n){this.scrollHeight=n;n>s?(this.coeff=s/n,n=s):this.coeff!=1&&(this.coeff=1);this.inner.style.height=n+"px"};this.setScrollTop=function(n){this.scrollTop!=n&&(this.skipEvent=!0,this.scrollTop=n,this.element.scrollTop=n*this.coeff)}}.call(i.prototype);u=function(n,t){r.call(this,n);this.scrollLeft=0;this.height=t.$scrollbarWidth;this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};f.inherits(u,r),function(){this.classSuffix="-h";this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft}));this.skipEvent=!1};this.getHeight=function(){return this.isVisible?this.height:0};this.setWidth=function(n){this.element.style.width=n+"px"};this.setInnerWidth=function(n){this.inner.style.width=n+"px"};this.setScrollWidth=function(n){this.inner.style.width=n+"px"};this.setScrollLeft=function(n){this.scrollLeft!=n&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=n)}}.call(u.prototype);t.ScrollBar=i;t.ScrollBarV=i;t.ScrollBarH=u;t.VScrollBar=i;t.HScrollBar=u});ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(n,t){"use strict";var r=n("./lib/event"),i=function(n,t){this.onRender=n;this.pending=!1;this.changes=0;this.window=t||window};(function(){this.schedule=function(n){if(this.changes=this.changes|n,!this.pending&&this.changes){this.pending=!0;var t=this;r.nextFrame(function(){t.pending=!1;for(var n;n=t.changes;){t.changes=0;t.onRender(n)}},this.window)}}}).call(i.prototype);t.RenderLoop=i});ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(n,t){var f=n("../lib/oop"),r=n("../lib/dom"),u=n("../lib/lang"),e=n("../lib/useragent"),o=n("../lib/event_emitter").EventEmitter,i=0,s=t.FontMetrics=function(n){this.el=r.createElement("div");this.$setMeasureNodeStyles(this.el.style,!0);this.$main=r.createElement("div");this.$setMeasureNodeStyles(this.$main.style);this.$measureNode=r.createElement("div");this.$setMeasureNodeStyles(this.$measureNode.style);this.el.appendChild(this.$main);this.el.appendChild(this.$measureNode);n.appendChild(this.el);i||this.$testFractionalRect();this.$measureNode.innerHTML=u.stringRepeat("X",i);this.$characterSize={width:0,height:0};this.checkForSizeChanges()};(function(){f.implement(this,o);this.$characterSize={width:0,height:0};this.$testFractionalRect=function(){var n=r.createElement("div"),t;this.$setMeasureNodeStyles(n.style);n.style.width="0.2px";document.documentElement.appendChild(n);t=n.getBoundingClientRect().width;i=t>0&&t<1?50:100;n.parentNode.removeChild(n)};this.$setMeasureNodeStyles=function(n,t){n.width=n.height="auto";n.left=n.top="0px";n.visibility="hidden";n.position="absolute";n.whiteSpace="pre";e.isIE<8?n["font-family"]="inherit":n.font="inherit";n.overflow=t?"hidden":"visible"};this.checkForSizeChanges=function(){var n=this.$measureSizes(),t;n&&(this.$characterSize.width!==n.width||this.$characterSize.height!==n.height)&&(this.$measureNode.style.fontWeight="bold",t=this.$measureSizes(),this.$measureNode.style.fontWeight="",this.$characterSize=n,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===n.width&&t.height===n.height,this._emit("changeCharacterSize",{data:n}))};this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var n=this;return this.$pollSizeChangesTimer=setInterval(function(){n.checkForSizeChanges()},500)};this.setPolling=function(n){n?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)};this.$measureSizes=function(){var n,t;if(i===50){n=null;try{n=this.$measureNode.getBoundingClientRect()}catch(r){n={width:0,height:0}}t={height:n.height,width:n.width/i}}else t={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/i};return t.width===0||t.height===0?null:t};this.$measureCharWidth=function(n){this.$main.innerHTML=u.stringRepeat(n,i);var t=this.$main.getBoundingClientRect();return t.width/i};this.getCharacterWidth=function(n){var t=this.charSizes[n];return t===undefined&&(t=this.charSizes[n]=this.$measureCharWidth(n)/this.$characterSize.width),t};this.destroy=function(){clearInterval(this.$pollSizeChangesTimer);this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(s.prototype)});ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],function(n,t){"use strict";var e=n("./lib/oop"),i=n("./lib/dom"),r=n("./config"),o=n("./lib/useragent"),s=n("./layer/gutter").Gutter,f=n("./layer/marker").Marker,h=n("./layer/text").Text,c=n("./layer/cursor").Cursor,l=n("./scrollbar").HScrollBar,a=n("./scrollbar").VScrollBar,v=n("./renderloop").RenderLoop,y=n("./layer/font_metrics").FontMetrics,p=n("./lib/event_emitter").EventEmitter,u;i.importCssString('.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_text-input-ios {position: absolute !important;top: -100000px !important;left: -100000px !important;}',"ace_editor.css");u=function(n,t){var u=this,e;this.container=n||i.createElement("div");this.$keepTextAreaAtCursor=!o.isOldIE;i.addCssClass(this.container,"ace_editor");this.setTheme(t);this.$gutter=i.createElement("div");this.$gutter.className="ace_gutter";this.container.appendChild(this.$gutter);this.$gutter.setAttribute("aria-hidden",!0);this.scroller=i.createElement("div");this.scroller.className="ace_scroller";this.container.appendChild(this.scroller);this.content=i.createElement("div");this.content.className="ace_content";this.scroller.appendChild(this.content);this.$gutterLayer=new s(this.$gutter);this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this));this.$markerBack=new f(this.content);e=this.$textLayer=new h(this.content);this.canvas=e.element;this.$markerFront=new f(this.content);this.$cursorLayer=new c(this.content);this.$horizScroll=!1;this.$vScroll=!1;this.scrollBar=this.scrollBarV=new a(this.container,this);this.scrollBarH=new l(this.container,this);this.scrollBarV.addEventListener("scroll",function(n){u.$scrollAnimation||u.session.setScrollTop(n.data-u.scrollMargin.top)});this.scrollBarH.addEventListener("scroll",function(n){u.$scrollAnimation||u.session.setScrollLeft(n.data-u.scrollMargin.left)});this.scrollTop=0;this.scrollLeft=0;this.cursorPos={row:0,column:0};this.$fontMetrics=new y(this.container);this.$textLayer.$setFontMetrics(this.$fontMetrics);this.$textLayer.addEventListener("changeCharacterSize",function(n){u.updateCharacterSize();u.onResize(!0,u.gutterWidth,u.$size.width,u.$size.height);u._signal("changeCharacterSize",n)});this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0};this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1};this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0};this.$loop=new v(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView);this.$loop.schedule(this.CHANGE_FULL);this.updateCharacterSize();this.setPadding(4);r.resetOptions(this);r._emit("renderer",this)},function(){this.CHANGE_CURSOR=1;this.CHANGE_MARKER=2;this.CHANGE_GUTTER=4;this.CHANGE_SCROLL=8;this.CHANGE_LINES=16;this.CHANGE_TEXT=32;this.CHANGE_SIZE=64;this.CHANGE_MARKER_BACK=128;this.CHANGE_MARKER_FRONT=256;this.CHANGE_FULL=512;this.CHANGE_H_SCROLL=1024;e.implement(this,p);this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts));this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth();this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight();this.$updatePrintMargin()};this.setSession=function(n){if(this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=n,n&&this.scrollMargin.top&&n.getScrollTop()<=0&&n.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(n),this.$markerBack.setSession(n),this.$markerFront.setSession(n),this.$gutterLayer.setSession(n),this.$textLayer.setSession(n),n){this.$loop.schedule(this.CHANGE_FULL);this.session.$setFontMetrics(this.$fontMetrics);this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null;this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this);this.onChangeNewLineMode();this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode)}};this.updateLines=function(n,t,i){if(t===undefined&&(t=Infinity),this.$changedLines?(this.$changedLines.firstRow>n&&(this.$changedLines.firstRow=n),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:n,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow)if(i)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)};this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT);this.$textLayer.$updateEolChar();this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)};this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER);this.$textLayer.onChangeTabSize()};this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)};this.updateFull=function(n){n?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)};this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()};this.$changes=0;this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()};this.onResize=function(n,t,i,r){var u,f;if(!(this.resizing>2)){if(this.resizing>0?this.resizing++:this.resizing=n?1:0,u=this.container,r||(r=u.clientHeight||u.scrollHeight),i||(i=u.clientWidth||u.scrollWidth),f=this.$updateCachedSize(n,t,i,r),!this.$size.scrollerHeight||!i&&!r)return this.resizing=0;n&&(this.$gutterLayer.$padding=null);n?this.$renderChanges(f|this.$changes,!0):this.$loop.schedule(f|this.$changes);this.resizing&&(this.resizing=0);this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}};this.$updateCachedSize=function(n,t,i,r){r-=this.$extraHeight||0;var f=0,u=this.$size,e={width:u.width,height:u.height,scrollerHeight:u.scrollerHeight,scrollerWidth:u.scrollerWidth};return r&&(n||u.height!=r)&&(u.height=r,f|=this.CHANGE_SIZE,u.scrollerHeight=u.height,this.$horizScroll&&(u.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",f=f|this.CHANGE_SCROLL),i&&(n||u.width!=i)&&(f|=this.CHANGE_SIZE,u.width=i,t==null&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,this.scrollBarH.element.style.left=this.scroller.style.left=t+"px",u.scrollerWidth=Math.max(0,i-t-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||n)&&(f|=this.CHANGE_FULL)),u.$dirty=!i||!r,f&&this._signal("resize",e),f};this.onGutterResize=function(){var n=this.$showGutter?this.$gutter.offsetWidth:0;n!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,n,this.$size.width,this.$size.height));this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))};this.adjustWrapLimit=function(){var n=this.$size.scrollerWidth-this.$padding*2,t=Math.floor(n/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)};this.setAnimatedScroll=function(n){this.setOption("animatedScroll",n)};this.getAnimatedScroll=function(){return this.$animatedScroll};this.setShowInvisibles=function(n){this.setOption("showInvisibles",n);this.session.$bidiHandler.setShowInvisibles(n)};this.getShowInvisibles=function(){return this.getOption("showInvisibles")};this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")};this.setDisplayIndentGuides=function(n){this.setOption("displayIndentGuides",n)};this.setShowPrintMargin=function(n){this.setOption("showPrintMargin",n)};this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")};this.setPrintMarginColumn=function(n){this.setOption("printMarginColumn",n)};this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")};this.getShowGutter=function(){return this.getOption("showGutter")};this.setShowGutter=function(n){return this.setOption("showGutter",n)};this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")};this.setFadeFoldWidgets=function(n){this.setOption("fadeFoldWidgets",n)};this.setHighlightGutterLine=function(n){this.setOption("highlightGutterLine",n)};this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")};this.$updateGutterLineHighlight=function(){var t=this.$cursorLayer.$pixelPos,i=this.layerConfig.lineHeight,n;this.session.getUseWrapMode()&&(n=this.session.selection.getCursor(),n.column=0,t=this.$cursorLayer.getPixelPosition(n,!0),i*=this.session.getRowLength(n.row));this.$gutterLineHighlight.style.top=t.top-this.layerConfig.offset+"px";this.$gutterLineHighlight.style.height=i+"px"};this.$updatePrintMargin=function(){var n,t;(this.$showPrintMargin||this.$printMarginEl)&&(this.$printMarginEl||(n=i.createElement("div"),n.className="ace_layer ace_print-margin-layer",this.$printMarginEl=i.createElement("div"),this.$printMarginEl.className="ace_print-margin",n.appendChild(this.$printMarginEl),this.content.insertBefore(n,this.content.firstChild)),t=this.$printMarginEl.style,t.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit())};this.getContainerElement=function(){return this.container};this.getMouseEventTarget=function(){return this.scroller};this.getTextAreaContainer=function(){return this.container};this.$moveTextAreaToCursor=function(){var n,r,t,e;if(this.$keepTextAreaAtCursor){var f=this.layerConfig,u=this.$cursorLayer.$pixelPos.top,i=this.$cursorLayer.$pixelPos.left;if(u-=f.offset,n=this.textarea.style,r=this.lineHeight,u<0||u>f.height-r){n.top=n.left="0";return}t=this.characterWidth;this.$composition&&(e=this.textarea.value.replace(/^\x01+/,""),t*=this.session.$getStringScreenWidth(e)[0]+2,r+=2);i-=this.scrollLeft;i>this.$size.scrollerWidth-t&&(i=this.$size.scrollerWidth-t);i+=this.gutterWidth;n.height=r+"px";n.width=t+"px";n.left=Math.min(i,this.$size.scrollerWidth-t)+"px";n.top=Math.min(u,this.$size.height-r)+"px"}};this.getFirstVisibleRow=function(){return this.layerConfig.firstRow};this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)};this.getLastFullyVisibleRow=function(){var n=this.layerConfig,t=n.lastRow,i=this.session.documentToScreenRow(t,0)*n.lineHeight;return i-this.session.getScrollTop()>n.height-n.lineHeight?t-1:t};this.getLastVisibleRow=function(){return this.layerConfig.lastRow};this.$padding=null;this.setPadding=function(n){this.$padding=n;this.$textLayer.setPadding(n);this.$cursorLayer.setPadding(n);this.$markerFront.setPadding(n);this.$markerBack.setPadding(n);this.$loop.schedule(this.CHANGE_FULL);this.$updatePrintMargin()};this.setScrollMargin=function(n,t,i,r){var u=this.scrollMargin;u.top=n|0;u.bottom=t|0;u.right=r|0;u.left=i|0;u.v=u.top+u.bottom;u.h=u.left+u.right;u.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-u.top);this.updateFull()};this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible};this.setHScrollBarAlwaysVisible=function(n){this.setOption("hScrollBarAlwaysVisible",n)};this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible};this.setVScrollBarAlwaysVisible=function(n){this.setOption("vScrollBarAlwaysVisible",n)};this.$updateScrollBarV=function(){var n=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(n-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>n-t&&(n=this.scrollTop+t,this.scrollBarV.scrollTop=null));this.scrollBarV.setScrollHeight(n+this.scrollMargin.v);this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)};this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h);this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)};this.$frozen=!1;this.freeze=function(){this.$frozen=!0};this.unfreeze=function(){this.$frozen=!1};this.$renderChanges=function(n,t){var i,r;if(this.$changes&&(n|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!n&&!t){this.$changes|=n;return}if(this.$size.$dirty){this.$changes|=n;return this.onResize(!0)}if(this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender"),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics),i=this.layerConfig,(n&this.CHANGE_FULL||n&this.CHANGE_SIZE||n&this.CHANGE_TEXT||n&this.CHANGE_LINES||n&this.CHANGE_SCROLL||n&this.CHANGE_H_SCROLL)&&(n|=this.$computeLayerConfig(),i.firstRow!=this.layerConfig.firstRow&&i.firstRowScreen==this.layerConfig.firstRowScreen&&(r=this.scrollTop+(i.firstRow-this.layerConfig.firstRow)*this.lineHeight,r>0&&(this.scrollTop=r,n=n|this.CHANGE_SCROLL|this.$computeLayerConfig())),i=this.layerConfig,this.$updateScrollBarV(),n&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-i.offset+"px",this.content.style.marginTop=-i.offset+"px",this.content.style.width=i.width+2*this.$padding+"px",this.content.style.height=i.minHeight+"px"),n&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),n&this.CHANGE_FULL){this.$textLayer.update(i);this.$showGutter&&this.$gutterLayer.update(i);this.$markerBack.update(i);this.$markerFront.update(i);this.$cursorLayer.update(i);this.$moveTextAreaToCursor();this.$highlightGutterLine&&this.$updateGutterLineHighlight();this._signal("afterRender");return}if(n&this.CHANGE_SCROLL){n&this.CHANGE_TEXT||n&this.CHANGE_LINES?this.$textLayer.update(i):this.$textLayer.scrollLines(i);this.$showGutter&&this.$gutterLayer.update(i);this.$markerBack.update(i);this.$markerFront.update(i);this.$cursorLayer.update(i);this.$highlightGutterLine&&this.$updateGutterLineHighlight();this.$moveTextAreaToCursor();this._signal("afterRender");return}n&this.CHANGE_TEXT?(this.$textLayer.update(i),this.$showGutter&&this.$gutterLayer.update(i)):n&this.CHANGE_LINES?(this.$updateLines()||n&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(i):(n&this.CHANGE_TEXT||n&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(i);n&this.CHANGE_CURSOR&&(this.$cursorLayer.update(i),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight());n&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(i);n&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(i);this._signal("afterRender")};this.$autosize=function(){var i=this.session.getScreenLength()*this.lineHeight,r=this.$maxLines*this.lineHeight,n=Math.min(r,Math.max((this.$minLines||1)*this.lineHeight,i))+this.scrollMargin.v+(this.$extraHeight||0),t,u;this.$horizScroll&&(n+=this.scrollBarH.getHeight());this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);t=i>r;(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||t!=this.$vScroll)&&(t!=this.$vScroll&&(this.$vScroll=t,this.scrollBarV.setVisible(t)),u=this.container.clientWidth,this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,u,n),this.desiredHeight=n,this._signal("autosize"))};this.$computeLayerConfig=function(){var i=this.session,n=this.$size,w=n.height<=2*this.lineHeight,nt=this.session.getScreenLength(),e=nt*this.lineHeight,f=this.$getLongestLine(),a=!w&&(this.$hScrollBarAlwaysVisible||n.scrollerWidth-f-2*this.$padding<0),b=this.$horizScroll!==a,k,r,s,h,p,l;b&&(this.$horizScroll=a,this.scrollBarH.setVisible(a));k=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var o=this.scrollTop%this.lineHeight,v=n.scrollerHeight+this.lineHeight,d=!this.$maxLines&&this.$scrollPastEnd?(n.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;e+=d;r=this.scrollMargin;this.session.setScrollTop(Math.max(-r.top,Math.min(this.scrollTop,e-n.scrollerHeight+r.bottom)));this.session.setScrollLeft(Math.max(-r.left,Math.min(this.scrollLeft,f+2*this.$padding-n.scrollerWidth+r.right)));s=!w&&(this.$vScrollBarAlwaysVisible||n.scrollerHeight-e+d<0||this.scrollTop>r.top);h=k!==s;h&&(this.$vScroll=s,this.scrollBarV.setVisible(s));var tt=Math.ceil(v/this.lineHeight)-1,t=Math.max(0,Math.round((this.scrollTop-o)/this.lineHeight)),c=t+tt,y,g,u=this.lineHeight;return t=i.screenToDocumentRow(t,0),p=i.getFoldLine(t),p&&(t=p.start.row),y=i.documentToScreenRow(t,0),g=i.getRowLength(t)*u,c=Math.min(i.screenToDocumentRow(c,0),i.getLength()-1),v=n.scrollerHeight+i.getRowLength(c)*u+g,o=this.scrollTop-y*u,l=0,this.layerConfig.width!=f&&(l=this.CHANGE_H_SCROLL),(b||h)&&(l=this.$updateCachedSize(!0,this.gutterWidth,n.width,n.height),this._signal("scrollbarVisibilityChanged"),h&&(f=this.$getLongestLine())),this.layerConfig={width:f,padding:this.$padding,firstRow:t,firstRowScreen:y,lastRow:c,lineHeight:u,characterWidth:this.characterWidth,minHeight:v,maxHeight:e,offset:o,gutterOffset:u?Math.max(0,Math.ceil((o+n.height-n.scrollerHeight)/u)):0,height:this.$size.scrollerHeight},l};this.$updateLines=function(){var i,t,n;if(this.$changedLines&&(i=this.$changedLines.firstRow,t=this.$changedLines.lastRow,this.$changedLines=null,n=this.layerConfig,!(i>n.lastRow+1))&&!(t<n.firstRow)){if(t===Infinity){this.$showGutter&&this.$gutterLayer.update(n);this.$textLayer.update(n);return}return this.$textLayer.updateLines(n,i,t),!0}};this.$getLongestLine=function(){var n=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(n+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(n*this.characterWidth))};this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0));this.$loop.schedule(this.CHANGE_MARKER_FRONT)};this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers());this.$loop.schedule(this.CHANGE_MARKER_BACK)};this.addGutterDecoration=function(n,t){this.$gutterLayer.addGutterDecoration(n,t)};this.removeGutterDecoration=function(n,t){this.$gutterLayer.removeGutterDecoration(n,t)};this.updateBreakpoints=function(){this.$loop.schedule(this.CHANGE_GUTTER)};this.setAnnotations=function(n){this.$gutterLayer.setAnnotations(n);this.$loop.schedule(this.CHANGE_GUTTER)};this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)};this.hideCursor=function(){this.$cursorLayer.hideCursor()};this.showCursor=function(){this.$cursorLayer.showCursor()};this.scrollSelectionIntoView=function(n,t,i){this.scrollCursorIntoView(n,i);this.scrollCursorIntoView(t,i)};this.scrollCursorIntoView=function(n,t,i){var f;if(this.$size.scrollerHeight!==0){var o=this.$cursorLayer.getPixelPosition(n),u=o.left,r=o.top,s=i&&i.top||0,h=i&&i.bottom||0,e=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;e+s>r?(t&&e+s>r+this.lineHeight&&(r-=t*this.$size.scrollerHeight),r===0&&(r=-this.scrollMargin.top),this.session.setScrollTop(r)):e+this.$size.scrollerHeight-h<r+this.lineHeight&&(t&&e+this.$size.scrollerHeight-h<r-this.lineHeight&&(r+=t*this.$size.scrollerHeight),this.session.setScrollTop(r+this.lineHeight-this.$size.scrollerHeight));f=this.scrollLeft;f>u?(u<this.$padding+2*this.layerConfig.characterWidth&&(u=-this.scrollMargin.left),this.session.setScrollLeft(u)):f+this.$size.scrollerWidth<u+this.characterWidth?this.session.setScrollLeft(Math.round(u+this.characterWidth-this.$size.scrollerWidth)):f<=this.$padding&&u-f<this.characterWidth&&this.session.setScrollLeft(0)}};this.getScrollTop=function(){return this.session.getScrollTop()};this.getScrollLeft=function(){return this.session.getScrollLeft()};this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight};this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)};this.scrollToRow=function(n){this.session.setScrollTop(n*this.lineHeight)};this.alignCursor=function(n,t){typeof n=="number"&&(n={row:n,column:0});var r=this.$cursorLayer.getPixelPosition(n),u=this.$size.scrollerHeight-this.lineHeight,i=r.top-u*(t||0);return this.session.setScrollTop(i),i};this.STEPS=8;this.$calcSteps=function(n,t){for(var i=0,u=this.STEPS,r=[],f=function(n,t,i){return i*(Math.pow(n-1,3)+1)+t},i=0;i<u;++i)r.push(f(i/this.STEPS,n,t-n));return r};this.scrollToLine=function(n,t,i,r){var e=this.$cursorLayer.getPixelPosition({row:n,column:0}),u=e.top,f;t&&(u-=this.$size.scrollerHeight/2);f=this.scrollTop;this.session.setScrollTop(u);i!==!1&&this.animateScrolling(f,r)};this.animateScrolling=function(n,t){var r=this.scrollTop,i,f,u;this.$animatedScroll&&(i=this,n!=r)&&(this.$scrollAnimation&&(f=this.$scrollAnimation.steps,f.length&&(n=f[0],n==r))||(u=i.$calcSteps(n,r),this.$scrollAnimation={from:n,to:r,steps:u},clearInterval(this.$timer),i.session.setScrollTop(u.shift()),i.session.$scrollTop=r,this.$timer=setInterval(function(){u.length?(i.session.setScrollTop(u.shift()),i.session.$scrollTop=r):r!=null?(i.session.$scrollTop=-1,i.session.setScrollTop(r),r=null):(i.$timer=clearInterval(i.$timer),i.$scrollAnimation=null,t&&t())},10)))};this.scrollToY=function(n){this.scrollTop!==n&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=n)};this.scrollToX=function(n){this.scrollLeft!==n&&(this.scrollLeft=n);this.$loop.schedule(this.CHANGE_H_SCROLL)};this.scrollTo=function(n,t){this.session.setScrollTop(t);this.session.setScrollLeft(t)};this.scrollBy=function(n,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t);n&&this.session.setScrollLeft(this.session.getScrollLeft()+n)};this.isScrollableBy=function(n,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top?!0:t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom?!0:n<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left?!0:n>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right?!0:void 0};this.pixelToScreenCoordinates=function(n,t){var i=this.scroller.getBoundingClientRect(),r=n+this.scrollLeft-i.left-this.$padding,u=r/this.characterWidth,e=Math.floor((t+this.scrollTop-i.top)/this.lineHeight),f=Math.round(u);return{row:e,column:f,side:u-f>0?1:-1,offsetX:r}};this.screenToTextCoordinates=function(n,t){var i=this.scroller.getBoundingClientRect(),r=n+this.scrollLeft-i.left-this.$padding,u=Math.round(r/this.characterWidth),f=(t+this.scrollTop-i.top)/this.lineHeight;return this.session.screenToDocumentPosition(f,Math.max(u,0),r)};this.textToScreenCoordinates=function(n,t){var r=this.scroller.getBoundingClientRect(),i=this.session.documentToScreenPosition(n,t),u=this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,n)?this.session.$bidiHandler.getPosLeft(i.column):Math.round(i.column*this.characterWidth)),f=i.row*this.lineHeight;return{pageX:r.left+u-this.scrollLeft,pageY:r.top+f-this.scrollTop}};this.visualizeFocus=function(){i.addCssClass(this.container,"ace_focus")};this.visualizeBlur=function(){i.removeCssClass(this.container,"ace_focus")};this.showComposition=function(){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText});this.$keepTextAreaAtCursor=!0;i.addCssClass(this.textarea,"ace_composition");this.textarea.style.cssText="";this.$moveTextAreaToCursor()};this.setCompositionText=function(){this.$moveTextAreaToCursor()};this.hideComposition=function(){this.$composition&&(i.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)};this.setTheme=function(n,t){function e(r){if(u.$themeId!=n)return t&&t();if(!r||!r.cssClass)throw new Error("couldn't load module "+n+" or it didn't call define");i.importCssString(r.cssText,r.cssClass,u.container.ownerDocument);u.theme&&i.removeCssClass(u.container,u.theme.cssClass);var f="padding"in r?r.padding:"padding"in(u.theme||{})?4:u.$padding;u.$padding&&f!=u.$padding&&u.setPadding(f);u.$theme=r.cssClass;u.theme=r;i.addCssClass(u.container,r.cssClass);i.setCssClass(u.container,"ace_dark",r.isDark);u.$size&&(u.$size.width=0,u.$updateSizeAsync());u._dispatchEvent("themeLoaded",{theme:r});t&&t()}var u=this,f;this.$themeId=n;u._dispatchEvent("themeChange",{theme:n});n&&typeof n!="string"?e(n):(f=n||this.$options.theme.initialValue,r.loadModule(["theme",f],e))};this.getTheme=function(){return this.$themeId};this.setStyle=function(n,t){i.setCssClass(this.container,n,t!==!1)};this.unsetStyle=function(n){i.removeCssClass(this.container,n)};this.setCursorStyle=function(n){this.scroller.style.cursor!=n&&(this.scroller.style.cursor=n)};this.setMouseCursor=function(n){this.scroller.style.cursor=n};this.destroy=function(){this.$textLayer.destroy();this.$cursorLayer.destroy()}}.call(u.prototype);r.defineOptions(u.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(n){this.$textLayer.setShowInvisibles(n)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(n){typeof n=="number"&&(this.$printMarginColumn=n);this.$showPrintMargin=!!n;this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(n){this.$gutter.style.display=n?"block":"none";this.$loop.schedule(this.CHANGE_FULL);this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(n){i.setCssClass(this.$gutter,"ace_fade-fold-widgets",n)},initialValue:!1},showFoldWidgets:{set:function(n){this.$gutterLayer.setShowFoldWidgets(n)},initialValue:!0},showLineNumbers:{set:function(n){this.$gutterLayer.setShowLineNumbers(n);this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(n){this.$textLayer.setDisplayIndentGuides(n)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(n){if(!this.$gutterLineHighlight){this.$gutterLineHighlight=i.createElement("div");this.$gutterLineHighlight.className="ace_gutter-active-line";this.$gutter.appendChild(this.$gutterLineHighlight);return}this.$gutterLineHighlight.style.display=n?"":"none";this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight()},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(n){typeof n=="number"&&(n=n+"px");this.container.style.fontSize=n;this.updateFontSize()},initialValue:12},fontFamily:{set:function(n){this.container.style.fontFamily=n;this.updateFontSize()}},maxLines:{set:function(){this.updateFull()}},minLines:{set:function(){this.updateFull()}},maxPixelHeight:{set:function(){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(n){(n=+n||0,this.$scrollPastEnd!=n)&&(this.$scrollPastEnd=n,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(n){this.$gutterLayer.$fixedWidth=!!n;this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(n){this.setTheme(n)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}});t.VirtualRenderer=u});ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(n,t){"use strict";function h(n,t){var r=t.src,u,i;"importScripts('"+f.qualifyURL(n)+"');";try{return new Blob([r],{type:"application/javascript"})}catch(e){return u=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,i=new u,i.append(r),i.getBlob("application/javascript")}}function o(n,t){var i=h(n,t),r=window.URL||window.webkitURL,u=r.createObjectURL(i);return new Worker(u)}var s=n("../lib/oop"),f=n("../lib/net"),e=n("../lib/event_emitter").EventEmitter,i=n("../config"),r=function(t,r,u,f,e){var s,h;this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this);this.changeListener=this.changeListener.bind(this);this.onMessage=this.onMessage.bind(this);n.nameToUrl&&!n.toUrl&&(n.toUrl=n.nameToUrl);i.get("packaged")||!n.toUrl?f=f||i.moduleUrl(r.id,"worker"):(s=this.$normalizePath,f=f||s(n.toUrl("ace/worker/worker.js",null,"_")),h={},t.forEach(function(t){h[t]=s(n.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))}));this.$worker=o(f,r);e&&this.send("importScripts",e);this.$worker.postMessage({init:!0,tlns:h,module:r.id,classname:u});this.callbackId=1;this.callbacks={};this.$worker.onmessage=this.onMessage},u;(function(){s.implement(this,e);this.onMessage=function(n){var t=n.data,i;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":i=this.callbacks[t.id];i&&(i(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}};this.reportError=function(n){window.console&&console.error&&console.error(n)};this.$normalizePath=function(n){return f.qualifyURL(n)};this.terminate=function(){this._signal("terminate",{});this.deltaQueue=null;this.$worker.terminate();this.$worker=null;this.$doc&&this.$doc.off("change",this.changeListener);this.$doc=null};this.send=function(n,t){this.$worker.postMessage({command:n,args:t})};this.call=function(n,t,i){if(i){var r=this.callbackId++;this.callbacks[r]=i;t.push(r)}this.send(n,t)};this.emit=function(n,t){try{this.$worker.postMessage({event:n,data:{data:t.data}})}catch(i){console.error(i.stack)}};this.attachToDocument=function(n){this.$doc&&this.terminate();this.$doc=n;this.call("setValue",[n.getValue()]);n.on("change",this.changeListener)};this.changeListener=function(n){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0));n.action=="insert"?this.deltaQueue.push(n.start,n.lines):this.deltaQueue.push(n.start,n.end)};this.$sendDeltaQueue=function(){var n=this.deltaQueue;n&&(this.deltaQueue=null,n.length>50&&n.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:n}))}}).call(r.prototype);u=function(n,t,r){var s;this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this);this.changeListener=this.changeListener.bind(this);this.callbackId=1;this.callbacks={};this.messageBuffer=[];var f=null,h=!1,u=Object.create(e),o=this;this.$worker={};this.$worker.terminate=function(){};this.$worker.postMessage=function(n){o.messageBuffer.push(n);f&&(h?setTimeout(s):s())};this.setEmitSync=function(n){h=n};s=function(){var n=o.messageBuffer.shift();n.command?f[n.command].apply(f,n.args):n.event&&u._signal(n.event,n.data)};u.postMessage=function(n){o.onMessage({data:n})};u.callback=function(n,t){this.postMessage({type:"call",id:t,data:n})};u.emit=function(n,t){this.postMessage({type:"event",name:n,data:t})};i.loadModule(["worker",t],function(n){for(f=new n[r](u);o.messageBuffer.length;)s()})};u.prototype=r.prototype;t.UIWorkerClient=u;t.WorkerClient=r;t.createWorker=o});ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(n,t){"use strict";var i=n("./range").Range,u=n("./lib/event_emitter").EventEmitter,f=n("./lib/oop"),r=function(n,t,i,r,u,f){var o=this,e;this.length=t;this.session=n;this.doc=n.getDocument();this.mainClass=u;this.othersClass=f;this.$onUpdate=this.onUpdate.bind(this);this.doc.on("change",this.$onUpdate);this.$others=r;this.$onCursorChange=function(){setTimeout(function(){o.onCursorChange()})};this.$pos=i;e=n.getUndoManager().$undoStack||n.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=e.length;this.setup();n.selection.on("changeCursor",this.$onCursorChange)};(function(){f.implement(this,u);this.setup=function(){var u=this,r=this.doc,t=this.session,n;this.selectionBefore=t.selection.toJSON();t.selection.inMultiSelectMode&&t.selection.toSingleRange();this.pos=r.createAnchor(this.$pos.row,this.$pos.column);n=this.pos;n.$insertRight=!0;n.detach();n.markerId=t.addMarker(new i(n.row,n.column,n.row,n.column+this.length),this.mainClass,null,!1);this.others=[];this.$others.forEach(function(n){var t=r.createAnchor(n.row,n.column);t.$insertRight=!0;t.detach();u.others.push(t)});t.setUndoSelect(!1)};this.showOtherMarkers=function(){if(!this.othersActive){var t=this.session,n=this;this.othersActive=!0;this.others.forEach(function(r){r.markerId=t.addMarker(new i(r.row,r.column,r.row,r.column+n.length),n.othersClass,null,!1)})}};this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var n=0;n<this.others.length;n++)this.session.removeMarker(this.others[n].markerId)}};this.onUpdate=function(n){var t,r,f,u;if(this.$updating)return this.updateAnchors(n);if((t=n,t.start.row===t.end.row)&&t.start.row===this.pos.row){this.$updating=!0;var e=n.action==="insert"?t.end.column-t.start.column:t.start.column-t.end.column,o=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,s=t.start.column-this.pos.column;if(this.updateAnchors(n),o&&(this.length+=e),o&&!this.session.$fromUndo)if(n.action==="insert")for(r=this.others.length-1;r>=0;r--)f=this.others[r],u={row:f.row,column:f.column+s},this.doc.insertMergedLines(u,n.lines);else if(n.action==="remove")for(r=this.others.length-1;r>=0;r--)f=this.others[r],u={row:f.row,column:f.column+s},this.doc.remove(new i(u.row,u.column,u.row,u.column-e));this.$updating=!1;this.updateMarkers()}};this.updateAnchors=function(n){this.pos.onChange(n);for(var t=this.others.length;t--;)this.others[t].onChange(n);this.updateMarkers()};this.updateMarkers=function(){var n;if(!this.$updating){var u=this,t=this.session,r=function(n,r){t.removeMarker(n.markerId);n.markerId=t.addMarker(new i(n.row,n.column,n.row,n.column+u.length),r,null,!1)};for(r(this.pos,this.mainClass),n=this.others.length;n--;)r(this.others[n],this.othersClass)}};this.onCursorChange=function(n){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",n)):(this.hideOtherMarkers(),this._emit("cursorLeave",n))}};this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId);this.hideOtherMarkers();this.doc.removeEventListener("change",this.$onUpdate);this.session.selection.removeEventListener("changeCursor",this.$onCursorChange);this.session.setUndoSelect(!0);this.session=null};this.cancel=function(){var n,i,t;if(this.$undoStackDepth!==-1){for(n=this.session.getUndoManager(),i=(n.$undoStack||n.$undostack).length-this.$undoStackDepth,t=0;t<i;t++)n.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(r.prototype);t.PlaceHolder=r});ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(n,t){function i(n,t){return n.row==t.row&&n.column==t.column}function f(n){var c=n.domEvent,h=c.altKey,l=c.shiftKey,k=c.ctrlKey,a=n.getAccelKey(),p=n.getButton(),o,b,y,e,rt,ut,ft,et;if(k&&r.isMac&&(p=c.button),n.editor.inMultiSelectMode&&p==2){n.editor.textInput.onContextMenu(n.domEvent);return}if(!k&&!h&&!a){p===0&&n.editor.inMultiSelectMode&&n.editor.exitMultiSelectMode();return}if(p===0){var t=n.editor,f=t.selection,v=t.inMultiSelectMode,d=n.getDocumentPosition(),ot=f.getCursor(),st=n.inSelection()||f.isEmpty()&&i(d,ot),g=n.x,nt=n.y,ht=function(n){g=n.clientX;nt=n.clientY},it=t.session,tt=t.renderer.pixelToScreenCoordinates(g,nt),w=tt,s;if(t.$mouseHandler.$enableJumpToDef)k&&h||a&&h?s=l?"block":"add":h&&t.$blockSelectEnabled&&(s="block");else if(a&&!h){if(s="add",!v&&l)return}else h&&t.$blockSelectEnabled&&(s="block");if(s&&r.isMac&&c.ctrlKey&&t.$mouseHandler.cancelContextMenu(),s=="add"){if(!v&&st)return;v||(o=f.toOrientedRange(),t.addSelectionMarker(o));b=f.rangeList.rangeAtPoint(d);t.$blockScrolling++;t.inVirtualSelectionMode=!0;l&&(b=null,o=f.ranges[0]||o,t.removeSelectionMarker(o));t.once("mouseup",function(){var n=f.toOrientedRange();b&&n.isEmpty()&&i(b.cursor,n.cursor)?f.substractPoint(n.cursor):(l?f.substractPoint(o.cursor):o&&(t.removeSelectionMarker(o),f.addRange(o)),f.addRange(n));t.$blockScrolling--;t.inVirtualSelectionMode=!1})}else if(s=="block")return n.stop(),t.inVirtualSelectionMode=!0,e=[],rt=function(){var n=t.renderer.pixelToScreenCoordinates(g,nt),r=it.screenToDocumentPosition(n.row,n.column,n.offsetX);i(w,n)&&i(r,f.lead)||(w=n,t.$blockScrolling++,t.selection.moveToPosition(r),t.renderer.scrollCursorIntoView(),t.removeSelectionMarkers(e),e=f.rectangularRangeBlock(w,tt),t.$mouseHandler.$clickSelection&&e.length==1&&e[0].isEmpty()&&(e[0]=t.$mouseHandler.$clickSelection.clone()),e.forEach(t.addSelectionMarker,t),t.updateSelectionMarkers(),t.$blockScrolling--)},t.$blockScrolling++,v&&!a?f.toSingleRange():!v&&a&&(y=f.toOrientedRange(),t.addSelectionMarker(y)),l?tt=it.documentToScreenPosition(f.lead):f.moveToPosition(d),t.$blockScrolling--,w={row:-1,column:-1},ut=function(){clearInterval(et);t.removeSelectionMarkers(e);e.length||(e=[f.toOrientedRange()]);t.$blockScrolling++;y&&(t.removeSelectionMarker(y),f.toSingleRange(y));for(var n=0;n<e.length;n++)f.addRange(e[n]);t.inVirtualSelectionMode=!1;t.$mouseHandler.$clickSelection=null;t.$blockScrolling--},ft=rt,u.capture(t.container,ht,ut),et=setInterval(function(){ft()},20),n.preventDefault()}}var u=n("../lib/event"),r=n("../lib/useragent");t.onMouseDown=f});ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(n,t){t.defaultCommands=[{name:"addCursorAbove",exec:function(n){n.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(n){n.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(n){n.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(n){n.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(n){n.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(n){n.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(n){n.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(n){n.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(n){n.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",exec:function(n){n.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(n){n.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}];t.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(n){n.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(n){return n&&n.inMultiSelectMode}}];var i=n("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new i(t.multiSelectCommands)});ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(n,t){function y(n,t,i){return u.$options.wrap=!0,u.$options.needle=t,u.$options.backwards=i==-1,u.find(n)}function p(n,t){return n.row==t.row&&n.column==t.column}function a(n){if(!n.$multiselectOnSessionChange){n.$onAddRange=n.$onAddRange.bind(n);n.$onRemoveRange=n.$onRemoveRange.bind(n);n.$onMultiSelect=n.$onMultiSelect.bind(n);n.$onSingleSelect=n.$onSingleSelect.bind(n);n.$multiselectOnSessionChange=t.onSessionChange.bind(n);n.$checkMultiselectChange=n.$checkMultiselectChange.bind(n);n.$multiselectOnSessionChange(n);n.on("changeSession",n.$multiselectOnSessionChange);n.on("mousedown",f);n.commands.addCommands(r.defaultCommands);w(n)}}function w(n){function r(){t&&(n.renderer.setMouseCursor(""),t=!1)}var i=n.textInput.getElement(),t=!1;e.addListener(i,"keydown",function(i){var u=i.keyCode==18&&!(i.ctrlKey||i.shiftKey||i.metaKey);n.$blockSelectEnabled&&u?t||(n.renderer.setMouseCursor("crosshair"),t=!0):t&&r()});e.addListener(i,"keyup",r);e.addListener(i,"blur",r)}var v=n("./range_list").RangeList,i=n("./range").Range,s=n("./selection").Selection,f=n("./mouse/multi_select_handler").onMouseDown,e=n("./lib/event"),h=n("./lib/lang"),r=n("./commands/multi_select_commands"),c,u,l,o;t.commands=r.defaultCommands.concat(r.multiSelectCommands);c=n("./search").Search;u=new c;l=n("./edit_session").EditSession,function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}.call(l.prototype),function(){this.ranges=null;this.rangeList=null;this.addRange=function(n,t){var i,r;if(n){if(!this.inMultiSelectMode&&this.rangeCount===0){if(i=this.toOrientedRange(),this.rangeList.add(i),this.rangeList.add(n),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),t||this.fromOrientedRange(n);this.rangeList.removeAll();this.rangeList.add(i);this.$onAddRange(i)}return n.cursor||(n.cursor=n.end),r=this.rangeList.add(n),this.$onAddRange(n),r.length&&this.$onRemoveRange(r),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(n)}};this.toSingleRange=function(n){n=n||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t);n&&this.fromOrientedRange(n)};this.substractPoint=function(n){var t=this.rangeList.substractPoint(n);if(t)return this.$onRemoveRange(t),t[0]};this.mergeOverlappingRanges=function(){var n=this.rangeList.merge();n.length?this.$onRemoveRange(n):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])};this.$onAddRange=function(n){this.rangeCount=this.rangeList.ranges.length;this.ranges.unshift(n);this._signal("addRange",{range:n})};this.$onRemoveRange=function(n){var t,i,r;for(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode&&(t=this.rangeList.ranges.pop(),n.push(t),this.rangeCount=0),i=n.length;i--;)r=this.ranges.indexOf(n[i]),this.ranges.splice(r,1);this._signal("removeRange",{ranges:n});this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session));t=t||this.ranges[0];t&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)};this.$initRangeList=function(){this.rangeList||(this.rangeList=new v,this.ranges=[],this.rangeCount=0)};this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]};this.splitIntoLines=function(){var u,f,r,t,e;if(this.rangeCount>1){var o=this.rangeList.ranges,s=o[o.length-1],n=i.fromPoints(o[0].start,s.end);this.toSingleRange();this.setSelectionRange(n,s.cursor==s.start)}else{var n=this.getRange(),l=this.isBackwards(),h=n.start.row,c=n.end.row;if(h==c){l?(u=n.end,f=n.start):(u=n.start,f=n.end);this.addRange(i.fromPoints(f,f));this.addRange(i.fromPoints(u,u));return}for(r=[],t=this.getLineRange(h,!0),t.start.column=n.start.column,r.push(t),e=h+1;e<c;e++)r.push(this.getLineRange(e,!0));t=this.getLineRange(c,!0);t.end.column=n.end.column;r.push(t);r.forEach(this.addRange,this)}};this.toggleBlockSelection=function(){if(this.rangeCount>1){var n=this.rangeList.ranges,t=n[n.length-1],r=i.fromPoints(n[0].start,t.end);this.toSingleRange();this.setSelectionRange(r,t.cursor==t.start)}else{var u=this.session.documentToScreenPosition(this.selectionLead),f=this.session.documentToScreenPosition(this.selectionAnchor),e=this.rectangularRangeBlock(u,f);e.forEach(this.addRange,this)}};this.rectangularRangeBlock=function(n,t,r){var u=[],w=n.column<t.column,v,e,c,s,f,y,o,l,h;if(w)var a=n.column,b=t.column,k=n.offsetX,d=t.offsetX;else var a=t.column,b=n.column,k=t.offsetX,d=n.offsetX;for(v=n.row<t.row,v?(e=n.row,c=t.row):(e=t.row,c=n.row),a<0&&(a=0),e<0&&(e=0),e==c&&(r=!0),s=e;s<=c;s++){if(f=i.fromPoints(this.session.screenToDocumentPosition(s,a,k),this.session.screenToDocumentPosition(s,b,d)),f.isEmpty()){if(y&&p(f.end,y))break;y=f.end}f.cursor=w?f.start:f.end;u.push(f)}if(v&&u.reverse(),!r){for(o=u.length-1;u[o].isEmpty()&&o>0;)o--;if(o>0)for(l=0;u[l].isEmpty();)l++;for(h=o;h>=l;h--)u[h].isEmpty()&&u.splice(h,1)}return u}}.call(s.prototype);o=n("./editor").Editor,function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.addSelectionMarker=function(n){n.cursor||(n.cursor=n.end);var t=this.getSelectionStyle();return n.marker=this.session.addMarker(n,"ace_selection",t),this.session.$selectionMarkers.push(n),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,n};this.removeSelectionMarker=function(n){if(n.marker){this.session.removeMarker(n.marker);var t=this.session.$selectionMarkers.indexOf(n);t!=-1&&this.session.$selectionMarkers.splice(t,1);this.session.selectionMarkerCount=this.session.$selectionMarkers.length}};this.removeSelectionMarkers=function(n){for(var t,r,i=this.session.$selectionMarkers,u=n.length;u--;)(t=n[u],t.marker)&&(this.session.removeMarker(t.marker),r=i.indexOf(t),r!=-1&&i.splice(r,1));this.session.selectionMarkerCount=i.length};this.$onAddRange=function(n){this.addSelectionMarker(n.range);this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.$onRemoveRange=function(n){this.removeSelectionMarkers(n.ranges);this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.$onMultiSelect=function(){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(r.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())};this.$onSingleSelect=function(){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(r.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))};this.$onMultiSelectExec=function(n){var i=n.command,t=n.editor,r;if(t.multiSelect)return i.multiSelectAction?i.multiSelectAction=="forEach"?r=t.forEachSelection(i,n.args):i.multiSelectAction=="forEachLine"?r=t.forEachSelection(i,n.args,!0):i.multiSelectAction=="single"?(t.exitMultiSelectMode(),r=i.exec(t,n.args||{})):r=i.multiSelectAction(t,n.args||{}):(r=i.exec(t,n.args||{}),t.multiSelect.addRange(t.multiSelect.toOrientedRange()),t.multiSelect.mergeOverlappingRanges()),r};this.forEachSelection=function(n,t,i){var a,e,r,l,o;if(!this.inVirtualSelectionMode){var v=i&&i.keepOrder,y=i==!0||i&&i.$byLines,h=this.session,u=this.selection,p=u.rangeList,f=(v?u:p).ranges,c;if(!f.length)return n.exec?n.exec(this,t||{}):n(this,t||{});for(a=u._eventRegistry,u._eventRegistry={},e=new s(h),this.inVirtualSelectionMode=!0,r=f.length;r--;){if(y)while(r>0&&f[r].start.row==f[r-1].end.row)r--;e.fromOrientedRange(f[r]);e.index=r;this.selection=h.selection=e;l=n.exec?n.exec(this,t||{}):n(this,t||{});c||l===undefined||(c=l);e.toOrientedRange(f[r])}return e.detach(),this.selection=h.selection=u,this.inVirtualSelectionMode=!1,u._eventRegistry=a,u.mergeOverlappingRanges(),o=this.renderer.$scrollAnimation,this.onCursorChange(),this.onSelectionChange(),o&&o.from==o.to&&this.renderer.animateScrolling(o.from),c}};this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()};this.getSelectedText=function(){var n="",r,t,i,u;if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(r=this.multiSelect.rangeList.ranges,t=[],i=0;i<r.length;i++)t.push(this.session.getTextRange(r[i]));u=this.session.getDocument().getNewLineCharacter();n=t.join(u);n.length==(t.length-1)*u.length&&(n="")}else this.selection.isEmpty()||(n=this.session.getTextRange(this.getSelectionRange()));return n};this.$checkMultiselectChange=function(n,t){var i,r;if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){if(i=this.multiSelect.ranges[0],this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;r=t==this.multiSelect.anchor?i.cursor==i.start?i.end:i.start:i.cursor;(r.row!=t.row||this.session.$clipPositionToDocument(r.row,r.column).column!=t.column)&&this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}};this.findAll=function(n,t,i){var u,r,f,e;if(t=t||{},t.needle=n||t.needle,t.needle==undefined&&(u=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange(),t.needle=this.session.getTextRange(u)),this.$search.set(t),r=this.$search.findAll(this.session),!r.length)return 0;for(this.$blockScrolling+=1,f=this.multiSelect,i||f.toSingleRange(r[0]),e=r.length;e--;)f.addRange(r[e],!0);return u&&f.rangeList.rangeAtPoint(u.start)&&f.addRange(u,!0),this.$blockScrolling-=1,r.length};this.selectMoreLines=function(n,t){var r=this.selection.toOrientedRange(),c=r.cursor==r.end,f=this.session.documentToScreenPosition(r.cursor),e,s,o,u,h;this.selection.$desiredColumn&&(f.column=this.selection.$desiredColumn);e=this.session.screenToDocumentPosition(f.row+n,f.column);r.isEmpty()?o=e:(s=this.session.documentToScreenPosition(c?r.end:r.start),o=this.session.screenToDocumentPosition(s.row+n,s.column));c?(u=i.fromPoints(e,o),u.cursor=u.start):(u=i.fromPoints(o,e),u.cursor=u.end);u.desiredColumn=f.column;this.selection.inMultiSelectMode?t&&(h=r.cursor):this.selection.addRange(r);this.selection.addRange(u);h&&this.selection.substractPoint(h)};this.transposeSelections=function(n){for(var u,t,r,e=this.session,o=e.multiSelect,f=o.ranges,i=f.length;i--;)t=f[i],t.isEmpty()&&(r=e.getWordRange(t.start.row,t.start.column),t.start.row=r.start.row,t.start.column=r.start.column,t.end.row=r.end.row,t.end.column=r.end.column);for(o.mergeOverlappingRanges(),u=[],i=f.length;i--;)t=f[i],u.unshift(e.getTextRange(t));for(n<0?u.unshift(u.pop()):u.push(u.shift()),i=f.length;i--;)t=f[i],r=t.clone(),e.replace(t,u[i]),t.start.row=r.start.row,t.start.column=r.start.column};this.selectMore=function(n,t,i){var f=this.session,o=f.multiSelect,r=o.toOrientedRange(),e,u;r.isEmpty()&&(r=f.getWordRange(r.start.row,r.start.column),r.cursor=n==-1?r.start:r.end,this.multiSelect.addRange(r),i)||(e=f.getTextRange(r),u=y(f,e,n),u&&(u.cursor=n==-1?u.start:u.end,this.$blockScrolling+=1,this.session.unfold(u),this.multiSelect.addRange(u),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(r.cursor))};this.alignCursors=function(){var e=this.session,l=e.multiSelect,t=l.ranges,y=-1,p=t.filter(function(n){if(n.cursor.row==y)return!0;y=n.cursor.row}),o,s,u;if(t.length&&p.length!=t.length-1){p.forEach(function(n){l.substractPoint(n.cursor)});var c=0,v=Infinity,w=t.map(function(n){var i=n.cursor,r=e.getLine(i.row),t=r.substr(i.column).search(/\S/g);return t==-1&&(t=0),i.column>c&&(c=i.column),t<v&&(v=t),t});t.forEach(function(n,t){var r=n.cursor,u=c-r.column,f=w[t]-v;u>f?e.insert(r,h.stringRepeat(" ",u-f)):e.remove(new i(r.row,r.column,r.row,r.column-u+f));n.start.column=n.end.column=c;n.start.row=n.end.row=r.row;n.cursor=n.end});l.fromOrientedRange(t[0]);this.renderer.updateCursor();this.renderer.updateBackMarkers()}else{var f=this.selection.getRange(),n=f.start.row,r=f.end.row,a=n==r;if(a){o=this.session.getLength();do s=this.session.getLine(r);while(/[=:]/.test(s)&&++r<o);do s=this.session.getLine(n);while(/[=:]/.test(s)&&--n>0);n<0&&(n=0);r>=o&&(r=o-1)}u=this.session.removeFullLines(n,r);u=this.$reAlignText(u,a);this.session.insert({row:n,column:0},u.join("\n")+"\n");a||(f.start.column=0,f.end.column=u[u.length-1].length);this.selection.setRange(f)}};this.$reAlignText=function(n,t){function f(n){return h.stringRepeat(" ",n)}function s(n){return n[2]?f(i)+n[2]+f(u-n[2].length+r)+n[4].replace(/^([=:])\s+/,"$1 "):n[0]}function c(n){return n[2]?f(i+u-n[2].length)+n[2]+f(r," ")+n[4].replace(/^([=:])\s+/,"$1 "):n[0]}function l(n){return n[2]?f(i)+n[2]+f(r)+n[4].replace(/^([=:])\s+/,"$1 "):n[0]}var e=!0,o=!0,i,u,r;return n.map(function(n){var t=n.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?i==null?(i=t[1].length,u=t[2].length,r=t[3].length,t):(i+u+r!=t[1].length+t[2].length+t[3].length&&(o=!1),i!=t[1].length&&(e=!1),i>t[1].length&&(i=t[1].length),u<t[2].length&&(u=t[2].length),r>t[3].length&&(r=t[3].length),t):[n]}).map(t?s:e?o?c:s:l)}}.call(o.prototype);t.onSessionChange=function(n){var t=n.session,i;if(t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect,i=n.oldSession,i&&(i.multiSelect.off("addRange",this.$onAddRange),i.multiSelect.off("removeRange",this.$onRemoveRange),i.multiSelect.off("multiSelect",this.$onMultiSelect),i.multiSelect.off("singleSelect",this.$onSingleSelect),i.multiSelect.lead.off("change",this.$checkMultiselectChange),i.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t){t.multiSelect.on("addRange",this.$onAddRange);t.multiSelect.on("removeRange",this.$onRemoveRange);t.multiSelect.on("multiSelect",this.$onMultiSelect);t.multiSelect.on("singleSelect",this.$onSingleSelect);t.multiSelect.lead.on("change",this.$checkMultiselectChange);t.multiSelect.anchor.on("change",this.$checkMultiselectChange)}t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};t.MultiSelect=a;n("./config").defineOptions(o.prototype,"editor",{enableMultiselect:{set:function(n){if(a(this),n){this.on("changeSession",this.$multiselectOnSessionChange);this.on("mousedown",f)}else this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",f)},value:!0},enableBlockSelect:{set:function(n){this.$blockSelectEnabled=n},value:!0}})});ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(n,t){"use strict";var i=n("../../range").Range,r=t.FoldMode=function(){};(function(){this.foldingStartMarker=null;this.foldingStopMarker=null;this.getFoldWidget=function(n,t,i){var r=n.getLine(i);return this.foldingStartMarker.test(r)?"start":t=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(r)?"end":""};this.getFoldWidgetRange=function(){return null};this.indentationBlock=function(n,t,r){var e=/\S/,o=n.getLine(t),s=o.search(e),f,c;if(s!=-1){for(var l=r||o.length,a=n.getLength(),h=t,u=t;++t<a;)if(f=n.getLine(t).search(e),f!=-1){if(f<=s)break;u=t}if(u>h)return c=n.getLine(u).length,new i(h,l,u,c)}};this.openingBracketBlock=function(n,t,r,u,f){var s={row:r,column:u+1},e=n.$findClosingBracket(t,s,f),o;if(e)return o=n.foldWidgets[e.row],o==null&&(o=n.getFoldWidget(e.row)),o=="start"&&e.row>s.row&&(e.row--,e.column=n.getLine(e.row).length),i.fromPoints(s,e)};this.closingBracketBlock=function(n,t,r,u){var f={row:r,column:u},e=n.$findOpeningBracket(t,f);if(e)return e.column++,f.column--,i.fromPoints(e,f)}}).call(r.prototype)});ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(n,t){"use strict";t.isDark=!1;t.cssClass="ace-tm";t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';var i=n("../lib/dom");i.importCssString(t.cssText,t.cssClass)});ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(n,t){"use strict";function r(n){this.session=n;this.session.widgetManager=this;this.session.getRowLength=this.getRowLength;this.session.$getWidgetScreenLength=this.$getWidgetScreenLength;this.updateOnChange=this.updateOnChange.bind(this);this.renderWidgets=this.renderWidgets.bind(this);this.measureWidgets=this.measureWidgets.bind(this);this.session._changedWidgets=[];this.$onChangeEditor=this.$onChangeEditor.bind(this);this.session.on("change",this.updateOnChange);this.session.on("changeFold",this.updateOnFold);this.session.on("changeEditor",this.$onChangeEditor)}var u=n("./lib/oop"),i=n("./lib/dom"),f=n("./range").Range;(function(){this.getRowLength=function(n){var t;return t=this.lineWidgets?this.lineWidgets[n]&&this.lineWidgets[n].rowCount||0:0,this.$useWrapMode&&this.$wrapData[n]?this.$wrapData[n].length+1+t:1+t};this.$getWidgetScreenLength=function(){var n=0;return this.lineWidgets.forEach(function(t){t&&t.rowCount&&!t.hidden&&(n+=t.rowCount)}),n};this.$onChangeEditor=function(n){this.attach(n.editor)};this.attach=function(n){if((n&&n.widgetManager&&n.widgetManager!=this&&n.widgetManager.detach(),this.editor!=n)&&(this.detach(),this.editor=n,n)){n.widgetManager=this;n.renderer.on("beforeRender",this.measureWidgets);n.renderer.on("afterRender",this.renderWidgets)}};this.detach=function(){var n=this.editor,t;n&&(this.editor=null,n.widgetManager=null,n.renderer.off("beforeRender",this.measureWidgets),n.renderer.off("afterRender",this.renderWidgets),t=this.session.lineWidgets,t&&t.forEach(function(n){n&&n.el&&n.el.parentNode&&(n._inDocument=!1,n.el.parentNode.removeChild(n.el))}))};this.updateOnFold=function(n,t){var i=t.lineWidgets,f;if(i&&n.action){var o=n.data,u=o.start.row,r=o.end.row,e=n.action=="add";for(f=u+1;f<r;f++)i[f]&&(i[f].hidden=e);i[r]&&(e?i[u]?i[r].hidden=e:i[u]=i[r]:(i[u]==i[r]&&(i[u]=undefined),i[r].hidden=e))}};this.updateOnChange=function(n){var t=this.session.lineWidgets,i,r,f,u;t&&(i=n.start.row,r=n.end.row-i,r===0||(n.action=="remove"?(f=t.splice(i+1,r),f.forEach(function(n){n&&this.removeLineWidget(n)},this),this.$updateRows()):(u=new Array(r),u.unshift(i,0),t.splice.apply(t,u),this.$updateRows())))};this.$updateRows=function(){var t=this.session.lineWidgets,n;t&&(n=!0,t.forEach(function(t,i){if(t)for(n=!1,t.row=i;t.$oldWidget;)t.$oldWidget.row=i,t=t.$oldWidget}),n&&(this.session.lineWidgets=null))};this.addLineWidget=function(n){var t,u,r,f;this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));t=this.session.lineWidgets[n.row];t&&(n.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1));this.session.lineWidgets[n.row]=n;n.session=this.session;u=this.editor.renderer;n.html&&!n.el&&(n.el=i.createElement("div"),n.el.innerHTML=n.html);n.el&&(i.addCssClass(n.el,"ace_lineWidgetContainer"),n.el.style.position="absolute",n.el.style.zIndex=5,u.container.appendChild(n.el),n._inDocument=!0);n.coverGutter||(n.el.style.zIndex=3);n.pixelHeight==null&&(n.pixelHeight=n.el.offsetHeight);n.rowCount==null&&(n.rowCount=n.pixelHeight/u.layerConfig.lineHeight);r=this.session.getFoldAt(n.row,0);n.$fold=r;r&&(f=this.session.lineWidgets,n.row!=r.end.row||f[r.start.row]?n.hidden=!0:f[r.start.row]=n);this.session._emit("changeFold",{data:{start:{row:n.row}}});this.$updateRows();this.renderWidgets(null,u);this.onWidgetChanged(n);return n};this.removeLineWidget=function(n){if(n._inDocument=!1,n.session=null,n.el&&n.el.parentNode&&n.el.parentNode.removeChild(n.el),n.editor&&n.editor.destroy)try{n.editor.destroy()}catch(i){}if(this.session.lineWidgets){var t=this.session.lineWidgets[n.row];if(t==n){if(this.session.lineWidgets[n.row]=n.$oldWidget,n.$oldWidget)this.onWidgetChanged(n.$oldWidget)}else while(t){if(t.$oldWidget==n){t.$oldWidget=n.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:n.row}}});this.$updateRows()};this.getWidgetsAtRow=function(n){for(var i=this.session.lineWidgets,t=i&&i[n],r=[];t;)r.push(t),t=t.$oldWidget;return r};this.onWidgetChanged=function(n){this.session._changedWidgets.push(n);this.editor&&this.editor.renderer.updateFull()};this.measureWidgets=function(n,t){var f=this.session._changedWidgets,o=t.layerConfig,u,e,i,r;if(f&&f.length){for(u=Infinity,e=0;e<f.length;e++)if((i=f[e],i&&i.el)&&i.session==this.session){if(!i._inDocument){if(this.session.lineWidgets[i.row]!=i)continue;i._inDocument=!0;t.container.appendChild(i.el)}i.h=i.el.offsetHeight;i.fixedWidth||(i.w=i.el.offsetWidth,i.screenWidth=Math.ceil(i.w/o.characterWidth));r=i.h/o.lineHeight;i.coverLine&&(r-=this.session.getRowLineCount(i.row),r<0&&(r=0));i.rowCount!=r&&(i.rowCount=r,i.row<u&&(u=i.row))}u!=Infinity&&(this.session._emit("changeFold",{data:{start:{row:u}}}),this.session.lineWidgetWidth=null);this.session._changedWidgets=[]}};this.renderWidgets=function(n,t){var r=t.layerConfig,e=this.session.lineWidgets,u,h,f,i,o,s;if(e){for(u=Math.min(this.firstRow,r.firstRow),h=Math.max(this.lastRow,r.lastRow,e.length);u>0&&!e[u];)u--;for(this.firstRow=r.firstRow,this.lastRow=r.lastRow,t.$cursorLayer.config=r,f=u;f<=h;f++)if(i=e[f],i&&i.el){if(i.hidden){i.el.style.top=-100-(i.pixelHeight||0)+"px";continue}i._inDocument||(i._inDocument=!0,t.container.appendChild(i.el));o=t.$cursorLayer.getPixelPosition({row:f,column:0},!0).top;i.coverLine||(o+=r.lineHeight*this.session.getRowLineCount(i.row));i.el.style.top=o-r.offset+"px";s=i.coverGutter?0:t.gutterWidth;i.fixedWidth||(s-=t.scrollLeft);i.el.style.left=s+"px";i.fullWidth&&i.screenWidth&&(i.el.style.minWidth=r.width+2*r.padding+"px");i.el.style.right=i.fixedWidth?t.scrollBar.getWidth()+"px":""}}}}).call(r.prototype);t.LineWidgets=r});ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(n,t){"use strict";function f(n,t,i){for(var u=0,f=n.length-1,r,e;u<=f;)if(r=u+f>>1,e=i(t,n[r]),e>0)u=r+1;else if(e<0)f=r-1;else return r;return-(u+1)}function e(n,t,i){var o=n.getAnnotations().sort(r.comparePoints),e,u,s;if(o.length&&(e=f(o,{row:t,column:-1},r.comparePoints),e<0&&(e=-e-1),e>=o.length?e=i>0?0:o.length-1:e===0&&i<0&&(e=o.length-1),u=o[e],u&&i)){if(u.row===t){do u=o[e+=i];while(u&&u.row===t);if(!u)return o.slice()}s=[];t=u.row;do s[i<0?"unshift":"push"](u),u=o[e+=i];while(u&&u.row==t);return s.length&&s}}var u=n("../line_widgets").LineWidgets,i=n("../lib/dom"),r=n("../range").Range;t.showErrorMarker=function(n,t){var o=n.session,a,h,s,w,y;o.widgetManager||(o.widgetManager=new u(o),o.widgetManager.attach(n));var f=n.getCursorPosition(),c=f.row,l=o.widgetManager.getWidgetsAtRow(c).filter(function(n){return n.type=="errorMarker"})[0];if(l?l.destroy():c-=t,a=e(o,c,t),a)s=a[0],f.column=(s.pos&&typeof s.column!="number"?s.pos.sc:s.column)||0,f.row=s.row,h=n.renderer.$gutterLayer.$annotations[f.row];else{if(l)return;h={text:["Looks good!"],className:"ace_ok"}}n.session.unfold(f.row);n.selection.moveToPosition(f);var r={row:f.row,fixedWidth:!0,coverGutter:!0,el:i.createElement("div"),type:"errorMarker"},v=r.el.appendChild(i.createElement("div")),p=r.el.appendChild(i.createElement("div"));p.className="error_widget_arrow "+h.className;w=n.renderer.$cursorLayer.getPixelPosition(f).left;p.style.left=w+n.renderer.gutterWidth-5+"px";r.el.className="error_widget_wrapper";v.className="error_widget "+h.className;v.innerHTML=h.text.join("<br>");v.appendChild(i.createElement("div"));y=function(n,t,i){if(t===0&&(i==="esc"||i==="return"))return r.destroy(),{command:"null"}};r.destroy=function(){n.$mouseHandler.isMousePressed||(n.keyBinding.removeKeyboardHandler(y),o.widgetManager.removeLineWidget(r),n.off("changeSelection",r.destroy),n.off("changeSession",r.destroy),n.off("mouseup",r.destroy),n.off("change",r.destroy))};n.keyBinding.addKeyboardHandler(y);n.on("changeSelection",r.destroy);n.on("changeSession",r.destroy);n.on("mouseup",r.destroy);n.on("change",r.destroy);n.session.widgetManager.addLineWidget(r);r.el.onmousedown=n.focus.bind(n);n.renderer.scrollCursorIntoView(null,.5,{bottom:r.el.offsetHeight})};i.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")});ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(n,t){"use strict";n("./lib/fixoldbrowsers");var r=n("./lib/dom"),u=n("./lib/event"),f=n("./editor").Editor,e=n("./edit_session").EditSession,o=n("./undomanager").UndoManager,s=n("./virtual_renderer").VirtualRenderer;n("./worker/worker_client");n("./keyboard/hash_handler");n("./placeholder");n("./multi_select");n("./mode/folding/fold_mode");n("./theme/textmate");n("./ext/error_marker");t.config=n("./config");t.acequire=n;!0&&(t.define=i(21));t.edit=function(n){var c,h,e,l,i,o;if(typeof n=="string"&&(c=n,n=document.getElementById(c),!n))throw new Error("ace.edit can't find div #"+c);if(n&&n.env&&n.env.editor instanceof f)return n.env.editor;h="";n&&/input|textarea/i.test(n.tagName)?(e=n,h=e.value,n=r.createElement("pre"),e.parentNode.replaceChild(n,e)):n&&(h=r.getInnerText(n),n.innerHTML="");l=t.createEditSession(h);i=new f(new s(n));i.setSession(l);o={document:l,editor:i,onResize:i.resize.bind(i,null)};e&&(o.textarea=e);u.addListener(window,"resize",o.onResize);i.on("destroy",function(){u.removeListener(window,"resize",o.onResize);o.editor.container.env=null});return i.container.env=i.env=o,i};t.createEditSession=function(n,t){var i=new e(n,t);return i.setUndoManager(new o),i};t.EditSession=e;t.UndoManager=o;t.version="1.2.9"}),function(){ace.acequire(["ace/ace"],function(n){n&&(n.config.init(!0),n.define=ace.define);window.ace||(window.ace=n);for(var t in n)n.hasOwnProperty(t)&&(window.ace[t]=n[t])})}();n.exports=window.ace.acequire("ace/ace")},function(n,t,i){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,t){"use strict";var r=n("../lib/oop"),u=n("./text_highlight_rules").TextHighlightRules,i=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};r.inherits(i,u);t.JsonHighlightRules=i});ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(n,t){"use strict";var r=n("../range").Range,i=function(){};(function(){this.checkOutdent=function(n,t){return/^\s+$/.test(n)?/^\s*\}/.test(t):!1};this.autoOutdent=function(n,t){var o=n.getLine(t),f=o.match(/^(\s*\})/),u,i,e;if(!f||(u=f[1].length,i=n.findMatchingBracket({row:t,column:u}),!i||i.row==t))return 0;e=this.$getIndent(n.getLine(i.row));n.replace(new r(t,0,t,u-1),e)};this.$getIndent=function(n){return n.match(/^\s*/)[0]}}).call(i.prototype);t.MatchingBraceOutdent=i});ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,t){"use strict";var u=n("../../lib/oop"),i=n("../../range").Range,f=n("./fold_mode").FoldMode,r=t.FoldMode=function(n){n&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+n.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+n.end)))};u.inherits(r,f),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/;this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/;this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/;this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/;this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/;this._getFoldWidgetBase=this.getFoldWidget;this.getFoldWidget=function(n,t,i){var r=n.getLine(i),u;return this.singleLineBlockCommentRe.test(r)&&!this.startRegionRe.test(r)&&!this.tripleStarBlockCommentRe.test(r)?"":(u=this._getFoldWidgetBase(n,t,i),!u&&this.startRegionRe.test(r))?"start":u};this.getFoldWidgetRange=function(n,t,i,r){var o=n.getLine(i),e,u,f;return this.startRegionRe.test(o)?this.getCommentRegionBlock(n,o,i):(u=o.match(this.foldingStartMarker),u)?(f=u.index,u[1])?this.openingBracketBlock(n,u[1],i,f):(e=n.getCommentFoldRange(i,f+u[0].length,1),e&&!e.isMultiLine()&&(r?e=this.getSectionRange(n,i):t!="all"&&(e=null)),e):t==="markbegin"?void 0:(u=o.match(this.foldingStopMarker),u?(f=u.index+u[0].length,u[1])?this.closingBracketBlock(n,u[1],i,f):n.getCommentFoldRange(i,f,-1):void 0)};this.getSectionRange=function(n,t){var u=n.getLine(t),o=u.search(/\S/),s=t,c=u.length,f,h,e,r;for(t=t+1,f=t,h=n.getLength();++t<h;)if(u=n.getLine(t),e=u.search(/\S/),e!==-1){if(o>e)break;if(r=this.getFoldWidgetRange(n,"all",t),r)if(r.start.row<=s)break;else if(r.isMultiLine())t=r.end.row;else if(o==e)break;f=t}return new i(s,c,f,n.getLine(f).length)};this.getCommentRegionBlock=function(n,t,r){for(var s=t.search(/\s*$/),h=n.getLength(),o=r,u=1,f,e;++r<h;)if((t=n.getLine(r),f=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/.exec(t),f)&&(f[1]?u--:u++,!u))break;return e=r,e>o?new i(o,s,e,t.length):void 0}}.call(r.prototype)});ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/worker/worker_client"],function(n,t){"use strict";var u=n("../lib/oop"),f=n("./text").Mode,e=n("./json_highlight_rules").JsonHighlightRules,o=n("./matching_brace_outdent").MatchingBraceOutdent,s=n("./behaviour/cstyle").CstyleBehaviour,h=n("./folding/cstyle").FoldMode,c=n("../worker/worker_client").WorkerClient,r=function(){this.HighlightRules=e;this.$outdent=new o;this.$behaviour=new s;this.foldingRules=new h};u.inherits(r,f),function(){this.getNextLineIndent=function(n,t,i){var r=this.$getIndent(t),u;return n=="start"&&(u=t.match(/^.*[\{\(\[]\s*$/),u&&(r+=i)),r};this.checkOutdent=function(n,t,i){return this.$outdent.checkOutdent(t,i)};this.autoOutdent=function(n,t,i){this.$outdent.autoOutdent(t,i)};this.createWorker=function(n){var t=new c(["ace"],i(66),"JsonWorker");t.attachToDocument(n.getDocument());t.on("annotate",function(t){n.setAnnotations(t.data)});t.on("terminate",function(){n.clearAnnotations()});return t};this.$id="ace/mode/json"}.call(r.prototype);t.Mode=r})},function(n){n.exports.id="ace/mode/json_worker";n.exports.src='"no use strict";!function(window){function resolveModuleId(id,paths){for(var testPath=id,tail="";testPath;){var alias=paths[testPath];if("string"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,"/")+(tail||alias.main||alias.name);if(alias===!1)return"";var i=testPath.lastIndexOf("/");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:"error",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log("unable to load "+id);var path=resolveModuleId(id,window.acequire.tlns);return".js"!=path.slice(-3)&&(path+=".js"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),"function"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=["require","exports","module"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error("Unknown command:"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}}(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/apply_delta",["require","exports","module"],function(acequire,exports){"use strict";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),applyDelta=acequire("./apply_delta").applyDelta,EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."),this.insertMergedLines(position,["",""])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}if("[object Object]"!==Object.prototype.toString.call(obj))return obj;copy={};for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/<\/g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/worker/mirror",["require","exports","module","ace/range","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";acequire("../range").Range;var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:"insert",start:data[i],lines:data[i+1]};else var d={action:"remove",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/json/json_parse",["require","exports","module"],function(){"use strict";var at,ch,text,value,escapee={\'"\':\'"\',"\\\\":"\\\\","/":"/",b:"\\b",f:"\\f",n:"\\n",r:"\\r",t:"\t"},error=function(m){throw{name:"SyntaxError",message:m,at:at,text:text}},next=function(c){return c&&c!==ch&&error("Expected \'"+c+"\' instead of \'"+ch+"\'"),ch=text.charAt(at),at+=1,ch},number=function(){var number,string="";for("-"===ch&&(string="-",next("-"));ch>="0"&&"9">=ch;)string+=ch,next();if("."===ch)for(string+=".";next()&&ch>="0"&&"9">=ch;)string+=ch;if("e"===ch||"E"===ch)for(string+=ch,next(),("-"===ch||"+"===ch)&&(string+=ch,next());ch>="0"&&"9">=ch;)string+=ch,next();return number=+string,isNaN(number)?(error("Bad number"),void 0):number},string=function(){var hex,i,uffff,string="";if(\'"\'===ch)for(;next();){if(\'"\'===ch)return next(),string;if("\\\\"===ch)if(next(),"u"===ch){for(uffff=0,i=0;4>i&&(hex=parseInt(next(),16),isFinite(hex));i+=1)uffff=16*uffff+hex;string+=String.fromCharCode(uffff)}else{if("string"!=typeof escapee[ch])break;string+=escapee[ch]}else string+=ch}error("Bad string")},white=function(){for(;ch&&" ">=ch;)next()},word=function(){switch(ch){case"t":return next("t"),next("r"),next("u"),next("e"),!0;case"f":return next("f"),next("a"),next("l"),next("s"),next("e"),!1;case"n":return next("n"),next("u"),next("l"),next("l"),null}error("Unexpected \'"+ch+"\'")},array=function(){var array=[];if("["===ch){if(next("["),white(),"]"===ch)return next("]"),array;for(;ch;){if(array.push(value()),white(),"]"===ch)return next("]"),array;next(","),white()}}error("Bad array")},object=function(){var key,object={};if("{"===ch){if(next("{"),white(),"}"===ch)return next("}"),object;for(;ch;){if(key=string(),white(),next(":"),Object.hasOwnProperty.call(object,key)&&error(\'Duplicate key "\'+key+\'"\'),object[key]=value(),white(),"}"===ch)return next("}"),object;next(","),white()}}error("Bad object")};return value=function(){switch(white(),ch){case"{":return object();case"[":return array();case\'"\':return string();case"-":return number();default:return ch>="0"&&"9">=ch?number():word()}},function(source,reviver){var result;return text=source,at=0,ch=" ",result=value(),white(),ch&&error("Syntax error"),"function"==typeof reviver?function walk(holder,key){var k,v,value=holder[key];if(value&&"object"==typeof value)for(k in value)Object.hasOwnProperty.call(value,k)&&(v=walk(value,k),void 0!==v?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}({"":result},""):result}}),ace.define("ace/mode/json_worker",["require","exports","module","ace/lib/oop","ace/worker/mirror","ace/mode/json/json_parse"],function(acequire,exports){"use strict";var oop=acequire("../lib/oop"),Mirror=acequire("../worker/mirror").Mirror,parse=acequire("./json/json_parse"),JsonWorker=exports.JsonWorker=function(sender){Mirror.call(this,sender),this.setTimeout(200)};oop.inherits(JsonWorker,Mirror),function(){this.onUpdate=function(){var value=this.doc.getValue(),errors=[];try{value&&parse(value)}catch(e){var pos=this.doc.indexToPosition(e.at-1);errors.push({row:pos.row,column:pos.column,text:e.message,type:"error"})}this.sender.emit("annotate",errors)}}.call(JsonWorker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0\n}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="\t\\n\x0b\\f\\r   ᠎             　\\u2028\\u2029﻿";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});'},function(){ace.define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/keyboard/hash_handler","ace/lib/keys"],function(n,t){"use strict";var i=n("../lib/dom"),s=n("../lib/lang"),r=n("../lib/event"),e=n("../keyboard/hash_handler").HashHandler,h=n("../lib/keys"),f=999,o,u;i.importCssString('.ace_search {background-color: #ddd;color: #666;border: 1px solid #cbcbcb;border-top: 0 none;overflow: hidden;margin: 0;padding: 4px 6px 0 4px;position: absolute;top: 0;z-index: 99;white-space: normal;}.ace_search.left {border-left: 0 none;border-radius: 0px 0px 5px 0px;left: 0;}.ace_search.right {border-radius: 0px 0px 0px 5px;border-right: 0 none;right: 0;}.ace_search_form, .ace_replace_form {margin: 0 20px 4px 0;overflow: hidden;line-height: 1.9;}.ace_replace_form {margin-right: 0;}.ace_search_form.ace_nomatch {outline: 1px solid red;}.ace_search_field {border-radius: 3px 0 0 3px;background-color: white;color: black;border: 1px solid #cbcbcb;border-right: 0 none;box-sizing: border-box!important;outline: 0;padding: 0;font-size: inherit;margin: 0;line-height: inherit;padding: 0 6px;min-width: 17em;vertical-align: top;}.ace_searchbtn {border: 1px solid #cbcbcb;line-height: inherit;display: inline-block;padding: 0 6px;background: #fff;border-right: 0 none;border-left: 1px solid #dcdcdc;cursor: pointer;margin: 0;position: relative;box-sizing: content-box!important;color: #666;}.ace_searchbtn:last-child {border-radius: 0 3px 3px 0;border-right: 1px solid #cbcbcb;}.ace_searchbtn:disabled {background: none;cursor: default;}.ace_searchbtn:hover {background-color: #eef1f6;}.ace_searchbtn.prev, .ace_searchbtn.next {padding: 0px 0.7em}.ace_searchbtn.prev:after, .ace_searchbtn.next:after {content: "";border: solid 2px #888;width: 0.5em;height: 0.5em;border-width:  2px 0 0 2px;display:inline-block;transform: rotate(-45deg);}.ace_searchbtn.next:after {border-width: 0 2px 2px 0 ;}.ace_searchbtn_close {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;border-radius: 50%;border: 0 none;color: #656565;cursor: pointer;font: 16px/16px Arial;padding: 0;height: 14px;width: 14px;top: 9px;right: 7px;position: absolute;}.ace_searchbtn_close:hover {background-color: #656565;background-position: 50% 100%;color: white;}.ace_button {margin-left: 2px;cursor: pointer;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;overflow: hidden;opacity: 0.7;border: 1px solid rgba(100,100,100,0.23);padding: 1px;box-sizing:    border-box!important;color: black;}.ace_button:hover {background-color: #eee;opacity:1;}.ace_button:active {background-color: #ddd;}.ace_button.checked {border-color: #3399ff;opacity:1;}.ace_search_options{margin-bottom: 3px;text-align: right;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;clear: both;}.ace_search_counter {float: left;font-family: arial;padding: 0 8px;}',"ace_searchbox");o='<div class="ace_search right">    <span action="hide" class="ace_searchbtn_close"><\/span>    <div class="ace_search_form">        <input class="ace_search_field" placeholder="Search for" spellcheck="false"><\/input>        <span action="findPrev" class="ace_searchbtn prev"><\/span>        <span action="findNext" class="ace_searchbtn next"><\/span>        <span action="findAll" class="ace_searchbtn" title="Alt-Enter">All<\/span>    <\/div>    <div class="ace_replace_form">        <input class="ace_search_field" placeholder="Replace with" spellcheck="false"><\/input>        <span action="replaceAndFindNext" class="ace_searchbtn">Replace<\/span>        <span action="replaceAll" class="ace_searchbtn">All<\/span>    <\/div>    <div class="ace_search_options">        <span action="toggleReplace" class="ace_button" title="Toggel Replace mode"            style="float:left;margin-top:-2px;padding:0 5px;">+<\/span>        <span class="ace_search_counter"><\/span>        <span action="toggleRegexpMode" class="ace_button" title="RegExp Search">.*<\/span>        <span action="toggleCaseSensitive" class="ace_button" title="CaseSensitive Search">Aa<\/span>        <span action="toggleWholeWords" class="ace_button" title="Whole Word Search">\\b<\/span>        <span action="searchInSelection" class="ace_button" title="Search In Selection">S<\/span>    <\/div><\/div>'.replace(/> +/g,">");u=function(n){var t=i.createElement("div");t.innerHTML=o;this.element=t.firstChild;this.setSession=this.setSession.bind(this);this.$init();this.setEditor(n)},function(){this.setEditor=function(n){n.searchBox=this;n.renderer.scroller.appendChild(this.element);this.editor=n};this.setSession=function(){this.searchRange=null;this.$syncOptions(!0)};this.$initElements=function(n){this.searchBox=n.querySelector(".ace_search_form");this.replaceBox=n.querySelector(".ace_replace_form");this.searchOption=n.querySelector("[action=searchInSelection]");this.replaceOption=n.querySelector("[action=toggleReplace]");this.regExpOption=n.querySelector("[action=toggleRegexpMode]");this.caseSensitiveOption=n.querySelector("[action=toggleCaseSensitive]");this.wholeWordOption=n.querySelector("[action=toggleWholeWords]");this.searchInput=this.searchBox.querySelector(".ace_search_field");this.replaceInput=this.replaceBox.querySelector(".ace_search_field");this.searchCounter=n.querySelector(".ace_search_counter")};this.$init=function(){var t=this.element,n;this.$initElements(t);n=this;r.addListener(t,"mousedown",function(t){setTimeout(function(){n.activeInput.focus()},0);r.stopPropagation(t)});r.addListener(t,"click",function(t){var u=t.target||t.srcElement,i=u.getAttribute("action");i&&n[i]?n[i]():n.$searchBarKb.commands[i]&&n.$searchBarKb.commands[i].exec(n);r.stopPropagation(t)});r.addCommandKeyListener(t,function(t,i,u){var e=h.keyCodeToString(u),f=n.$searchBarKb.findKeyCommand(i,e);f&&f.exec&&(f.exec(n),r.stopEvent(t))});this.$onChange=s.delayedCall(function(){n.find(!1,!1)});r.addListener(this.searchInput,"input",function(){n.$onChange.schedule(20)});r.addListener(this.searchInput,"focus",function(){n.activeInput=n.searchInput;n.searchInput.value&&n.highlight()});r.addListener(this.replaceInput,"focus",function(){n.activeInput=n.replaceInput;n.searchInput.value&&n.highlight()})};this.$closeSearchBarKb=new e([{bindKey:"Esc",name:"closeSearchBar",exec:function(n){n.searchBox.hide()}}]);this.$searchBarKb=new e;this.$searchBarKb.bindKeys({"Ctrl-f|Command-f":function(n){var t=n.isReplace=!n.isReplace;n.replaceBox.style.display=t?"":"none";n.replaceOption.checked=!1;n.$syncOptions();n.searchInput.focus()},"Ctrl-H|Command-Option-F":function(n){n.replaceOption.checked=!0;n.$syncOptions();n.replaceInput.focus()},"Ctrl-G|Command-G":function(n){n.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(n){n.findPrev()},esc:function(n){setTimeout(function(){n.hide()})},Return:function(n){n.activeInput==n.replaceInput&&n.replace();n.findNext()},"Shift-Return":function(n){n.activeInput==n.replaceInput&&n.replace();n.findPrev()},"Alt-Return":function(n){n.activeInput==n.replaceInput&&n.replaceAll();n.findAll()},Tab:function(n){(n.activeInput==n.replaceInput?n.searchInput:n.replaceInput).focus()}});this.$searchBarKb.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(n){n.regExpOption.checked=!n.regExpOption.checked;n.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(n){n.caseSensitiveOption.checked=!n.caseSensitiveOption.checked;n.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(n){n.wholeWordOption.checked=!n.wholeWordOption.checked;n.$syncOptions()}},{name:"toggleReplace",exec:function(n){n.replaceOption.checked=!n.replaceOption.checked;n.$syncOptions()}},{name:"searchInSelection",exec:function(n){n.searchOption.checked=!n.searchRange;n.setSearchRange(n.searchOption.checked&&n.editor.getSelectionRange());n.$syncOptions()}}]);this.setSearchRange=function(n){this.searchRange=n;n?this.searchRangeMarker=this.editor.session.addMarker(n,"ace_active-line"):this.searchRangeMarker&&(this.editor.session.removeMarker(this.searchRangeMarker),this.searchRangeMarker=null)};this.$syncOptions=function(n){i.setCssClass(this.replaceOption,"checked",this.searchRange);i.setCssClass(this.searchOption,"checked",this.searchOption.checked);this.replaceOption.textContent=this.replaceOption.checked?"-":"+";i.setCssClass(this.regExpOption,"checked",this.regExpOption.checked);i.setCssClass(this.wholeWordOption,"checked",this.wholeWordOption.checked);i.setCssClass(this.caseSensitiveOption,"checked",this.caseSensitiveOption.checked);this.replaceBox.style.display=this.replaceOption.checked?"":"none";this.find(!1,!1,n)};this.highlight=function(n){this.editor.session.highlight(n||this.editor.$search.$options.re);this.editor.renderer.updateBackMarkers()};this.find=function(n,t,r){var f=this.editor.find(this.searchInput.value,{skipCurrent:n,backwards:t,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked,preventScroll:r,range:this.searchRange}),u=!f&&this.searchInput.value;i.setCssClass(this.searchBox,"ace_nomatch",u);this.editor._emit("findSearchBox",{match:!u});this.highlight();this.updateCounter()};this.updateCounter=function(){var n=this.editor,i=n.$search.$options.re,r=0,s=0,u,e,t,o;if(i)for(u=this.searchRange?n.session.getTextRange(this.searchRange):n.getValue(),e=n.session.doc.positionToIndex(n.selection.anchor),this.searchRange&&(e-=n.session.doc.positionToIndex(this.searchRange.start)),t=i.lastIndex=0;o=i.exec(u);){if(r++,t=o.index,t<=e&&s++,r>f)break;if(!o[0]&&(i.lastIndex=t+=1,t>=u.length))break}this.searchCounter.textContent=s+" of "+(r>f?f+"+":r)};this.findNext=function(){this.find(!0,!1)};this.findPrev=function(){this.find(!0,!0)};this.findAll=function(){var t=this.editor.findAll(this.searchInput.value,{regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked}),n=!t&&this.searchInput.value;i.setCssClass(this.searchBox,"ace_nomatch",n);this.editor._emit("findSearchBox",{match:!n});this.highlight();this.hide()};this.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value)};this.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext())};this.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value)};this.hide=function(){this.active=!1;this.setSearchRange(null);this.editor.off("changeSession",this.setSession);this.element.style.display="none";this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb);this.editor.focus()};this.show=function(n,t){this.active=!0;this.editor.on("changeSession",this.setSession);this.element.style.display="";this.replaceOption.checked=t;n&&(this.searchInput.value=n);this.searchInput.focus();this.searchInput.select();this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb);this.$syncOptions(!0)};this.isFocused=function(){var n=document.activeElement;return n==this.searchInput||n==this.replaceInput}}.call(u.prototype);t.SearchBox=u;t.Search=function(n,t){var i=n.searchBox||new u(n);i.show(n.session.getTextRange(),t)}}),function(){ace.acequire(["ace/ext/searchbox"],function(){})}()},function(n){
/*!
 * vanilla-picker v2.9.2
 * https://vanilla-picker.js.org
 *
 * Copyright 2017-2019 Andreas Borgen (https://github.com/Sphinxxxx), Adam Brooks (https://github.com/dissimulate)
 * Released under the ISC license.
 */
(function(t,i){n.exports=i()})(this,function(){"use strict";function l(n){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1,i=t>0?n.toFixed(t).replace(/0+$/,"").replace(/\.$/,""):n.toString();return i||"0"}function p(n){var t=document.createElement("div");return t.innerHTML=n,t.firstElementChild}function f(n,t){function r(n,t,i){n.addEventListener(t,i,!1)}function u(n,t,i){return Math.max(t,Math.min(n,i))}function f(r,f,e){if(e&&(i=!0),i){r.preventDefault();var o=n.getBoundingClientRect(),s=o.width,h=o.height,c=f.clientX,l=f.clientY,a=u(c-o.left,0,s),v=u(l-o.top,0,h);t(a/s,v/h)}}function e(n,t){var r=n.buttons===undefined?n.which:n.buttons;r===1?f(n,n,t):i=!1}function o(n,t){n.touches.length===1?f(n,n.touches[0],t):i=!1}var i=!1;r(n,"mousedown",function(n){e(n,!0)});r(n,"touchstart",function(n){o(n,!0)});r(window,"mousemove",e);r(n,"touchmove",o);r(window,"mouseup",function(){i=!1});r(n,"touchend",function(){i=!1});r(n,"touchcancel",function(){i=!1})}function t(n,t){return(t||document).querySelector(n)}function n(n,t,i){n.addEventListener(t,i,!1)}function y(n){n.preventDefault();n.stopPropagation()}function o(t,i,r,u){n(t,v,function(n){i.indexOf(n.key)>=0&&(u&&y(n),r(n))})}var s=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");},h=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),i=function(){function n(n,t){var r=[],u=!0,f=!1,e=undefined,i,o;try{for(i=n[Symbol.iterator]();!(u=(o=i.next()).done);u=!0)if(r.push(o.value),t&&r.length===t)break}catch(s){f=!0;e=s}finally{try{!u&&i["return"]&&i["return"]()}finally{if(f)throw e;}}return r}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),c,a,u;String.prototype.startsWith=String.prototype.startsWith||function(n){return this.indexOf(n)===0};String.prototype.padStart=String.prototype.padStart||function(n,t){for(var i=this;i.length<n;)i=t+i;return i};c={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};a=function(){function n(t,r,u,f){function h(t){if(t.startsWith("hsl")){var l=t.match(/([\-\d\.e]+)/g).map(Number),r=i(l,4),s=r[0],h=r[1],c=r[2],f=r[3];f===undefined&&(f=1);s/=360;h/=100;c/=100;e.hsla=[s,h,c,f]}else if(t.startsWith("rgb")){var a=t.match(/([\-\d\.e]+)/g).map(Number),u=i(a,4),v=u[0],y=u[1],p=u[2],o=u[3];o===undefined&&(o=1);e.rgba=[v,y,p,o]}else e.rgba=t.startsWith("#")?n.hexToRgb(t):n.nameToRgb(t)||n.hexToRgb(t)}var e,o;s(this,n);e=this;t===undefined||(Array.isArray(t)?this.rgba=t:u===undefined?(o=t&&""+t,o&&h(o.toLowerCase())):this.rgba=[t,r,u,f===undefined?1:f])}return h(n,[{key:"printRGB",value:function(n){var i=n?this.rgba:this.rgba.slice(0,3),t=i.map(function(n,t){return l(n,t===3?3:0)});return n?"rgba("+t+")":"rgb("+t+")"}},{key:"printHSL",value:function(n){var i=[360,100,100,1],r=["","%","%",""],u=n?this.hsla:this.hsla.slice(0,3),t=u.map(function(n,t){return l(n*i[t],t===3?3:1)+r[t]});return n?"hsla("+t+")":"hsl("+t+")"}},{key:"printHex",value:function(n){var t=this.hex;return n?t:t.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=n.hslToRgb(this._hsla)},set:function(n){n.length===3&&(n[3]=1);this._rgba=n;this._hsla=null}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=n.rgbToHsl(this._rgba)},set:function(n){n.length===3&&(n[3]=1);this._hsla=n;this._rgba=null}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){var n=this.rgba,t=n.map(function(n,t){return t<3?n.toString(16):Math.round(n*255).toString(16)});return"#"+t.map(function(n){return n.padStart(2,"0")}).join("")},set:function(t){this.rgba=n.hexToRgb(t)}}],[{key:"hexToRgb",value:function(n){var i=(n.startsWith("#")?n.slice(1):n).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF"),t;if(!i.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+n);return t=i.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map(function(n){return parseInt(n,16)}),t[3]=t[3]/255,t}},{key:"nameToRgb",value:function(t){var i=c[t];if(i)return n.hexToRgb(i)}},{key:"rgbToHsl",value:function(n){var h=i(n,4),u=h[0],t=h[1],r=h[2],a=h[3],o;u/=255;t/=255;r/=255;var f=Math.max(u,t,r),s=Math.min(u,t,r),e=void 0,c=void 0,l=(f+s)/2;if(f===s)e=c=0;else{o=f-s;c=l>.5?o/(2-f-s):o/(f+s);switch(f){case u:e=(t-r)/o+(t<r?6:0);break;case t:e=(r-u)/o+2;break;case r:e=(u-t)/o+4}e/=6}return[e,c,l,a]}},{key:"hslToRgb",value:function(n){var r=i(n,4),e=r[0],u=r[1],t=r[2],v=r[3],o=void 0,s=void 0,h=void 0,a;if(u===0)o=s=h=t;else{var c=function(n,t,i){return(i<0&&(i+=1),i>1&&(i-=1),i<1/6)?n+(t-n)*6*i:i<1/2?t:i<2/3?n+(t-n)*(2/3-i)*6:n},f=t<.5?t*(1+u):t+u-t*u,l=2*t-f;o=c(l,f,e+1/3);s=c(l,f,e);h=c(l,f,e-1/3)}return a=[o*255,s*255,h*255].map(Math.round),a[3]=v,a}}]),n}();var w="url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E\")",b=360,v="keydown",r="mousedown",e="focusin";return u=document.createElement("style"),u.textContent=".picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:stretch;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:'';display:block;width:100%;height:0;-webkit-box-ordinal-group:2;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{-webkit-box-flex:1;flex:1 1 auto}.layout_default .picker_sl::before{content:'';display:block;padding-bottom:100%}.layout_default .picker_editor{-webkit-box-ordinal-group:2;order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{-webkit-box-ordinal-group:2;order:1;-webkit-box-flex:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{-webkit-box-ordinal-group:2;order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px dodgerblue}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:whitesmoke;background-image:-webkit-gradient(linear, left bottom, left top, from(gainsboro), to(transparent));background-image:-webkit-linear-gradient(bottom, gainsboro, transparent);background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:-webkit-gradient(linear, left bottom, left top, from(transparent), to(gainsboro));background-image:-webkit-linear-gradient(bottom, transparent, gainsboro);background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:white}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid white;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:-webkit-gradient(linear, left top, right top, from(red), color-stop(yellow), color-stop(lime), color-stop(cyan), color-stop(blue), color-stop(magenta), to(red));background-image:-webkit-linear-gradient(left, red, yellow, lime, cyan, blue, magenta, red);background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:-webkit-gradient(linear, left top, left bottom, from(white), color-stop(50%, rgba(255,255,255,0))),-webkit-gradient(linear, left bottom, left top, from(black), color-stop(50%, rgba(0,0,0,0))),-webkit-gradient(linear, left top, right top, from(gray), to(rgba(128,128,128,0)));background-image:-webkit-linear-gradient(top, white, rgba(255,255,255,0) 50%),-webkit-linear-gradient(bottom, black, rgba(0,0,0,0) 50%),-webkit-linear-gradient(left, gray, rgba(128,128,128,0));background-image:linear-gradient(180deg, white, rgba(255,255,255,0) 50%),linear-gradient(0deg, black, rgba(0,0,0,0) 50%),linear-gradient(90deg, gray, rgba(128,128,128,0))}.picker_alpha,.picker_sample{position:relative;background:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E\") left top/contain white;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:'';position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,0.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:\"\";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}",document.documentElement.firstElementChild.appendChild(u),function(){function i(n){var t=this;s(this,i);this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1};this._openProxy=function(n){return t.openHandler(n)};this.onChange=null;this.onDone=null;this.onOpen=null;this.onClose=null;this.setOptions(n)}return h(i,[{key:"setOptions",value:function(t){function f(n,t,i){for(var r in n)i&&i.indexOf(r)>=0||(t[r]=n[r])}var i,u,r;t&&(i=this.settings,t instanceof HTMLElement?i.parent=t:(i.parent&&t.parent&&i.parent!==t.parent&&(i.parent.removeEventListener("click",this._openProxy,!1),this._popupInited=!1),f(t,i),t.onChange&&(this.onChange=t.onChange),t.onDone&&(this.onDone=t.onDone),t.onOpen&&(this.onOpen=t.onOpen),t.onClose&&(this.onClose=t.onClose),u=t.color||t.colour,u&&this._setColor(u)),r=i.parent,r&&i.popup&&!this._popupInited?(n(r,"click",this._openProxy),o(r,[" ","Spacebar","Enter"],this._openProxy),this._popupInited=!0):t.parent&&!i.popup&&this.show())}},{key:"openHandler",value:function(n){if(this.show()){n&&n.preventDefault();this.settings.parent.style.pointerEvents="none";var t=n&&n.type===v?this._domEdit:this.domElement;if(setTimeout(function(){return t.focus()},100),this.onOpen)this.onOpen(this.colour)}}},{key:"closeHandler",value:function(n){var i=n&&n.type,t=!1,u;if(n?i===r||i===e?(u=(this.__containedEvent||0)+100,n.timeStamp>u&&(t=!0)):(y(n),t=!0):t=!0,t&&this.hide()&&(this.settings.parent.style.pointerEvents="",i!==r&&this.settings.parent.focus(),this.onClose))this.onClose(this.colour)}},{key:"movePopup",value:function(n,t){this.closeHandler();this.setOptions(n);t&&this.openHandler()}},{key:"setColor",value:function(n,t){this._setColor(n,{silent:t})}},{key:"_setColor",value:function(n,t){var i,r;if(typeof n=="string"&&(n=n.trim()),n){t=t||{};i=void 0;try{i=new a(n)}catch(u){if(t.failSilently)return;throw u;}this.settings.alpha||(r=i.hsla,r[3]=1,i.hsla=r);this.colour=this.color=i;this._setHSLA(null,null,null,null,t)}}},{key:"setColour",value:function(n,t){this.setColor(n,t)}},{key:"show",value:function(){var u=this.settings.parent,i,r,n;return u?this.domElement?(i=this._toggleDOM(!0),this._setPosition(),i):(r=this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"><\/div><div class="picker_hue picker_slider"><div class="picker_selector"><\/div><\/div><div class="picker_sl"><div class="picker_selector"><\/div><\/div><div class="picker_alpha picker_slider"><div class="picker_selector"><\/div><\/div><div class="picker_editor"><input aria-label="Type a color name or hex value"/><\/div><div class="picker_sample"><\/div><div class="picker_done"><button>Ok<\/button><\/div><div class="picker_cancel"><button>Cancel<\/button><\/div><\/div>',n=p(r),this.domElement=n,this._domH=t(".picker_hue",n),this._domSL=t(".picker_sl",n),this._domA=t(".picker_alpha",n),this._domEdit=t(".picker_editor input",n),this._domSample=t(".picker_sample",n),this._domOkay=t(".picker_done button",n),this._domCancel=t(".picker_cancel button",n),n.classList.add("layout_"+this.settings.layout),this.settings.alpha||n.classList.add("no_alpha"),this.settings.editor||n.classList.add("no_editor"),this.settings.cancelButton||n.classList.add("no_cancel"),this._ifPopup(function(){return n.classList.add("popup")}),this._setPosition(),this.colour?this._updateUI():this._setColor("#0cf"),this._bindEvents(),!0):!1}},{key:"hide",value:function(){return this._toggleDOM(!1)}},{key:"_bindEvents",value:function(){var t=this,u=this,i=this.domElement,s,h;n(i,"click",function(n){return n.preventDefault()});f(this._domH,function(n){return u._setHSLA(n)});f(this._domSL,function(n,t){return u._setHSLA(null,n,1-t)});this.settings.alpha&&f(this._domA,function(n,t){return u._setHSLA(null,null,null,1-t)});s=this._domEdit;n(s,"input",function(){u._setColor(this.value,{fromEditor:!0,failSilently:!0})});n(s,"focus",function(){var n=this;n.selectionStart===n.selectionEnd&&n.select()});this._ifPopup(function(){var u=function(n){return t.closeHandler(n)},f;n(window,r,u);n(window,e,u);o(i,["Esc","Escape"],u);f=function(n){t.__containedEvent=n.timeStamp};n(i,r,f);n(i,e,f);n(t._domCancel,"click",u)});h=function(n){if(t._ifPopup(function(){return t.closeHandler(n)}),t.onDone)t.onDone(t.colour)};n(this._domOkay,"click",h);o(i,["Enter"],h)}},{key:"_setPosition",value:function(){var t=this.settings.parent,n=this.domElement;t!==n.parentNode&&t.appendChild(n);this._ifPopup(function(i){getComputedStyle(t).position==="static"&&(t.style.position="relative");var r=i===!0?"popup_right":"popup_"+i;["popup_top","popup_bottom","popup_left","popup_right"].forEach(function(t){t===r?n.classList.add(t):n.classList.remove(t)});n.classList.add(r)})}},{key:"_setHSLA",value:function(n,t,i,r,u){u=u||{};var f=this.colour,e=f.hsla;if([n,t,i,r].forEach(function(n,t){(n||n===0)&&(e[t]=n)}),f.hsla=e,this._updateUI(u),this.onChange&&!u.silent)this.onChange(f)}},{key:"_updateUI",value:function(n){function l(n,t,i){t.style.left=i*100+"%"}function a(n,t,i){t.style.top=i*100+"%"}if(this.domElement){n=n||{};var i=this.colour,r=i.hsla,y="hsl("+r[0]*b+", 100%, 50%)",o=i.hslString,p=i.hslaString,s=this._domH,u=this._domSL,h=this._domA,k=t(".picker_selector",s),c=t(".picker_selector",u),d=t(".picker_selector",h);l(s,k,r[0]);this._domSL.style.backgroundColor=this._domH.style.color=y;l(u,c,r[1]);a(u,c,1-r[2]);u.style.color=o;a(h,d,1-r[3]);var v=o,g=v.replace("hsl","hsla").replace(")",", 0)"),nt="linear-gradient("+[v,g]+")";if(this._domA.style.backgroundImage=nt+", "+w,!n.fromEditor){var tt=this.settings.editorFormat,e=this.settings.alpha,f=void 0;switch(tt){case"rgb":f=i.printRGB(e);break;case"hsl":f=i.printHSL(e);break;default:f=i.printHex(e)}this._domEdit.value=f}this._domSample.style.color=p}}},{key:"_ifPopup",value:function(n,t){this.settings.parent&&this.settings.popup?n&&n(this.settings.popup):t&&t()}},{key:"_toggleDOM",value:function(n){var t=this.domElement,i,r;return t?(i=n?"":"none",r=t.style.display!==i,r&&(t.style.display=i),r):!1}}],[{key:"StyleElement",get:function(){return u}}]),i}()})},function(n,t,i){"use strict";var o=i(22),s=i(70),h=i(71),c=i(74),l=i(4),a=i(75),f=i(76),v=i(11),u=i(0),y=i(81),e=i(1).translate,p=i(1).setLanguages,w=i(1).setLanguage,r={};r.create=function(n,t){if(!n)throw new Error("No container element provided.");this.container=n;this.dom={};this.highlighter=new s;this.selection=undefined;this.multiselection={nodes:[]};this.validateSchema=null;this.validationSequence=0;this.errorNodes=[];this.node=null;this.focusTarget=null;this._setOptions(t);t.autocomplete&&(this.autocomplete=new y(t.autocomplete));this.options.history&&this.options.mode!=="view"&&(this.history=new h(this));this._createFrame();this._createTable()};r.destroy=function(){this.frame&&this.container&&this.frame.parentNode==this.container&&(this.container.removeChild(this.frame),this.frame=null);this.container=null;this.dom=null;this.clear();this.node=null;this.focusTarget=null;this.selection=null;this.multiselection=null;this.errorNodes=null;this.validateSchema=null;this._debouncedValidate=null;this.history&&(this.history.destroy(),this.history=null);this.searchBox&&(this.searchBox.destroy(),this.searchBox=null);this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null)};r._setOptions=function(n){if(this.options={search:!0,history:!0,mode:"tree",name:undefined,schema:null,schemaRefs:null,autocomplete:null,navigationBar:!0,mainMenuBar:!0,onSelectionChange:null,colorPicker:!0,onColorPicker:function(n,t,i){o?new o({parent:n,color:t,popup:"bottom",onDone:function(n){var t=n.rgba[3],r=t===1?n.hex.substr(0,7):n.hex;i(r)}}).show():console.warn("Cannot open color picker: the `vanilla-picker` library is not included in the bundle. Either use the full bundle or implement your own color picker using `onColorPicker`.")},timestampTag:!0,onEvent:null,enableSort:!0,enableTransform:!0},n)for(var t in n)n.hasOwnProperty(t)&&(this.options[t]=n[t]);if(this.setSchema(this.options.schema,this.options.schemaRefs),this._debouncedValidate=u.debounce(this.validate.bind(this),this.DEBOUNCE_INTERVAL),n.onSelectionChange)this.onSelectionChange(n.onSelectionChange);p(this.options.languages);w(this.options.language)};r.set=function(n){var t,i,r;n instanceof Function||n===undefined?this.clear():(this.content.removeChild(this.table),t={field:this.options.name,value:n},i=new f(this,t),this._setRoot(i),this.validate(),r=!1,this.node.expand(r),this.content.appendChild(this.table));this.history&&this.history.clear();this.searchBox&&this.searchBox.clear()};r.update=function(n){var t,i,r;this.node.deepEqual(n)||(t=this.getSelection(),this.onChangeDisabled=!0,this.node.update(n),this.onChangeDisabled=!1,this.validate(),this.searchBox&&!this.searchBox.isEmpty()&&this.searchBox.forceSearch(),t&&t.start&&t.end?(i=this.node.findNodeByPath(t.start.path),r=this.node.findNodeByPath(t.end.path),i&&r?this.setSelection(t.start,t.end):this.setSelection({},{})):this.setSelection({},{}))};r.get=function(){return this.node?this.node.getValue():undefined};r.getText=function(){return JSON.stringify(this.get())};r.setText=function(n){try{this.set(u.parse(n))}catch(i){var t=u.repair(n);this.set(u.parse(t))}};r.updateText=function(n){try{this.update(u.parse(n))}catch(i){var t=u.repair(n);this.update(u.parse(t))}};r.setName=function(n){this.options.name=n;this.node&&this.node.updateField(this.options.name)};r.getName=function(){return this.options.name};r.focus=function(){var n=this.scrollableContent.querySelector("[contenteditable=true]");n?n.focus():this.node.dom.expand?this.node.dom.expand.focus():this.node.dom.menu?this.node.dom.menu.focus():(n=this.frame.querySelector("button"),n&&n.focus())};r.clear=function(){this.node&&(this.node.hide(),delete this.node);this.treePath&&this.treePath.reset()};r._setRoot=function(n){this.clear();this.node=n;n.setParent(null);n.setField(this.getName(),!1);delete n.index;this.tbody.appendChild(n.getDom())};r.search=function(n){var t;return this.node?(this.content.removeChild(this.table),t=this.node.search(n),this.content.appendChild(this.table)):t=[],t};r.expandAll=function(){this.node&&(this.content.removeChild(this.table),this.node.expand(),this.content.appendChild(this.table))};r.collapseAll=function(){this.node&&(this.content.removeChild(this.table),this.node.collapse(),this.content.appendChild(this.table))};r._onAction=function(n,t){this.history&&this.history.add(n,t);this._onChange()};r._onChange=function(){if(!this.onChangeDisabled){if(this.selection=this.getDomSelection(),this._debouncedValidate(),this.treePath){var t=this.selection?this.node.findNodeByInternalPath(this.selection.path):this.multiselection?this.multiselection.nodes[0]:undefined;t?this._updateTreePath(t.getNodePath()):this.treePath.reset()}if(this.options.onChange)try{this.options.onChange()}catch(n){console.error("Error in onChange callback: ",n)}if(this.options.onChangeJSON)try{this.options.onChangeJSON(this.get())}catch(n){console.error("Error in onChangeJSON callback: ",n)}if(this.options.onChangeText)try{this.options.onChangeText(this.getText())}catch(n){console.error("Error in onChangeText callback: ",n)}if(this.options.onClassName&&this.node.recursivelyUpdateCssClassesOnNodes(),this.options.onNodeName&&this.node.childs)try{this.node.recursivelyUpdateNodeName()}catch(n){console.error("Error in onNodeName callback: ",n)}}};r.validate=function(){var n=this.node,t,i,f,r,e;if(n){t=n.getValue();i=[];this.validateSchema&&(f=this.validateSchema(t),f||(i=this.validateSchema.errors.map(function(n){return u.improveSchemaError(n)}).map(function(t){return{node:n.findNode(t.dataPath),error:t}}).filter(function(n){return n.node!=null})));try{this.validationSequence++;r=this;e=this.validationSequence;this._validateCustom(t).then(function(n){if(e===r.validationSequence){var t=[].concat(i,n||[]);r._renderValidationErrors(t)}})["catch"](function(n){console.error(n)})}catch(o){console.error(o)}}};r._renderValidationErrors=function(n){this.errorNodes&&this.errorNodes.forEach(function(n){n.setError(null)});var t=n.reduce(function(n,t){return t.node.findParents().filter(function(t){return!n.some(function(n){return n[0]===t})}).map(function(n){return[n,t.node]}).concat(n)},[]);this.errorNodes=t.map(function(n){return{node:n[0],child:n[1],error:{message:n[0].type==="object"?"Contains invalid properties":"Contains invalid items"}}}).concat(n).map(function(n){return n.node.setError(n.error,n.child),n.node})};r._validateCustom=function(n){try{if(this.options.onValidate){var i=this.node,t=this.options.onValidate(n),r=u.isPromise(t)?t:Promise.resolve(t);return r.then(function(n){return Array.isArray(n)?n.filter(function(n){var t=u.isValidValidationError(n);return t||console.warn('Ignoring a custom validation error with invalid structure. Expected structure: {path: [...], message: "..."}. Actual error:',n),t}).map(function(n){var t;try{t=n&&n.path?i.findNodeByPath(n.path):null}catch(r){}return t||console.warn("Ignoring validation error: node not found. Path:",n.path,"Error:",n),{node:t,error:n}}).filter(function(n){return n&&n.node&&n.error&&n.error.message}):null})}}catch(f){return Promise.reject(f)}return Promise.resolve(null)};r.refresh=function(){this.node&&this.node.updateDom({recurse:!0})};r.startAutoScroll=function(n){var r=this,t=this.scrollableContent,f=u.getAbsoluteTop(t),e=t.clientHeight,o=f+e,i=24;this.autoScrollStep=n<f+i&&t.scrollTop>0?(f+i-n)/3:n>o-i&&e+t.scrollTop<t.scrollHeight?(o-i-n)/3:undefined;this.autoScrollStep?this.autoScrollTimer||(this.autoScrollTimer=setInterval(function(){r.autoScrollStep?t.scrollTop-=r.autoScrollStep:r.stopAutoScroll()},50)):this.stopAutoScroll()};r.stopAutoScroll=function(){this.autoScrollTimer&&(clearTimeout(this.autoScrollTimer),delete this.autoScrollTimer);this.autoScrollStep&&delete this.autoScrollStep};r.setDomSelection=function(n){var r,f,t,i,e;n&&("scrollTop"in n&&this.scrollableContent&&(this.scrollableContent.scrollTop=n.scrollTop),n.paths?(r=this,f=n.paths.map(function(n){return r.node.findNodeByInternalPath(n)}),this.select(f)):(t=n.path?this.node.findNodeByInternalPath(n.path):null,i=t&&n.domName?t.dom[n.domName]:null,n.range&&i?(e=Object.assign({},n.range,{container:i}),u.setSelectionOffset(e)):t&&t.focus()))};r.getDomSelection=function(){var t=f.getNodeFromTarget(this.focusTarget),i=this.focusTarget,r=t?Object.keys(t.dom).find(function(n){return t.dom[n]===i}):null,n=u.getSelectionOffset();return n&&n.container.nodeName!=="DIV"&&(n=null),n&&n.container!==i&&(n=null),n&&delete n.container,{path:t?t.getInternalPath():null,domName:r,range:n,paths:this.multiselection.length>0?this.multiselection.nodes.map(function(n){return n.getInternalPath()}):null,scrollTop:this.scrollableContent?this.scrollableContent.scrollTop:0}};r.scrollTo=function(n,t){var r=this.scrollableContent,i;if(r){i=this;i.animateTimeout&&(clearTimeout(i.animateTimeout),delete i.animateTimeout);i.animateCallback&&(i.animateCallback(!1),delete i.animateCallback);var u=r.clientHeight,o=r.scrollHeight-u,f=Math.min(Math.max(n-u/4,0),o),e=function e(){var u=r.scrollTop,n=f-u;Math.abs(n)>3?(r.scrollTop+=n/3,i.animateCallback=t,i.animateTimeout=setTimeout(e,50)):(t&&t(!0),r.scrollTop=f,delete i.animateTimeout,delete i.animateCallback)};e()}else t&&t(!1)};r._createFrame=function(){function n(n){t._onEvent&&t._onEvent(n)}var t,f,o,s,h,i,r,l;if(this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode,this.container.appendChild(this.frame),this.contentOuter=document.createElement("div"),this.contentOuter.className="jsoneditor-outer",t=this,this.frame.onclick=function(t){var i=t.target;n(t);i.nodeName=="BUTTON"&&t.preventDefault()},this.frame.oninput=n,this.frame.onchange=n,this.frame.onkeydown=n,this.frame.onkeyup=n,this.frame.oncut=n,this.frame.onpaste=n,this.frame.onmousedown=n,this.frame.onmouseup=n,this.frame.onmouseover=n,this.frame.onmouseout=n,u.addEventListener(this.frame,"focus",n,!0),u.addEventListener(this.frame,"blur",n,!0),this.frame.onfocusin=n,this.frame.onfocusout=n,this.options.mainMenuBar&&(u.addClassName(this.contentOuter,"has-main-menu-bar"),this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu),f=document.createElement("button"),f.type="button",f.className="jsoneditor-expand-all",f.title=e("expandAll"),f.onclick=function(){t.expandAll()},this.menu.appendChild(f),o=document.createElement("button"),o.type="button",o.title=e("collapseAll"),o.className="jsoneditor-collapse-all",o.onclick=function(){t.collapseAll()},this.menu.appendChild(o),this.options.enableSort&&(s=document.createElement("button"),s.type="button",s.className="jsoneditor-sort",s.title=e("sortTitleShort"),s.onclick=function(){t.node.showSortModal()},this.menu.appendChild(s)),this.options.enableTransform&&(h=document.createElement("button"),h.type="button",h.title=e("transformTitleShort"),h.className="jsoneditor-transform",h.onclick=function(){t.node.showTransformModal()},this.menu.appendChild(h)),this.history&&(i=document.createElement("button"),i.type="button",i.className="jsoneditor-undo jsoneditor-separator",i.title=e("undo"),i.onclick=function(){t._onUndo()},this.menu.appendChild(i),this.dom.undo=i,r=document.createElement("button"),r.type="button",r.className="jsoneditor-redo",r.title=e("redo"),r.onclick=function(){t._onRedo()},this.menu.appendChild(r),this.dom.redo=r,this.history.onChange=function(){i.disabled=!t.history.canUndo();r.disabled=!t.history.canRedo()},this.history.onChange()),this.options&&this.options.modes&&this.options.modes.length&&(l=this,this.modeSwitcher=new v(this.menu,this.options.modes,this.options.mode,function(n){l.setMode(n);l.modeSwitcher.focus()})),this.options.search&&(this.searchBox=new c(this,this.menu))),this.options.navigationBar){this.navBar=document.createElement("div");this.navBar.className="jsoneditor-navigation-bar nav-bar-empty";this.frame.appendChild(this.navBar);this.treePath=new a(this.navBar,this.frame);this.treePath.onSectionSelected(this._onTreePathSectionSelected.bind(this));this.treePath.onContextMenuItemSelected(this._onTreePathMenuItemSelected.bind(this))}};r._onUndo=function(){this.history&&(this.history.undo(),this._onChange())};r._onRedo=function(){this.history&&(this.history.redo(),this._onChange())};r._onEvent=function(n){var t,i;if(!f.targetIsColorPicker(n.target)){if(t=f.getNodeFromTarget(n.target),n.type==="keydown"&&this._onKeyDown(n),t&&n.type==="focus"&&(this.focusTarget=n.target,this.options.autocomplete&&this.options.autocomplete.trigger==="focus"&&this._showAutoComplete(n.target)),n.type==="mousedown"&&this._startDragDistance(n),(n.type==="mousemove"||n.type==="mouseup"||n.type==="click")&&this._updateDragDistance(n),t&&this.options&&this.options.navigationBar&&t&&(n.type==="keydown"||n.type==="mousedown")&&(i=this,setTimeout(function(){i._updateTreePath(t.getNodePath())})),t&&t.selected){if(n.type==="click"){if(n.target===t.dom.menu){this.showContextMenu(n.target);return}n.hasMoved||this.deselect()}if(n.type==="mousedown")f.onDragStart(this.multiselection.nodes,n)}else if(n.type==="mousedown"&&u.hasParentNode(n.target,this.content))if(this.deselect(),t&&n.target===t.dom.drag)f.onDragStart(t,n);else t&&(n.target===t.dom.field||n.target===t.dom.value||n.target===t.dom.select)||this._onMultiSelectStart(n);if(t)t.onEvent(n)}};r._updateTreePath=function(n){function i(n){return n.parent?n.parent.type==="array"?n.index:n.field:n.type}if(n&&n.length){u.removeClassName(this.navBar,"nav-bar-empty");var t=[];n.forEach(function(n){var r={name:i(n),node:n,children:[]};n.childs&&n.childs.length&&n.childs.forEach(function(n){r.children.push({name:i(n),node:n})});t.push(r)});this.treePath.setPath(t)}else u.addClassName(this.navBar,"nav-bar-empty")};r._onTreePathSectionSelected=function(n){n&&n.node&&(n.node.expandTo(),n.node.focus())};r._onTreePathMenuItemSelected=function(n,t){if(n&&n.children.length){var i=n.children.find(function(n){return n.name===t});i&&i.node&&(this._updateTreePath(i.node.getNodePath()),i.node.expandTo(),i.node.focus())}};r._startDragDistance=function(n){this.dragDistanceEvent={initialTarget:n.target,initialPageX:n.pageX,initialPageY:n.pageY,dragDistance:0,hasMoved:!1}};r._updateDragDistance=function(n){this.dragDistanceEvent||this._startDragDistance(n);var t=n.pageX-this.dragDistanceEvent.initialPageX,i=n.pageY-this.dragDistanceEvent.initialPageY;return this.dragDistanceEvent.dragDistance=Math.sqrt(t*t+i*i),this.dragDistanceEvent.hasMoved=this.dragDistanceEvent.hasMoved||this.dragDistanceEvent.dragDistance>10,n.dragDistance=this.dragDistanceEvent.dragDistance,n.hasMoved=this.dragDistanceEvent.hasMoved,n.dragDistance};r._onMultiSelectStart=function(n){var i=f.getNodeFromTarget(n.target),t;this.options.mode==="tree"&&this.options.onEditable===undefined&&(this.multiselection={start:i||null,end:null,nodes:[]},this._startDragDistance(n),t=this,this.mousemove||(this.mousemove=u.addEventListener(window,"mousemove",function(n){t._onMultiSelect(n)})),this.mouseup||(this.mouseup=u.addEventListener(window,"mouseup",function(n){t._onMultiSelectEnd(n)})),n.preventDefault())};r._onMultiSelect=function(n){var t,i,r,u;(n.preventDefault(),this._updateDragDistance(n),n.hasMoved)&&(t=f.getNodeFromTarget(n.target),t&&(this.multiselection.start==null&&(this.multiselection.start=t),this.multiselection.end=t),this.deselect(),i=this.multiselection.start,r=this.multiselection.end||this.multiselection.start,i&&r&&(this.multiselection.nodes=this._findTopLevelNodes(i,r),this.multiselection.nodes&&this.multiselection.nodes.length&&(u=this.multiselection.nodes[0],this.multiselection.direction=this.multiselection.start===u||this.multiselection.start.isDescendantOf(u)?"down":"up"),this.select(this.multiselection.nodes)))};r._onMultiSelectEnd=function(){this.multiselection.nodes[0]&&this.multiselection.nodes[0].dom.menu.focus();this.multiselection.start=null;this.multiselection.end=null;this.mousemove&&(u.removeEventListener(window,"mousemove",this.mousemove),delete this.mousemove);this.mouseup&&(u.removeEventListener(window,"mouseup",this.mouseup),delete this.mouseup)};r.deselect=function(n){var t=!!this.multiselection.nodes.length;this.multiselection.nodes.forEach(function(n){n.setSelected(!1)});this.multiselection.nodes=[];n&&(this.multiselection.start=null,this.multiselection.end=null);t&&this._selectionChangedHandler&&this._selectionChangedHandler()};r.select=function(n){var i,t;if(!Array.isArray(n))return this.select([n]);n&&(this.deselect(),this.multiselection.nodes=n.slice(0),i=n[0],n.forEach(function(n){n.expandPathToNode();n.setSelected(!0,n===i)}),this._selectionChangedHandler&&(t=this.getSelection(),this._selectionChangedHandler(t.start,t.end)))};r._findTopLevelNodes=function(n,t){for(var e=n.getNodePath(),o=t.getNodePath(),r=0;r<e.length&&e[r]===o[r];)r++;var i=e[r-1],u=e[r],f=o[r];if(u&&f||(i.parent?(u=i,f=i,i=i.parent):(u=i.childs[0],f=i.childs[i.childs.length-1])),i&&u&&f){var s=i.childs.indexOf(u),h=i.childs.indexOf(f),c=Math.min(s,h),l=Math.max(s,h);return i.childs.slice(c,l+1)}return[]};r._showAutoComplete=function(n){var i=f.getNodeFromTarget(n),r="",t;n.className.indexOf("jsoneditor-value")>=0&&(r="value");n.className.indexOf("jsoneditor-field")>=0&&(r="field");t=this;setTimeout(function(){if(i&&(t.options.autocomplete.trigger==="focus"||n.innerText.length>0)){var u=t.options.autocomplete.getOptions(n.innerText,i.getPath(),r,i.editor);u===null?t.autocomplete.hideDropDown():typeof u.then=="function"?u.then(function(i){i===null?t.autocomplete.hideDropDown():i.options?t.autocomplete.show(n,i.startFrom,i.options):t.autocomplete.show(n,0,i)})["catch"](function(n){console.error(n)}):u.options?t.autocomplete.show(n,u.startFrom,u.options):t.autocomplete.show(n,0,u)}else t.autocomplete.hideDropDown()},50)};r._onKeyDown=function(n){var t=n.which||n.keyCode,h=n.altKey,r=n.ctrlKey,c=n.metaKey,e=n.shiftKey,i=!1,s,o,l;t==9&&(s=this,setTimeout(function(){u.selectContentEditable(s.focusTarget)},0));this.searchBox&&(r&&t==70?(this.searchBox.dom.search.focus(),this.searchBox.dom.search.select(),i=!0):(t==114||r&&t==71)&&(o=!0,e?this.searchBox.previous(o):this.searchBox.next(o),i=!0));this.history&&(r&&!e&&t==90?(this._onUndo(),i=!0):r&&e&&t==90&&(this._onRedo(),i=!0));this.options.autocomplete&&!i&&(r||h||c||n.key.length!=1&&t!=8&&t!=46||(i=!1,l=f.getNodeFromTarget(n.target),this._showAutoComplete(n.target)));i&&(n.preventDefault(),n.stopPropagation())};r._createTable=function(){this.options.navigationBar&&u.addClassName(this.contentOuter,"has-nav-bar");this.scrollableContent=document.createElement("div");this.scrollableContent.className="jsoneditor-tree";this.contentOuter.appendChild(this.scrollableContent);this.content=document.createElement("div");this.content.className="jsoneditor-tree-inner";this.scrollableContent.appendChild(this.content);this.table=document.createElement("table");this.table.className="jsoneditor-tree";this.content.appendChild(this.table);var n;this.colgroupContent=document.createElement("colgroup");this.options.mode==="tree"&&(n=document.createElement("col"),n.width="24px",this.colgroupContent.appendChild(n));n=document.createElement("col");n.width="24px";this.colgroupContent.appendChild(n);n=document.createElement("col");this.colgroupContent.appendChild(n);this.table.appendChild(this.colgroupContent);this.tbody=document.createElement("tbody");this.table.appendChild(this.tbody);this.frame.appendChild(this.contentOuter)};r.showContextMenu=function(n,t){var i=[],r=this.multiselection.nodes.slice(),u,o;i.push({text:e("duplicateText"),title:e("duplicateTitle"),className:"jsoneditor-duplicate",click:function(){f.onDuplicate(r)}});i.push({text:e("remove"),title:e("removeTitle"),className:"jsoneditor-remove",click:function(){f.onRemove(r)}});this.options.onCreateMenu&&(u=r.map(function(n){return n.getPath()}),i=this.options.onCreateMenu(i,{type:"multiple",path:u[0],paths:u}));o=new l(i,{close:t});o.show(n,this.frame)};r.getSelection=function(){var n={start:null,end:null},t,i;return this.multiselection.nodes&&this.multiselection.nodes.length&&this.multiselection.nodes.length&&(t=this.multiselection.nodes[0],i=this.multiselection.nodes[this.multiselection.nodes.length-1],this.multiselection.direction==="down"?(n.start=t.serialize(),n.end=i.serialize()):(n.start=i.serialize(),n.end=t.serialize())),n};r.onSelectionChange=function(n){typeof n=="function"&&(this._selectionChangedHandler=u.debounce(n,this.DEBOUNCE_INTERVAL))};r.setSelection=function(n,t){n&&n.dom&&n.range&&(console.warn("setSelection/getSelection usage for text selection is deprecated and should not be used, see documentation for supported selection options"),this.setDomSelection(n));var i=this._getNodeInstancesByRange(n,t);i.forEach(function(n){n.expandTo()});this.select(i)};r._getNodeInstancesByRange=function(n,t){var i,r,e,n,t,u;if(n&&n.path&&(i=this.node.findNodeByPath(n.path),t&&t.path&&(r=this.node.findNodeByPath(t.path))),e=[],i instanceof f)if(r instanceof f&&r!==i)if(i.parent===r.parent){i.getIndex()<r.getIndex()?(n=i,t=r):(n=r,t=i);u=n;e.push(u);do u=u.nextSibling(),e.push(u);while(u&&u!==t)}else e=this._findTopLevelNodes(i,r);else e.push(i);return e};r.getNodesByRange=function(n,t){var r=this._getNodeInstancesByRange(n,t),i=[];return r.forEach(function(n){i.push(n.serialize())}),i};n.exports=[{mode:"tree",mixin:r,data:"json"},{mode:"view",mixin:r,data:"json"},{mode:"form",mixin:r,data:"json"}]},function(n){"use strict";function t(){this.locked=!1}t.prototype.highlight=function(n){this.locked||(this.node!=n&&(this.node&&this.node.setHighlight(!1),this.node=n,this.node.setHighlight(!0)),this._cancelUnhighlight())};t.prototype.unhighlight=function(){if(!this.locked){var n=this;this.node&&(this._cancelUnhighlight(),this.unhighlightTimer=setTimeout(function(){n.node.setHighlight(!1);n.node=undefined;n.unhighlightTimer=undefined},0))}};t.prototype._cancelUnhighlight=function(){this.unhighlightTimer&&(clearTimeout(this.unhighlightTimer),this.unhighlightTimer=undefined)};t.prototype.lock=function(){this.locked=!0};t.prototype.unlock=function(){this.locked=!1};n.exports=t},function(n,t,i){"use strict";function r(n){function t(t){return n.node.findNodeByInternalPath(t)}this.editor=n;this.history=[];this.index=-1;this.clear();this.actions={editField:{undo:function(n){var i=t(n.parentPath),r=i.childs[n.index];r.updateField(n.oldValue)},redo:function(n){var i=t(n.parentPath),r=i.childs[n.index];r.updateField(n.newValue)}},editValue:{undo:function(n){t(n.path).updateValue(n.oldValue)},redo:function(n){t(n.path).updateValue(n.newValue)}},changeType:{undo:function(n){t(n.path).changeType(n.oldType)},redo:function(n){t(n.path).changeType(n.newType)}},appendNodes:{undo:function(n){var i=t(n.parentPath);n.paths.map(t).forEach(function(n){i.removeChild(n)})},redo:function(n){var i=t(n.parentPath);n.nodes.forEach(function(n){i.appendChild(n)})}},insertBeforeNodes:{undo:function(n){var i=t(n.parentPath);n.paths.map(t).forEach(function(n){i.removeChild(n)})},redo:function(n){var i=t(n.parentPath),r=t(n.beforePath);n.nodes.forEach(function(n){i.insertBefore(n,r)})}},insertAfterNodes:{undo:function(n){var i=t(n.parentPath);n.paths.map(t).forEach(function(n){i.removeChild(n)})},redo:function(n){var r=t(n.parentPath),i=t(n.afterPath);n.nodes.forEach(function(n){r.insertAfter(n,i);i=n})}},removeNodes:{undo:function(n){var i=t(n.parentPath),r=i.childs[n.index]||i.append;n.nodes.forEach(function(n){i.insertBefore(n,r)})},redo:function(n){var i=t(n.parentPath);n.paths.map(t).forEach(function(n){i.removeChild(n)})}},duplicateNodes:{undo:function(n){var i=t(n.parentPath);n.clonePaths.map(t).forEach(function(n){i.removeChild(n)})},redo:function(n){var i=t(n.parentPath),r=t(n.afterPath),f=n.paths.map(t);f.forEach(function(n){var t=n.clone(),f;i.type==="object"&&(f=i.getFieldNames(),t.field=u.findUniqueName(n.field,f));i.insertAfter(t,r);r=t})}},moveNodes:{undo:function(n){var i=t(n.oldParentPath),r=t(n.newParentPath),u=i.childs[n.oldIndex]||i.append,f=r.childs.slice(n.newIndex,n.newIndex+n.count);f.forEach(function(t,r){t.field=n.fieldNames[r];i.moveBefore(t,u)});n.newParentPathRedo===null&&(n.newParentPathRedo=r.getInternalPath())},redo:function(n){var r=t(n.oldParentPathRedo),i=t(n.newParentPathRedo),u=i.childs[n.newIndexRedo]||i.append,f=r.childs.slice(n.oldIndexRedo,n.oldIndexRedo+n.count);f.forEach(function(t,r){t.field=n.fieldNames[r];i.moveBefore(t,u)})}},sort:{undo:function(n){var i=t(n.path);i.hideChilds();i.childs=n.oldChilds;i.updateDom({updateIndexes:!0});i.showChilds()},redo:function(n){var i=t(n.path);i.hideChilds();i.childs=n.newChilds;i.updateDom({updateIndexes:!0});i.showChilds()}},transform:{undo:function(n){t(n.path).setInternalValue(n.oldValue)},redo:function(n){t(n.path).setInternalValue(n.newValue)}}}}var u=i(0);r.prototype.onChange=function(){};r.prototype.add=function(n,t){this.index++;this.history[this.index]={action:n,params:t,timestamp:new Date};this.index<this.history.length-1&&this.history.splice(this.index+1,this.history.length-this.index-1);this.onChange()};r.prototype.clear=function(){this.history=[];this.index=-1;this.onChange()};r.prototype.canUndo=function(){return this.index>=0};r.prototype.canRedo=function(){return this.index<this.history.length-1};r.prototype.undo=function(){var n,t;if(this.canUndo()){if(n=this.history[this.index],n)if(t=this.actions[n.action],t&&t.undo){if(t.undo(n.params),n.params.oldSelection)try{this.editor.setDomSelection(n.params.oldSelection)}catch(i){console.error(i)}}else console.error(new Error('unknown action "'+n.action+'"'));this.index--;this.onChange()}};r.prototype.redo=function(){var n,t;if(this.canRedo()){if(this.index++,n=this.history[this.index],n)if(t=this.actions[n.action],t&&t.redo){if(t.redo(n.params),n.params.newSelection)try{this.editor.setDomSelection(n.params.newSelection)}catch(i){console.error(i)}}else console.error(new Error('unknown action "'+n.action+'"'));this.onChange()}};r.prototype.destroy=function(){this.editor=null;this.history=[];this.index=-1};n.exports=r},function(n,t){var i=function(){var n={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(n,t,i,r,u,f){var e=f.length-1;switch(u){case 1:this.$=n.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,'\v').replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(n);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=f[e-1];case 13:this.$={};break;case 14:this.$=f[e-1];break;case 15:this.$=[f[e-2],f[e]];break;case 16:this.$={};this.$[f[e][0]]=f[e][1];break;case 17:this.$=f[e-2];f[e-2][f[e][0]]=f[e][1];break;case 18:this.$=[];break;case 19:this.$=f[e-1];break;case 20:this.$=[f[e]];break;case 21:this.$=f[e-2];f[e-2].push(f[e])}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(n){throw new Error(n);},parse:function(n){function rt(n){t.length=t.length-2*n;e.length=e.length-n;r.length=r.length-n}function tt(){var n;return n=nt.lexer.lex()||1,typeof n!="number"&&(n=nt.symbols_[n]||n),n}var nt=this,t=[0],e=[null],r=[],s=this.table,b="",c=0,k=0,l=0,d=2,a,i,y,u,f,g,h,p,o,it,w,v;for(this.lexer.setInput(n),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,typeof this.lexer.yylloc=="undefined"&&(this.lexer.yylloc={}),a=this.lexer.yylloc,r.push(a),typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError),h={};;){if(u=t[t.length-1],this.defaultActions[u]?f=this.defaultActions[u]:(i==null&&(i=tt()),f=s[u]&&s[u][i]),typeof f=="undefined"||!f.length||!f[0]){if(!l){w=[];for(p in s[u])this.terminals_[p]&&p>2&&w.push("'"+this.terminals_[p]+"'");v="";v=this.lexer.showPosition?"Parse error on line "+(c+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+this.terminals_[i]+"'":"Parse error on line "+(c+1)+": Unexpected "+(i==1?"end of input":"'"+(this.terminals_[i]||i)+"'");this.parseError(v,{text:this.lexer.match,token:this.terminals_[i]||i,line:this.lexer.yylineno,loc:a,expected:w})}if(l==3){if(i==1)throw new Error(v||"Parsing halted.");k=this.lexer.yyleng;b=this.lexer.yytext;c=this.lexer.yylineno;a=this.lexer.yylloc;i=tt()}for(;;){if(d.toString()in s[u])break;if(u==0)throw new Error(v||"Parsing halted.");rt(1);u=t[t.length-1]}y=i;i=d;u=t[t.length-1];f=s[u]&&s[u][d];l=3}if(f[0]instanceof Array&&f.length>1)throw new Error("Parse Error: multiple actions possible at state: "+u+", token: "+i);switch(f[0]){case 1:t.push(i);e.push(this.lexer.yytext);r.push(this.lexer.yylloc);t.push(f[1]);i=null;y?(i=y,y=null):(k=this.lexer.yyleng,b=this.lexer.yytext,c=this.lexer.yylineno,a=this.lexer.yylloc,l>0&&l--);break;case 2:if(o=this.productions_[f[1]][1],h.$=e[e.length-o],h._$={first_line:r[r.length-(o||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(o||1)].first_column,last_column:r[r.length-1].last_column},g=this.performAction.call(h,b,k,c,this.yy,f[1],e,r),typeof g!="undefined")return g;o&&(t=t.slice(0,-2*o),e=e.slice(0,-1*o),r=r.slice(0,-1*o));t.push(this.productions_[f[1]][0]);e.push(h.$);r.push(h._$);it=s[t[t.length-2]][t[t.length-1]];t.push(it);break;case 3:return!0}}return!0}},t=function(){var n={EOF:1,parseError:function(n,t){if(this.yy.parseError)this.yy.parseError(n,t);else throw new Error(n);},setInput:function(n){return this._input=n,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var n=this._input[0],t;return this.yytext+=n,this.yyleng++,this.match+=n,this.matched+=n,t=n.match(/\n/),t&&this.yylineno++,this._input=this._input.slice(1),n},unput:function(n){return this._input=n+this._input,this},more:function(){return this._more=!0,this},less:function(n){this._input=this.match.slice(n)+this._input},pastInput:function(){var n=this.matched.substr(0,this.matched.length-this.match.length);return(n.length>20?"...":"")+n.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var n=this.match;return n.length<20&&(n+=this._input.substr(0,20-n.length)),(n.substr(0,20)+(n.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var n=this.pastInput(),t=new Array(n.length+1).join("-");return n+this.upcomingInput()+"\n"+t+"^"},next:function(){var f,n,r,e,t,u,i;if(this.done)return this.EOF;for(this._input||(this.done=!0),this._more||(this.yytext="",this.match=""),u=this._currentRules(),i=0;i<u.length;i++)if(r=this._input.match(this.rules[u[i]]),r&&(!n||r[0].length>n[0].length)&&(n=r,e=i,!this.options.flex))break;if(n)return(t=n[0].match(/\n.*/g),t&&(this.yylineno+=t.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:t?t[t.length-1].length-1:this.yylloc.last_column+n[0].length},this.yytext+=n[0],this.match+=n[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(n[0].length),this.matched+=n[0],f=this.performAction.call(this,this.yy,this,u[e],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),f)?f:void 0;if(this._input==="")return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var n=this.next();return typeof n!="undefined"?n:this.lex()},begin:function(n){this.conditionStack.push(n)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(n){this.begin(n)}};return n.options={},n.performAction=function(n,t,i,r){var u=r;switch(i){case 1:return 6;case 2:return t.yytext=t.yytext.substr(1,t.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},n.rules=[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],n.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}},n}();return n.lexer=t,n}();!0&&(t.parser=i,t.parse=i.parse.bind(i))},function(n,t){"use strict";function i(n){return e.indexOf(typeof n)>=0}function r(n){return n=n.replace(c,"\\$&").replace(a,"\\f").replace(l,"\\b").replace(v,"\\n").replace(y,"\\r").replace(p,"\\t"),'"'+n+'"'}function u(n){return n.replace(o,"~0").replace(s,"~1")}var f={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",'"':'"',"/":"/","\\":"\\"},h="a".charCodeAt(),e,o,s;t.parse=function(n,t,i){function y(t,i){var u,f;o();b(t,"value");f=e();switch(f){case"t":p("rue");u=!0;break;case"f":p("alse");u=!1;break;case"n":p("ull");u=null;break;case'"':u=d();break;case"[":u=ut(t);break;case"{":u=ft(t);break;default:a();"-0123456789".indexOf(f)>=0?u=rt():v()}return b(t,"valueEnd"),o(),i&&r<n.length&&v(),u}function o(){n:while(r<n.length){switch(n[r]){case" ":s++;break;case"\t":s+=4;break;case"\r":s=0;break;case"\n":s=0;k++;break;default:break n}r++}}function d(){for(var t="",n;;)if(n=e(),n=='"')break;else n=="\\"?(n=e(),n in f?t+=f[n]:n=="u"?t+=et():c()):t+=n;return t}function rt(){var t="",u=!0,i;return n[r]=="-"&&(t+=e()),t+=n[r]=="0"?e():w(),n[r]=="."&&(t+=e()+w(),u=!1),(n[r]=="e"||n[r]=="E")&&(t+=e(),(n[r]=="+"||n[r]=="-")&&(t+=e()),t+=w(),u=!1),i=+t,it&&u&&(i>Number.MAX_SAFE_INTEGER||i<Number.MIN_SAFE_INTEGER)?BigInt(t):i}function ut(n){var t,i,u,r;if(o(),t=[],i=0,e()=="]")return t;for(a();;){if(u=n+"/"+i,t.push(y(u)),o(),r=e(),r=="]")break;r!=","&&c();o();i++}return t}function ft(n){var t,s,r,i,f;if(o(),t={},e()=="}")return t;for(a();;){if(s=nt(),e()!='"'&&c(),r=d(),i=n+"/"+u(r),g(i,"key",s),b(i,"keyEnd"),o(),e()!=":"&&c(),o(),t[r]=y(i),o(),f=e(),f=="}")break;f!=","&&c();o()}return t}function p(n){for(var t=0;t<n.length;t++)e()!==n[t]&&c()}function e(){tt();var t=n[r];return r++,s++,t}function a(){r--;s--}function et(){for(var i=4,t=0,n;i--;)t<<=4,n=e().toLowerCase(),n>="a"&&n<="f"?t+=n.charCodeAt()-h+10:n>="0"&&n<="9"?t+=+n:c();return String.fromCharCode(t)}function w(){for(var t="";n[r]>="0"&&n[r]<="9";)t+=e();if(t.length)return t;tt();v()}function b(n,t){g(n,t,nt())}function g(n,t,i){l[n]=l[n]||{};l[n][t]=i}function nt(){return{line:k,column:s,pos:r}}function v(){throw new SyntaxError("Unexpected token "+n[r]+" in JSON at position "+r);}function c(){a();v()}function tt(){if(r>=n.length)throw new SyntaxError("Unexpected end of JSON input");}var l={},k=0,s=0,r=0,it=i&&i.bigint&&typeof BigInt!="undefined";return{data:y("",!0),pointers:l}};t.stringify=function(n,t,f){function k(n,t,f){function s(){var u,r,o,s;if(n.length){for(e("["),u=t+1,r=0;r<n.length;r++)r&&e(","),h(u),o=i(n[r])?n[r]:null,s=f+"/"+r,k(o,u,s);h(t);e("]")}else e("[]")}function l(){var v=Object.keys(n),y,s,l,p,a;if(v.length){for(e("{"),y=t+1,s=0;s<v.length;s++)l=v[s],p=n[l],i(p)&&(s&&e(","),a=f+"/"+u(l),h(y),c(a,"key"),e(r(l)),c(a,"keyEnd"),e(":"),o&&e(" "),k(p,y,a));h(t);e("}")}else e("{}")}function a(s){var l;if(n.size){e("{");for(var v=t+1,y=!0,p=n.entries(),a=p.next();!a.done;){var w=a.value,b=w[0],d=s?!0:w[1];i(d)&&(y||e(","),y=!1,l=f+"/"+u(b),h(v),c(l,"key"),e(r(b)),c(l,"keyEnd"),e(":"),o&&e(" "),k(d,v,l));a=p.next()}h(t);e("}")}else e("{}")}c(f,"value");switch(typeof n){case"number":case"bigint":case"boolean":e(""+n);break;case"string":e(r(n));break;case"object":n===null?e("null"):typeof n.toJSON=="function"?e(r(n.toJSON())):Array.isArray(n)?s():it?n.constructor.BYTES_PER_ELEMENT?s():n instanceof Map?a():n instanceof Set?a(!0):l():l()}c(f,"valueEnd")}function e(n){a+=n.length;b+=n.length;d+=n}function h(n){if(o){for(d+="\n"+tt(n,o),g++,a=0;n--;)v?(g+=v,a=s):a+=s,b+=y;b+=1}}function c(n,t){w[n]=w[n]||{};w[n][t]={line:g,column:a,pos:b}}function tt(n,t){return Array(n+1).join(t)}var v,y,s,o,l,p,nt;if(i(n)){v=0;o=typeof f=="object"?f.space:f;switch(typeof o){case"number":l=o>10?10:o<0?0:Math.floor(o);o=l&&tt(l," ");y=l;s=l;break;case"string":for(o=o.slice(0,10),y=0,s=0,p=0;p<o.length;p++){nt=o[p];switch(nt){case" ":s++;break;case"\t":s+=4;break;case"\r":s=0;break;case"\n":s=0;v++;break;default:throw new Error("whitespace characters not allowed in JSON");}y++}break;default:o=undefined}var d="",w={},g=0,a=0,b=0,it=f&&f.es6&&typeof Map=="function";return k(n,0,""),{json:d,pointers:w}}};e=["number","bigint","boolean","string","object"];var c=/"|\\/g,l=/[\b]/g,a=/\f/g,v=/\n/g,y=/\r/g,p=/\t/g;o=/~/g;s=/\//g},function(n){"use strict";function t(n,t){var f=this,h,l,r,i,a,e,v,y,c,u,o,s;this.editor=n;this.timeout=undefined;this.delay=200;this.lastText=undefined;this.dom={};this.dom.container=t;h=document.createElement("table");this.dom.table=h;h.className="jsoneditor-search";t.appendChild(h);l=document.createElement("tbody");this.dom.tbody=l;h.appendChild(l);r=document.createElement("tr");l.appendChild(r);i=document.createElement("td");r.appendChild(i);a=document.createElement("div");this.dom.results=a;a.className="jsoneditor-results";i.appendChild(a);i=document.createElement("td");r.appendChild(i);e=document.createElement("div");this.dom.input=e;e.className="jsoneditor-frame";e.title="Search fields and values";i.appendChild(e);v=document.createElement("table");e.appendChild(v);y=document.createElement("tbody");v.appendChild(y);r=document.createElement("tr");y.appendChild(r);c=document.createElement("button");c.type="button";c.className="jsoneditor-refresh";i=document.createElement("td");i.appendChild(c);r.appendChild(i);u=document.createElement("input");this.dom.search=u;u.oninput=function(n){f._onDelayedSearch(n)};u.onchange=function(){f._onSearch()};u.onkeydown=function(n){f._onKeyDown(n)};u.onkeyup=function(n){f._onKeyUp(n)};c.onclick=function(){u.select()};i=document.createElement("td");i.appendChild(u);r.appendChild(i);o=document.createElement("button");o.type="button";o.title="Next result (Enter)";o.className="jsoneditor-next";o.onclick=function(){f.next()};i=document.createElement("td");i.appendChild(o);r.appendChild(i);s=document.createElement("button");s.type="button";s.title="Previous result (Shift+Enter)";s.className="jsoneditor-previous";s.onclick=function(){f.previous()};i=document.createElement("td");i.appendChild(s);r.appendChild(i)}t.prototype.next=function(n){if(this.results!=undefined){var t=this.resultIndex!=undefined?this.resultIndex+1:0;t>this.results.length-1&&(t=0);this._setActiveResult(t,n)}};t.prototype.previous=function(n){if(this.results!=undefined){var i=this.results.length-1,t=this.resultIndex!=undefined?this.resultIndex-1:i;t<0&&(t=i);this._setActiveResult(t,n)}};t.prototype._setActiveResult=function(n,t){var r,f,i,u;if(this.activeResult&&(r=this.activeResult.node,f=this.activeResult.elem,f=="field"?delete r.searchFieldActive:delete r.searchValueActive,r.updateDom()),!this.results||!this.results[n]){this.resultIndex=undefined;this.activeResult=undefined;return}this.resultIndex=n;i=this.results[this.resultIndex].node;u=this.results[this.resultIndex].elem;u=="field"?i.searchFieldActive=!0:i.searchValueActive=!0;this.activeResult=this.results[this.resultIndex];i.updateDom();i.scrollTo(function(){t&&i.focus(u)})};t.prototype._clearDelay=function(){this.timeout!=undefined&&(clearTimeout(this.timeout),delete this.timeout)};t.prototype._onDelayedSearch=function(){this._clearDelay();var n=this;this.timeout=setTimeout(function(){n._onSearch()},this.delay)};t.prototype._onSearch=function(n){var u,t,f,e,i,r;if(this._clearDelay(),u=this.dom.search.value,t=u.length>0?u:undefined,t!==this.lastText||n){if(this.lastText=t,this.results=this.editor.search(t),f=this.results[0]?this.results[0].node.MAX_SEARCH_RESULTS:Infinity,e=0,this.activeResult)for(i=0;i<this.results.length;i++)if(this.results[i].node===this.activeResult.node){e=i;break}this._setActiveResult(e,!1);t!==undefined?(r=this.results.length,this.dom.results.innerHTML=r===0?"no&nbsp;results":r===1?"1&nbsp;result":r>f?f+"+&nbsp;results":r+"&nbsp;results"):this.dom.results.innerHTML=""}};t.prototype._onKeyDown=function(n){var t=n.which;t==27?(this.dom.search.value="",this._onSearch(),n.preventDefault(),n.stopPropagation()):t==13&&(n.ctrlKey?this._onSearch(!0):n.shiftKey?this.previous():this.next(),n.preventDefault(),n.stopPropagation())};t.prototype._onKeyUp=function(n){var t=n.keyCode;t!=27&&t!=13&&this._onDelayedSearch(n)};t.prototype.clear=function(){this.dom.search.value="";this._onSearch()};t.prototype.forceSearch=function(){this._onSearch(!0)};t.prototype.isEmpty=function(){return this.dom.search.value===""};t.prototype.destroy=function(){this.editor=null;this.dom.container.removeChild(this.dom.table);this.dom=null;this.results=null;this.activeResult=null;this._clearDelay()};n.exports=t},function(n,t,i){"use strict";function r(n,t){n&&(this.root=t,this.path=document.createElement("div"),this.path.className="jsoneditor-treepath",this.path.setAttribute("tabindex",0),this.contentMenuClicked,n.appendChild(this.path),this.reset())}var f=i(4),e=i(1).translate,u=i(0);r.prototype.reset=function(){this.path.innerHTML=e("selectNode")};r.prototype.setPath=function(n){function i(n){t.contentMenuClicked=!1;u.addClassName(t.path,"show-all");t.path.style.width=t.path.parentNode.getBoundingClientRect().width-10+"px";t.path.onblur=function(){if(t.contentMenuClicked){t.contentMenuClicked=!1;t.path.focus();return}u.removeClassName(t.path,"show-all");t.path.onblur=undefined;t.path.style.width="";t.setPath(n)}}function r(n){this.selectionCallback&&this.selectionCallback(n)}function e(n,t){this.contextMenuCallback&&this.contextMenuCallback(n,t)}var t=this;this.path.innerHTML="";n&&n.length&&n.forEach(function(u,o){var c=document.createElement("span"),s,l,h;c.className="jsoneditor-treepath-element";c.innerText=u.name;c.onclick=r.bind(t,u);t.path.appendChild(c);u.children.length&&(s=document.createElement("span"),s.className="jsoneditor-treepath-seperator",s.innerHTML="&#9658;",s.onclick=function(){var i,r;t.contentMenuClicked=!0;i=[];u.children.forEach(function(r){i.push({text:r.name,className:"jsoneditor-type-modes"+(n[o+1]+1&&n[o+1].name===r.name?" jsoneditor-selected":""),click:e.bind(t,u,r.name)})});r=new f(i);r.show(s,t.root,!0)},t.path.appendChild(s));o===n.length-1&&(l=(s||c).getBoundingClientRect().right,t.path.offsetWidth<l&&(t.path.scrollLeft=l),t.path.scrollLeft&&(h=document.createElement("span"),h.className="jsoneditor-treepath-show-all-btn",h.title="show all path",h.innerHTML="...",h.onclick=i.bind(t,n),t.path.insertBefore(h,t.path.firstChild)))})};r.prototype.onSectionSelected=function(n){typeof n=="function"&&(this.selectionCallback=n)};r.prototype.onContextMenuItemSelected=function(n){typeof n=="function"&&(this.contextMenuCallback=n)};n.exports=r},function(n,t,i){"use strict";function r(n,t){this.editor=n;this.dom={};this.expanded=!1;t&&t instanceof Object?(this.setField(t.field,t.fieldEditable),"value"in t&&this.setValue(t.value,t.type),"internalValue"in t&&this.setInternalValue(t.internalValue)):(this.setField(""),this.setValue(null));this._debouncedOnChangeValue=u.debounce(this._onChangeValue.bind(this),r.prototype.DEBOUNCE_INTERVAL);this._debouncedOnChangeField=u.debounce(this._onChangeField.bind(this),r.prototype.DEBOUNCE_INTERVAL);this.visibleChilds=this.getMaxVisibleChilds()}function s(n){return n.getInternalPath()}function o(n){return n.getField()}var v=i(5),h=i(24),y=i(25).createAbsoluteAnchor,p=i(4),w=i(77),b=i(78),k=i(9),d=i(10),u=i(0),f=i(1).translate,c=i(2).DEFAULT_MODAL_ANCHOR,g=9466848e5,l,e,a;r.prototype.DEBOUNCE_INTERVAL=150;r.prototype.MAX_SEARCH_RESULTS=999;l=100;r.prototype.getMaxVisibleChilds=function(){return this.editor&&this.editor.options&&this.editor.options.maxVisibleChilds?this.editor.options.maxVisibleChilds:l};r.prototype._updateEditability=function(){if(this.editable={field:!0,value:!0},this.editor&&(this.editable.field=this.editor.options.mode==="tree",this.editable.value=this.editor.options.mode!=="view",(this.editor.options.mode==="tree"||this.editor.options.mode==="form")&&typeof this.editor.options.onEditable=="function")){var n=this.editor.options.onEditable({field:this.field,value:this.value,path:this.getPath()});typeof n=="boolean"?(this.editable.field=n,this.editable.value=n):(typeof n.field=="boolean"&&(this.editable.field=n.field),typeof n.value=="boolean"&&(this.editable.value=n.value))}};r.prototype.getPath=function(){for(var n=this,i=[],t;n;)t=n.getName(),t!==undefined&&i.unshift(t),n=n.parent;return i};r.prototype.getInternalPath=function(){for(var n=this,t=[];n;)n.parent&&t.unshift(n.getIndex()),n=n.parent;return t};r.prototype.getName=function(){return this.parent?this.parent.type!="array"?this.field:this.index:undefined};r.prototype.findNodeByPath=function(n){if(n){if(n.length==0)return this;if(n.length&&this.childs&&this.childs.length)for(var t=0;t<this.childs.length;++t)if(""+n[0]==""+this.childs[t].getName())return this.childs[t].findNodeByPath(n.slice(1))}};r.prototype.findNodeByInternalPath=function(n){var t,i,r;if(!n)return undefined;for(t=this,i=0;i<n.length&&t;i++)r=n[i],t=t.childs[r];return t};r.prototype.serialize=function(){return{value:this.getValue(),path:this.getPath()}};r.prototype.findNode=function(n){for(var r=u.parsePath(n),t=this,i;t&&r.length>0;)if(i=r.shift(),typeof i=="number"){if(t.type!=="array")throw new Error("Cannot get child node at index "+i+": node is no array");t=t.childs[i]}else{if(t.type!=="object")throw new Error("Cannot get child node "+i+": node is no object");t=t.childs.filter(function(n){return n.field===i})[0]}return t};r.prototype.findParents=function(){for(var t=[],n=this.parent;n;)t.unshift(n),n=n.parent;return t};r.prototype.setError=function(n,t){this.error=n;this.errorChild=t;this.dom&&this.dom.tr&&this.updateError()};r.prototype.updateError=function(){var f=this.fieldError||this.valueError||this.error,n=this.dom.tdError,i,t,r;if(f&&this.dom&&this.dom.tr){for(u.addClassName(this.dom.tr,"jsoneditor-validation-error"),n||(n=document.createElement("td"),this.dom.tdError=n,this.dom.tdValue.parentNode.appendChild(n)),i=document.createElement("div"),i.className="jsoneditor-popover jsoneditor-right",i.appendChild(document.createTextNode(f.message)),t=document.createElement("button"),t.type="button",t.className="jsoneditor-button jsoneditor-schema-error",t.appendChild(i),t.onmouseover=t.onfocus=function(){for(var r,t=["right","above","below","left"],n=0;n<t.length;n++){r=t[n];i.className="jsoneditor-popover jsoneditor-"+r;var f=this.editor.content.getBoundingClientRect(),e=i.getBoundingClientRect(),o=u.insideRect(f,e,20);if(o)break}}.bind(this),r=this.errorChild,r&&(t.onclick=function(){r.findParents().forEach(function(n){n.expand(!1)});r.scrollTo(function(){r.focus()})});n.firstChild;)n.removeChild(n.firstChild);n.appendChild(t)}else this.dom.tr&&u.removeClassName(this.dom.tr,"jsoneditor-validation-error"),n&&(this.dom.tdError.parentNode.removeChild(this.dom.tdError),delete this.dom.tdError)};r.prototype.getIndex=function(){if(this.parent){var n=this.parent.childs.indexOf(this);return n!==-1?n:null}return-1};r.prototype.setParent=function(n){this.parent=n};r.prototype.setField=function(n,t){this.field=n;this.previousField=n;this.fieldEditable=t===!0};r.prototype.getField=function(){return this.field===undefined&&this._getDomField(),this.field};r.prototype.setValue=function(n,t){var f,i,s,u,e,h=!1,c=this.childs,o;if(this.type=this._getType(n),t&&t!==this.type)if(t==="string"&&this.type==="auto")this.type=t;else throw new Error('Type mismatch: cannot cast value of type "'+this.type+' to the specified type "'+t+'"');if(this.type==="array"){for(this.childs||(this.childs=[]),u=0;u<n.length;u++)f=n[u],f===undefined||f instanceof Function||(u<this.childs.length?(i=this.childs[u],i.fieldEditable=!1,i.index=u,i.setValue(f)):(i=new r(this.editor,{value:f}),s=u<this.getMaxVisibleChilds(),this.appendChild(i,s,h)));for(e=this.childs.length;e>=n.length;e--)this.removeChild(this.childs[e],h)}else if(this.type==="object"){for(this.childs||(this.childs=[]),e=this.childs.length-1;e>=0;e--)n.hasOwnProperty(this.childs[e].field)||this.removeChild(this.childs[e],h);u=0;for(o in n)n.hasOwnProperty(o)&&(f=n[o],f===undefined||f instanceof Function||(i=this.findChildByProperty(o),i?(i.setField(o,!0),i.setValue(f)):(i=new r(this.editor,{field:o,value:f}),s=u<this.getMaxVisibleChilds(),this.appendChild(i,s,h))),u++);this.value="";this.editor.options.sortObjectKeys===!0&&this.sort([],"asc")}else this.hideChilds(),delete this.append,delete this.showMore,delete this.expanded,delete this.childs,this.value=n;Array.isArray(c)!==Array.isArray(this.childs)&&this.recreateDom();this.updateDom({updateIndexes:!0});this.previousValue=this.value};r.prototype.setInternalValue=function(n){var i,u,e,t,f,o=!1,s=this.childs;if(this.type=n.type,n.type==="array"){for(this.childs||(this.childs=[]),t=0;t<n.childs.length;t++)i=n.childs[t],i===undefined||i instanceof Function||(t<this.childs.length?(u=this.childs[t],u.fieldEditable=!1,u.index=t,u.setInternalValue(i)):(u=new r(this.editor,{internalValue:i}),e=t<this.getMaxVisibleChilds(),this.appendChild(u,e,o)));for(f=this.childs.length;f>=n.childs.length;f--)this.removeChild(this.childs[f],o)}else if(n.type==="object"){for(this.childs||(this.childs=[]),t=0;t<n.childs.length;t++)i=n.childs[t],i===undefined||i instanceof Function||(t<this.childs.length?(u=this.childs[t],delete u.index,u.setField(i.field,!0),u.setInternalValue(i.value)):(u=new r(this.editor,{field:i.field,internalValue:i.value}),e=t<this.getMaxVisibleChilds(),this.appendChild(u,e,o)));for(f=this.childs.length;f>=n.childs.length;f--)this.removeChild(this.childs[f],o)}else this.hideChilds(),delete this.append,delete this.showMore,delete this.expanded,delete this.childs,this.value=n.value;Array.isArray(s)!==Array.isArray(this.childs)&&this.recreateDom();this.updateDom({updateIndexes:!0});this.previousValue=this.value};r.prototype.recreateDom=function(){if(this.dom&&this.dom.tr&&this.dom.tr.parentNode){var n=this._detachFromDom();this.clearDom();this._attachToDom(n)}else this.clearDom()};r.prototype.getValue=function(){var n,t;return this.type=="array"?(n=[],this.childs.forEach(function(t){n.push(t.getValue())}),n):this.type=="object"?(t={},this.childs.forEach(function(n){t[n.getField()]=n.getValue()}),t):(this.value===undefined&&this._getDomValue(),this.value)};r.prototype.getInternalValue=function(){return this.type==="array"?{type:this.type,childs:this.childs.map(function(n){return n.getInternalValue()})}:this.type==="object"?{type:this.type,childs:this.childs.map(function(n){return{field:n.getField(),value:n.getInternalValue()}})}:(this.value===undefined&&this._getDomValue(),{type:this.type,value:this.value})};r.prototype.getLevel=function(){return this.parent?this.parent.getLevel()+1:0};r.prototype.getNodePath=function(){var n=this.parent?this.parent.getNodePath():[];return n.push(this),n};r.prototype.clone=function(){var n=new r(this.editor),t;return n.type=this.type,n.field=this.field,n.fieldInnerText=this.fieldInnerText,n.fieldEditable=this.fieldEditable,n.previousField=this.previousField,n.value=this.value,n.valueInnerText=this.valueInnerText,n.previousValue=this.previousValue,n.expanded=this.expanded,n.visibleChilds=this.visibleChilds,this.childs?(t=[],this.childs.forEach(function(i){var r=i.clone();r.setParent(n);t.push(r)}),n.childs=t):n.childs=undefined,n};r.prototype.expand=function(n){this.childs&&(this.expanded=!0,this.dom.expand&&(this.dom.expand.className="jsoneditor-button jsoneditor-expanded"),this.showChilds(),n!==!1&&this.childs.forEach(function(t){t.expand(n)}))};r.prototype.collapse=function(n){this.childs&&(this.hideChilds(),n!==!1&&this.childs.forEach(function(t){t.collapse(n)}),this.dom.expand&&(this.dom.expand.className="jsoneditor-button jsoneditor-collapsed"),this.expanded=!1)};r.prototype.showChilds=function(){var s=this.childs,i,t,r,o,u,f,e,n;if(s&&this.expanded&&(i=this.dom.tr,t=i?i.parentNode:undefined,t)){for(r=this.getAppendDom(),r.parentNode||(n=i.nextSibling,n?t.insertBefore(r,n):t.appendChild(r)),o=Math.min(this.childs.length,this.visibleChilds),n=this._getNextTr(),u=0;u<o;u++)f=this.childs[u],f.getDom().parentNode||t.insertBefore(f.getDom(),n),f.showChilds();e=this.getShowMoreDom();n=this._getNextTr();e.parentNode||t.insertBefore(e,n);this.showMore.updateDom()}};r.prototype._getNextTr=function(){return this.showMore&&this.showMore.getDom().parentNode?this.showMore.getDom():this.append&&this.append.getDom().parentNode?this.append.getDom():void 0};r.prototype.hide=function(n){var t=this.dom.tr,i=t?t.parentNode:undefined;i&&i.removeChild(t);this.hideChilds(n)};r.prototype.hideChilds=function(n){var r=this.childs,t,i;r&&this.expanded&&(t=this.getAppendDom(),t.parentNode&&t.parentNode.removeChild(t),this.childs.forEach(function(n){n.hide()}),i=this.getShowMoreDom(),i.parentNode&&i.parentNode.removeChild(i),(!n||n.resetVisibleChilds)&&(this.visibleChilds=this.getMaxVisibleChilds()))};r.prototype._updateCssClassName=function(){if(this.dom.field&&this.editor&&this.editor.options&&typeof this.editor.options.onClassName=="function"&&this.dom.tree){u.removeAllClassNames(this.dom.tree);var n=this.editor.options.onClassName({path:this.getPath(),field:this.field,value:this.value})||"";u.addClassName(this.dom.tree,"jsoneditor-values "+n)}};r.prototype.recursivelyUpdateCssClassesOnNodes=function(){if(this._updateCssClassName(),Array.isArray(this.childs))for(var n=0;n<this.childs.length;n++)this.childs[n].recursivelyUpdateCssClassesOnNodes()};r.prototype.expandTo=function(){for(var n=this.parent;n;)n.expanded||n.expand(),n=n.parent};r.prototype.appendChild=function(n,t,i){if(this._hasChilds()){if(n.setParent(this),n.fieldEditable=this.type=="object",this.type=="array"&&(n.index=this.childs.length),this.type==="object"&&n.field==undefined&&n.setField(""),this.childs.push(n),this.expanded&&t!==!1){var f=n.getDom(),r=this._getNextTr(),u=r?r.parentNode:undefined;r&&u&&u.insertBefore(f,r);n.showChilds();this.visibleChilds++}i!==!1&&(this.updateDom({updateIndexes:!0}),n.updateDom({recurse:!0}))}};r.prototype.moveBefore=function(n,t){var i,r,u;this._hasChilds()&&(i=this.dom.tr?this.dom.tr.parentNode:undefined,i&&(r=document.createElement("tr"),r.style.height=i.clientHeight+"px",i.appendChild(r)),n.parent&&n.parent.removeChild(n),t instanceof e||!t?this.childs.length+1>this.visibleChilds?(u=this.childs[this.visibleChilds-1],this.insertBefore(n,u)):this.appendChild(n):this.insertBefore(n,t),i&&i.removeChild(r))};r.prototype.insertBefore=function(n,t){var r;if(this._hasChilds()){if(this.visibleChilds++,this.type==="object"&&n.field==undefined&&n.setField(""),t===this.append)n.setParent(this),n.fieldEditable=this.type=="object",this.childs.push(n);else{if(r=this.childs.indexOf(t),r==-1)throw new Error("Node not found");n.setParent(this);n.fieldEditable=this.type=="object";this.childs.splice(r,0,n)}if(this.expanded){var f=n.getDom(),i=t.getDom(),u=i?i.parentNode:undefined;i&&u&&u.insertBefore(f,i);n.showChilds();this.showChilds()}this.updateDom({updateIndexes:!0});n.updateDom({recurse:!0})}};r.prototype.insertAfter=function(n,t){if(this._hasChilds()){var r=this.childs.indexOf(t),i=this.childs[r+1];i?this.insertBefore(n,i):this.appendChild(n)}};r.prototype.search=function(n,t){var i,r,u,f;return Array.isArray(t)||(t=[]),r=n?n.toLowerCase():undefined,delete this.searchField,delete this.searchValue,this.field!==undefined&&t.length<=this.MAX_SEARCH_RESULTS&&(u=String(this.field).toLowerCase(),i=u.indexOf(r),i!==-1&&(this.searchField=!0,t.push({node:this,elem:"field"})),this._updateDomField()),this._hasChilds()?this.childs&&this.childs.forEach(function(i){i.search(n,t)}):this.value!==undefined&&t.length<=this.MAX_SEARCH_RESULTS&&(f=String(this.value).toLowerCase(),i=f.indexOf(r),i!==-1&&(this.searchValue=!0,t.push({node:this,elem:"value"})),this._updateDomValue()),t};r.prototype.scrollTo=function(n){this.expandPathToNode();this.dom.tr&&this.dom.tr.parentNode&&this.editor.scrollTo(this.dom.tr.offsetTop,n)};r.prototype.expandPathToNode=function(){for(var n=this,t;n&&n.parent;){for(t=n.parent.type==="array"?n.index:n.parent.childs.indexOf(n);n.parent.visibleChilds<t+1;)n.parent.visibleChilds+=this.getMaxVisibleChilds();n.parent.expand(!1);n=n.parent}};r.focusElement=undefined;r.prototype.focus=function(n){if(r.focusElement=n,this.dom.tr&&this.dom.tr.parentNode){var t=this.dom;switch(n){case"drag":t.drag?t.drag.focus():t.menu.focus();break;case"menu":t.menu.focus();break;case"expand":this._hasChilds()?t.expand.focus():t.field&&this.fieldEditable?(t.field.focus(),u.selectContentEditable(t.field)):t.value&&!this._hasChilds()?(t.value.focus(),u.selectContentEditable(t.value)):t.menu.focus();break;case"field":t.field&&this.fieldEditable?(t.field.focus(),u.selectContentEditable(t.field)):t.value&&!this._hasChilds()?(t.value.focus(),u.selectContentEditable(t.value)):this._hasChilds()?t.expand.focus():t.menu.focus();break;case"value":default:t.select?t.select.focus():t.value&&!this._hasChilds()?(t.value.focus(),u.selectContentEditable(t.value)):t.field&&this.fieldEditable?(t.field.focus(),u.selectContentEditable(t.field)):this._hasChilds()?t.expand.focus():t.menu.focus()}}};r.select=function(n){setTimeout(function(){u.selectContentEditable(n)},0)};r.prototype.containsNode=function(n){var t,i,r;if(this==n)return!0;if(t=this.childs,t)for(i=0,r=t.length;i<r;i++)if(t[i].containsNode(n))return!0;return!1};r.prototype.removeChild=function(n,t){var i,r;return this.childs&&(i=this.childs.indexOf(n),i!==-1)?(i<this.visibleChilds&&this.expanded&&this.visibleChilds--,n.hide(),delete n.searchField,delete n.searchValue,r=this.childs.splice(i,1)[0],r.parent=null,t!==!1&&this.updateDom({updateIndexes:!0}),r):undefined};r.prototype._remove=function(n){this.removeChild(n)};r.prototype.changeType=function(n){var t=this.type,i;t!=n&&((n=="string"||n=="auto")&&(t=="string"||t=="auto")?this.type=n:(i=this._detachFromDom(),this.clearDom(),this.type=n,n=="object"?(this.childs||(this.childs=[]),this.childs.forEach(function(n){n.clearDom();delete n.index;n.fieldEditable=!0;n.field==undefined&&(n.field="")}),(t=="string"||t=="auto")&&(this.expanded=!0)):n=="array"?(this.childs||(this.childs=[]),this.childs.forEach(function(n,t){n.clearDom();n.fieldEditable=!1;n.index=t}),(t=="string"||t=="auto")&&(this.expanded=!0)):this.expanded=!1,this._attachToDom(i)),(n=="auto"||n=="string")&&(this.value=n=="string"?String(this.value):u.parseString(String(this.value)),this.focus()),this.updateDom({updateIndexes:!0}))};r.prototype.deepEqual=function(n){var t,r,u,i;if(this.type==="array"){if(!Array.isArray(n)||this.childs.length!==n.length)return!1;for(t=0;t<this.childs.length;t++)if(!this.childs[t].deepEqual(n[t]))return!1}else if(this.type==="object"){if(typeof n!="object"||!n)return!1;for(r={},u=0,t=0;t<this.childs.length;t++)if(i=this.childs[t],!r[i.field]&&((r[i.field]=!0,u++,!(i.field in n))||!i.deepEqual(n[i.field])))return!1;if(u!==Object.keys(n).length)return!1}else if(this.value!==n)return!1;return!0};r.prototype._getDomValue=function(){var n,t;if(this._clearValueError(),this.dom.value&&this.type!="array"&&this.type!="object"&&(this.valueInnerText=u.getInnerText(this.dom.value)),this.valueInnerText!=undefined)try{this.type=="string"?n=this._unescapeHTML(this.valueInnerText):(t=this._unescapeHTML(this.valueInnerText),n=u.parseString(t));n!==this.value&&(this.value=n,this._debouncedOnChangeValue())}catch(i){this._setValueError(f("cannotParseValueError"))}};r.prototype._setValueError=function(n){this.valueError={message:n};this.updateError()};r.prototype._clearValueError=function(){this.valueError&&(this.valueError=null,this.updateError())};r.prototype._setFieldError=function(n){this.fieldError={message:n};this.updateError()};r.prototype._clearFieldError=function(){this.fieldError&&(this.fieldError=null,this.updateError())};r.prototype._onChangeValue=function(){var t=this.editor.getDomSelection(),i,n,r;t.range&&(i=u.textDiff(String(this.value),String(this.previousValue)),t.range.startOffset=i.start,t.range.endOffset=i.end);n=this.editor.getDomSelection();n.range&&(r=u.textDiff(String(this.previousValue),String(this.value)),n.range.startOffset=r.start,n.range.endOffset=r.end);this.editor._onAction("editValue",{path:this.getInternalPath(),oldValue:this.previousValue,newValue:this.value,oldSelection:t,newSelection:n});this.previousValue=this.value};r.prototype._onChangeField=function(){var t=this.editor.getDomSelection(),f=this.previousField||"",i,n,r;t.range&&(i=u.textDiff(this.field,f),t.range.startOffset=i.start,t.range.endOffset=i.end);n=this.editor.getDomSelection();n.range&&(r=u.textDiff(f,this.field),n.range.startOffset=r.start,n.range.endOffset=r.end);this.editor._onAction("editField",{parentPath:this.parent.getInternalPath(),index:this.getIndex(),oldValue:this.previousField,newValue:this.field,oldSelection:t,newSelection:n});this.previousField=this.field};r.prototype._updateDomValue=function(){var i=this.dom.value,s,h,e;if(i){var t=["jsoneditor-value"],n=this.value,r=this.type=="auto"?u.type(n):this.type,o=r=="string"&&u.isUrl(n);if(t.push("jsoneditor-"+r),o&&t.push("jsoneditor-url"),s=String(this.value)==""&&this.type!="array"&&this.type!="object",s&&t.push("jsoneditor-empty"),this.searchValueActive&&t.push("jsoneditor-highlight-active"),this.searchValue&&t.push("jsoneditor-highlight"),i.className=t.join(" "),r=="array"||r=="object"?(h=this.childs?this.childs.length:0,i.title=this.type+" containing "+h+" items"):i.title=o&&this.editable.value?f("openUrl"):"",r==="boolean"&&this.editable.value?(this.dom.checkbox||(this.dom.checkbox=document.createElement("input"),this.dom.checkbox.type="checkbox",this.dom.tdCheckbox=document.createElement("td"),this.dom.tdCheckbox.className="jsoneditor-tree",this.dom.tdCheckbox.appendChild(this.dom.checkbox),this.dom.tdValue.parentNode.insertBefore(this.dom.tdCheckbox,this.dom.tdValue)),this.dom.checkbox.checked=this.value):this.dom.tdCheckbox&&(this.dom.tdCheckbox.parentNode.removeChild(this.dom.tdCheckbox),delete this.dom.tdCheckbox,delete this.dom.checkbox),this["enum"]&&this.editable.value){if(!this.dom.select){for(this.dom.select=document.createElement("select"),this.id=this.field+"_"+(new Date).getUTCMilliseconds(),this.dom.select.id=this.id,this.dom.select.name=this.dom.select.id,this.dom.select.option=document.createElement("option"),this.dom.select.option.value="",this.dom.select.option.innerHTML="--",this.dom.select.appendChild(this.dom.select.option),e=0;e<this["enum"].length;e++)this.dom.select.option=document.createElement("option"),this.dom.select.option.value=this["enum"][e],this.dom.select.option.innerHTML=this["enum"][e],this.dom.select.option.value==this.value&&(this.dom.select.option.selected=!0),this.dom.select.appendChild(this.dom.select.option);this.dom.tdSelect=document.createElement("td");this.dom.tdSelect.className="jsoneditor-tree";this.dom.tdSelect.appendChild(this.dom.select);this.dom.tdValue.parentNode.insertBefore(this.dom.tdSelect,this.dom.tdValue)}!this.schema||this.schema.hasOwnProperty("oneOf")||this.schema.hasOwnProperty("anyOf")||this.schema.hasOwnProperty("allOf")?delete this.valueFieldHTML:(this.valueFieldHTML=this.dom.tdValue.innerHTML,this.dom.tdValue.style.visibility="hidden",this.dom.tdValue.innerHTML="")}else this.dom.tdSelect&&(this.dom.tdSelect.parentNode.removeChild(this.dom.tdSelect),delete this.dom.tdSelect,delete this.dom.select,this.dom.tdValue.innerHTML=this.valueFieldHTML,this.dom.tdValue.style.visibility="",delete this.valueFieldHTML);this.editable.value&&this.editor.options.colorPicker&&typeof n=="string"&&u.isValidColor(n)?(this.dom.color||(this.dom.color=document.createElement("div"),this.dom.color.className="jsoneditor-color",this.dom.tdColor=document.createElement("td"),this.dom.tdColor.className="jsoneditor-tree",this.dom.tdColor.appendChild(this.dom.color),this.dom.tdValue.parentNode.insertBefore(this.dom.tdColor,this.dom.tdValue),this.dom.value.style.color="#1A1A1A"),this.dom.color.style.backgroundColor=n):this._deleteDomColor();this.editor.options.timestampTag&&typeof n=="number"&&n>g&&!isNaN(new Date(n).valueOf())?(this.dom.date||(this.dom.date=document.createElement("div"),this.dom.date.className="jsoneditor-date",this.dom.value.parentNode.appendChild(this.dom.date)),this.dom.date.innerHTML=new Date(n).toISOString(),this.dom.date.title=new Date(n).toString()):this.dom.date&&(this.dom.date.parentNode.removeChild(this.dom.date),delete this.dom.date);u.stripFormatting(i);this._updateDomDefault()}};r.prototype._deleteDomColor=function(){this.dom.color&&(this.dom.tdColor.parentNode.removeChild(this.dom.tdColor),delete this.dom.tdColor,delete this.dom.color,this.dom.value.style.color="")};r.prototype._updateDomField=function(){var n=this.dom.field,t,i;n&&(t=u.makeFieldTooltip(this.schema,this.editor.options.language),t&&(n.title=t),i=String(this.field)==""&&this.parent.type!="array",i?u.addClassName(n,"jsoneditor-empty"):u.removeClassName(n,"jsoneditor-empty"),this.searchFieldActive?u.addClassName(n,"jsoneditor-highlight-active"):u.removeClassName(n,"jsoneditor-highlight-active"),this.searchField?u.addClassName(n,"jsoneditor-highlight"):u.removeClassName(n,"jsoneditor-highlight"),u.stripFormatting(n))};r.prototype._getDomField=function(n){if(this._clearFieldError(),this.dom.field&&this.fieldEditable&&(this.fieldInnerText=u.getInnerText(this.dom.field)),this.fieldInnerText!==undefined)try{var t=this._unescapeHTML(this.fieldInnerText),i=this.parent.getFieldNames(this),r=i.indexOf(t)!==-1;r?n?(t=u.findUniqueName(t,i),t!==this.field&&(this.field=t,this._debouncedOnChangeField())):this._setFieldError(f("duplicateFieldError")):t!==this.field&&(this.field=t,this._debouncedOnChangeField())}catch(e){this._setFieldError(f("cannotParseFieldError"))}};r.prototype._updateDomDefault=function(){if(this.schema&&this.schema["default"]!==undefined&&!this._hasChilds()){var n=this.dom.select?this.dom.select:this.dom.value;n&&(this.value===this.schema["default"]?(n.title=f("default"),u.addClassName(n,"jsoneditor-is-default"),u.removeClassName(n,"jsoneditor-is-not-default")):(n.removeAttribute("title"),u.removeClassName(n,"jsoneditor-is-default"),u.addClassName(n,"jsoneditor-is-not-default")))}};r.prototype.clearDom=function(){this.dom={}};r.prototype.getDom=function(){var n=this.dom,r,t,u,i,e;return n.tr?n.tr:(this._updateEditability(),n.tr=document.createElement("tr"),n.tr.node=this,this.editor.options.mode==="tree"&&(r=document.createElement("td"),this.editable.field&&this.parent&&(t=document.createElement("button"),t.type="button",n.drag=t,t.className="jsoneditor-button jsoneditor-dragarea",t.title=f("drag"),r.appendChild(t)),n.tr.appendChild(r),u=document.createElement("td"),i=document.createElement("button"),i.type="button",n.menu=i,i.className="jsoneditor-button jsoneditor-contextmenu",i.title=f("actionsMenu"),u.appendChild(n.menu),n.tr.appendChild(u)),e=document.createElement("td"),n.tr.appendChild(e),n.tree=this._createDomTree(),e.appendChild(n.tree),this.updateDom({updateIndexes:!0}),n.tr)};r.prototype.isVisible=function(){return this.dom&&this.dom.tr&&this.dom.tr.parentNode||!1};r.onDragStart=function(n,t){if(!Array.isArray(n))return r.onDragStart([n],t);if(n.length!==0){var f=n[0],o=n[n.length-1],e=f.parent,h=r.getNodeFromTarget(t.target),i=f.editor,c=u.getAbsoluteTop(h.dom.tr)-u.getAbsoluteTop(f.dom.tr);i.mousemove||(i.mousemove=u.addEventListener(window,"mousemove",function(t){r.onDrag(n,t)}));i.mouseup||(i.mouseup=u.addEventListener(window,"mouseup",function(t){r.onDragEnd(n,t)}));i.highlighter.lock();i.drag={oldCursor:document.body.style.cursor,oldSelection:i.getDomSelection(),oldPaths:n.map(s),oldParent:e,oldNextNode:e.childs[o.getIndex()+1]||e.append,oldParentPathRedo:e.getInternalPath(),oldIndexRedo:f.getIndex(),mouseX:t.pageX,offsetY:c,level:f.getLevel()};document.body.style.cursor="move";t.preventDefault()}};r.onDrag=function(n,t){var h,et,g;if(!Array.isArray(n))return r.onDrag([n],t);if(n.length!==0){var c=n[0].editor,l=t.pageY-c.drag.offsetY,nt=t.pageX,a,o,s,v,y,b,f,i,p,w,tt,it,rt,ut,k=!1,d=n[0];if(a=d.dom.tr,p=u.getAbsoluteTop(a),it=a.offsetHeight,l<p){o=a;do o=o.previousSibling,f=r.getNodeFromTarget(o),w=o?u.getAbsoluteTop(o):0;while(o&&l<w);f&&!f.parent&&(f=undefined);f||(b=a.parentNode.firstChild,o=b?b.nextSibling:undefined,f=r.getNodeFromTarget(o),f==d&&(f=undefined));f&&f.isVisible()&&(o=f.dom.tr,w=o?u.getAbsoluteTop(o):0,l>w+it&&(f=undefined));f&&(n.forEach(function(n){f.parent.moveBefore(n,f)}),k=!0)}else if(h=n[n.length-1],y=h.expanded&&h.append?h.append.getDom():h.dom.tr,v=y?y.nextSibling:undefined,v){tt=u.getAbsoluteTop(v);s=v;do i=r.getNodeFromTarget(s),s&&(rt=s.nextSibling?u.getAbsoluteTop(s.nextSibling):0,ut=s?rt-tt:0,i&&i.parent.childs.length==n.length&&i.parent.childs[n.length-1]==h&&(p+=27),s=s.nextSibling);while(s&&l>p+ut);if(i&&i.parent){var ot=nt-c.drag.mouseX,st=Math.round(ot/48),ht=c.drag.level+st,ft=i.getLevel();for(o=i.dom.tr&&i.dom.tr.previousSibling;ft<ht&&o;){if(f=r.getNodeFromTarget(o),et=n.some(function(n){return n===f||f.isDescendantOf(n)}),!et)if(f instanceof e)if(g=f.parent.childs,g.length!=n.length||g[n.length-1]!=h)i=r.getNodeFromTarget(o),ft=i.getLevel();else break;else break;o=o.previousSibling}i instanceof e&&!i.isVisible()&&i.parent.showMore.isVisible()&&(i=i._nextNode());i&&i.dom.tr&&y.nextSibling!=i.dom.tr&&(n.forEach(function(n){i.parent.moveBefore(n,i)}),k=!0)}}k&&(c.drag.mouseX=nt,c.drag.level=d.getLevel());c.startAutoScroll(l);t.preventDefault()}};r.onDragEnd=function(n,t){var f,i;if(!Array.isArray(n))return r.onDrag([n],t);if(n.length!==0){f=n[0];i=f.editor;n[0]&&n[0].dom.menu.focus();var c=i.drag.oldParent.getInternalPath(),l=f.parent.getInternalPath(),h=i.drag.oldParent===f.parent,a=i.drag.oldNextNode.getIndex(),e=f.getIndex(),v=i.drag.oldParentPathRedo,s=i.drag.oldIndexRedo,y=h&&s<e?e+n.length:e;h&&s===e||i._onAction("moveNodes",{count:n.length,fieldNames:n.map(o),oldParentPath:c,newParentPath:l,oldIndex:a,newIndex:e,oldIndexRedo:s,newIndexRedo:y,oldParentPathRedo:v,newParentPathRedo:null,oldSelection:i.drag.oldSelection,newSelection:i.getDomSelection()});document.body.style.cursor=i.drag.oldCursor;i.highlighter.unlock();n.forEach(function(n){n.updateDom();t.target!==n.dom.drag&&t.target!==n.dom.menu&&i.highlighter.unhighlight()});delete i.drag;i.mousemove&&(u.removeEventListener(window,"mousemove",i.mousemove),delete i.mousemove);i.mouseup&&(u.removeEventListener(window,"mouseup",i.mouseup),delete i.mouseup);i.stopAutoScroll();t.preventDefault()}};r.prototype.isDescendantOf=function(n){for(var t=this.parent;t;){if(t==n)return!0;t=t.parent}return!1};r.prototype._createDomField=function(){return document.createElement("div")};r.prototype.setHighlight=function(n){this.dom.tr&&(n?u.addClassName(this.dom.tr,"jsoneditor-highlight"):u.removeClassName(this.dom.tr,"jsoneditor-highlight"),this.append&&this.append.setHighlight(n),this.childs&&this.childs.forEach(function(t){t.setHighlight(n)}))};r.prototype.setSelected=function(n,t){this.selected=n;this.dom.tr&&(n?u.addClassName(this.dom.tr,"jsoneditor-selected"):u.removeClassName(this.dom.tr,"jsoneditor-selected"),t?u.addClassName(this.dom.tr,"jsoneditor-first"):u.removeClassName(this.dom.tr,"jsoneditor-first"),this.append&&this.append.setSelected(n),this.showMore&&this.showMore.setSelected(n),this.childs&&this.childs.forEach(function(t){t.setSelected(n)}))};r.prototype.updateValue=function(n){this.value=n;this.previousValue=n;this.valueError=undefined;this.updateDom()};r.prototype.updateField=function(n){this.field=n;this.previousField=n;this.fieldError=undefined;this.updateDom()};r.prototype.updateDom=function(n){var o=this.dom.tree,t,i,f,e;o&&(o.style.marginLeft=this.getLevel()*24+"px");t=this.dom.field;t&&(this.fieldEditable?(t.contentEditable=this.editable.field,t.spellcheck=!1,t.className="jsoneditor-field"):(t.contentEditable=!1,t.className="jsoneditor-readonly"),this.index!=undefined?i=this.index:this.field!=undefined?i=this.field:(f=this.editor.options.schema?r._findSchema(this.editor.options.schema,this.editor.options.schemaRefs||{},this.getPath()):undefined,i=f&&f.title?f.title:this._hasChilds()?this.type:""),t.innerHTML=this._escapeHTML(i),this._updateSchema());e=this.dom.value;e&&(this.type=="array"?(this.updateNodeName(),u.addClassName(this.dom.tr,"jsoneditor-expandable")):this.type=="object"?(this.updateNodeName(),u.addClassName(this.dom.tr,"jsoneditor-expandable")):(e.innerHTML=this._escapeHTML(this.value),u.removeClassName(this.dom.tr,"jsoneditor-expandable")));this._updateDomField();this._updateDomValue();this._updateCssClassName();n&&n.updateIndexes===!0&&this._updateDomIndexes();n&&n.recurse===!0&&this.childs&&this.childs.forEach(function(t){t.updateDom(n)});this.error&&this.updateError();this.append&&this.append.updateDom();this.showMore&&this.showMore.updateDom()};r.prototype._updateSchema=function(){this.editor&&this.editor.options&&(this.schema=this.editor.options.schema?r._findSchema(this.editor.options.schema,this.editor.options.schemaRefs||{},this.getPath()):null,this.schema?this["enum"]=r._findEnum(this.schema):delete this["enum"])};r._findEnum=function(n){var t,i;return n["enum"]?n["enum"]:(t=n.oneOf||n.anyOf||n.allOf,t&&(i=t.filter(function(n){return n["enum"]}),i.length>0))?i[0]["enum"]:null};r._findSchema=function(n,t,i){var u=n,e=u,s=n.oneOf||n.anyOf||n.allOf,h,o,c,f,l;for(s||(s=[n]),h=0;h<s.length;h++)for(u=s[h],("$ref"in u)&&typeof u.$ref=="string"&&(u=t[u.$ref],u&&(e=r._findSchema(u,t,i))),o=0;o<i.length&&u;o++)if(c=i.slice(o+1,i.length),f=i[o],typeof f!="string"||!u.patternProperties||u.properties&&f in u.properties)typeof f=="string"&&u.properties?f in u.properties?(u=u.properties[f],u&&(e=r._findSchema(u,t,c))):e=null:typeof f=="number"&&u.items&&(u=u.items,u&&(e=r._findSchema(u,t,c)));else for(l in u.patternProperties)f.match(l)&&(e=r._findSchema(u.patternProperties[l],t,c));return e===n&&i.length>0?null:e};r.prototype._updateDomIndexes=function(){var t=this.dom.value,n=this.childs;t&&n&&(this.type=="array"?n.forEach(function(n,t){n.index=t;var i=n.dom.field;i&&(i.innerHTML=t)}):this.type=="object"&&n.forEach(function(n){n.index!=undefined&&(delete n.index,n.field==undefined&&(n.field=""))}))};r.prototype._createDomValue=function(){var n;return this.type=="array"?(n=document.createElement("div"),n.innerHTML="[...]"):this.type=="object"?(n=document.createElement("div"),n.innerHTML="{...}"):!this.editable.value&&u.isUrl(this.value)?(n=document.createElement("a"),n.href=this.value,n.innerHTML=this._escapeHTML(this.value)):(n=document.createElement("div"),n.contentEditable=this.editable.value,n.spellcheck=!1,n.innerHTML=this._escapeHTML(this.value)),n};r.prototype._createDomExpandButton=function(){var n=document.createElement("button");return n.type="button",this._hasChilds()?(n.className=this.expanded?"jsoneditor-button jsoneditor-expanded":"jsoneditor-button jsoneditor-collapsed",n.title=f("expandTitle")):(n.className="jsoneditor-button jsoneditor-invisible",n.title=""),n};r.prototype._createDomTree=function(){var n=this.dom,e=document.createElement("table"),o=document.createElement("tbody"),t,r,u,i,f;return e.style.borderCollapse="collapse",e.className="jsoneditor-values",e.appendChild(o),t=document.createElement("tr"),o.appendChild(t),r=document.createElement("td"),r.className="jsoneditor-tree",t.appendChild(r),n.expand=this._createDomExpandButton(),r.appendChild(n.expand),n.tdExpand=r,u=document.createElement("td"),u.className="jsoneditor-tree",t.appendChild(u),n.field=this._createDomField(),u.appendChild(n.field),n.tdField=u,i=document.createElement("td"),i.className="jsoneditor-tree",t.appendChild(i),this.type!="object"&&this.type!="array"&&(i.appendChild(document.createTextNode(":")),i.className="jsoneditor-separator"),n.tdSeparator=i,f=document.createElement("td"),f.className="jsoneditor-tree",t.appendChild(f),n.value=this._createDomValue(),f.appendChild(n.value),n.tdValue=f,e};r.prototype.onEvent=function(n){var r=n.type,i=n.target||n.srcElement,t=this.dom,f=this,h=this._hasChilds(),s,l,o,e,c,a;if(typeof this.editor.options.onEvent=="function"&&this._onEvent(n),(i==t.drag||i==t.menu)&&(r=="mouseover"?this.editor.highlighter.highlight(this):r=="mouseout"&&this.editor.highlighter.unhighlight()),r=="click"&&i==t.menu&&(s=f.editor.highlighter,s.highlight(f),s.lock(),u.addClassName(t.menu,"jsoneditor-selected"),this.showContextMenu(t.menu,function(){u.removeClassName(t.menu,"jsoneditor-selected");s.unlock();s.unhighlight()})),r=="click"&&(i==t.expand||(f.editor.options.mode==="view"||f.editor.options.mode==="form")&&i.nodeName==="DIV")&&h&&(l=n.ctrlKey,this._onExpand(l)),r==="click"&&(n.target===f.dom.tdColor||n.target===f.dom.color)&&this._showColorPicker(),r=="change"&&i==t.checkbox&&(this.dom.value.innerHTML=!this.value,this._getDomValue(),this._updateDomDefault()),r=="change"&&i==t.select&&(this.dom.value.innerHTML=t.select.value,this._getDomValue(),this._updateDomValue()),o=t.value,i==o)switch(r){case"blur":case"change":this._getDomValue();this._clearValueError();this._updateDomValue();this.value&&(o.innerHTML=this._escapeHTML(this.value));break;case"input":this._getDomValue();this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getDomSelection();break;case"click":n.ctrlKey&&this.editable.value&&u.isUrl(this.value)&&(n.preventDefault(),window.open(this.value,"_blank"));break;case"keyup":this._getDomValue();this._updateDomValue();break;case"cut":case"paste":setTimeout(function(){f._getDomValue();f._updateDomValue()},1)}if(e=t.field,i==e)switch(r){case"blur":this._getDomField(!0);this._updateDomField();this.field&&(e.innerHTML=this._escapeHTML(this.field));break;case"input":this._getDomField();this._updateSchema();this._updateDomField();this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getDomSelection();break;case"keyup":this._getDomField();this._updateDomField();break;case"cut":case"paste":setTimeout(function(){f._getDomField();f._updateDomField()},1)}if(c=t.tree,c&&i==c.parentNode&&r=="click"&&!n.hasMoved&&(a=n.offsetX!=undefined?n.offsetX<(this.getLevel()+1)*24:n.pageX<u.getAbsoluteLeft(t.tdSeparator),a||h?e&&(u.setEndOfContentEditable(e),e.focus()):o&&!this["enum"]&&(u.setEndOfContentEditable(o),o.focus())),(i!=t.tdExpand||h)&&i!=t.tdField&&i!=t.tdSeparator||r!="click"||n.hasMoved||e&&(u.setEndOfContentEditable(e),e.focus()),r=="keydown")this.onKeyDown(n)};r.prototype._onEvent=function(n){var t=n.target,i;if(t===this.dom.field||t===this.dom.value){i={field:this.getField(),path:this.getPath()};this._hasChilds()||t!==this.dom.value||(i.value=this.getValue());this.editor.options.onEvent(i,n)}};r.prototype.onKeyDown=function(n){var p=n.which||n.keyCode,l=n.target||n.srcElement,d=n.ctrlKey,v=n.shiftKey,w=n.altKey,s=!1,t,i,ft,yt,k=this.editor.options.mode==="tree",g,nt,f,tt,it,rt,ut,et,b,c=this.editor.multiselection.nodes.length>0?this.editor.multiselection.nodes:[this],h=c[0],y=c[c.length-1],pt,wt,st,ht,ct,lt,ot,at,vt,a;if(p==13)l==this.dom.value?(!this.editable.value||n.ctrlKey)&&u.isUrl(this.value)&&(window.open(this.value,"_blank"),s=!0):l==this.dom.expand&&(pt=this._hasChilds(),pt&&(wt=n.ctrlKey,this._onExpand(wt),l.focus(),s=!0));else if(p==68){if(d&&k){r.onDuplicate(c);s=!0}}else if(p==69)d&&(this._onExpand(v),l.focus(),s=!0);else if(p==77&&k)d&&(this.showContextMenu(l),s=!0);else if(p==46&&k){if(d){r.onRemove(c);s=!0}}else p==45&&k?d&&!v?(this._onInsertBefore(),s=!0):d&&v&&(this._onInsertAfter(),s=!0):p==35?w&&(st=this._lastNode(),st&&st.focus(r.focusElement||this._getElementName(l)),s=!0):p==36?w&&(ht=this._firstNode(),ht&&ht.focus(r.focusElement||this._getElementName(l)),s=!0):p==37?w&&!v?(ct=this._previousElement(l),ct&&this.focus(this._getElementName(ct)),s=!0):w&&v&&k&&(y.expanded?(lt=y.getAppendDom(),ft=lt?lt.nextSibling:undefined):(ot=y.getDom(),ft=ot.nextSibling),ft&&(i=r.getNodeFromTarget(ft),yt=ft.nextSibling,a=r.getNodeFromTarget(yt),i&&i instanceof e&&!(y.parent.childs.length==1)&&a&&a.parent&&(g=this.editor.getDomSelection(),f=h.parent,nt=f.childs[y.getIndex()+1]||f.append,tt=h.getIndex(),it=a.getIndex(),rt=f.getInternalPath(),ut=a.parent.getInternalPath(),c.forEach(function(n){a.parent.moveBefore(n,a)}),this.focus(r.focusElement||this._getElementName(l)),this.editor._onAction("moveNodes",{count:c.length,fieldNames:c.map(o),oldParentPath:f.getInternalPath(),newParentPath:h.parent.getInternalPath(),oldIndex:nt.getIndex(),newIndex:h.getIndex(),oldIndexRedo:tt,newIndexRedo:it,oldParentPathRedo:rt,newParentPathRedo:ut,oldSelection:g,newSelection:this.editor.getDomSelection()})))):p==38?w&&!v?(t=this._previousNode(),t&&(this.editor.deselect(!0),t.focus(r.focusElement||this._getElementName(l))),s=!0):!w&&d&&v&&k?(t=this._previousNode(),t&&(b=this.editor.multiselection,b.start=b.start||this,b.end=t,et=this.editor._findTopLevelNodes(b.start,b.end),this.editor.select(et),t.focus("field")),s=!0):w&&v&&k&&(t=h._previousNode(),t&&t.parent&&(g=this.editor.getDomSelection(),f=h.parent,nt=f.childs[y.getIndex()+1]||f.append,tt=h.getIndex(),it=t.getIndex(),rt=f.getInternalPath(),ut=t.parent.getInternalPath(),c.forEach(function(n){t.parent.moveBefore(n,t)}),this.focus(r.focusElement||this._getElementName(l)),this.editor._onAction("moveNodes",{count:c.length,fieldNames:c.map(o),oldParentPath:f.getInternalPath(),newParentPath:h.parent.getInternalPath(),oldIndex:nt.getIndex(),newIndex:h.getIndex(),oldIndexRedo:tt,newIndexRedo:it,oldParentPathRedo:rt,newParentPathRedo:ut,oldSelection:g,newSelection:this.editor.getDomSelection()})),s=!0):p==39?w&&!v?(at=this._nextElement(l),at&&this.focus(this._getElementName(at)),s=!0):w&&v&&k&&(ot=h.getDom(),vt=ot.previousSibling,vt&&(t=r.getNodeFromTarget(vt),t&&t.parent&&!t.isVisible()&&(g=this.editor.getDomSelection(),f=h.parent,nt=f.childs[y.getIndex()+1]||f.append,tt=h.getIndex(),it=t.getIndex(),rt=f.getInternalPath(),ut=t.parent.getInternalPath(),c.forEach(function(n){t.parent.moveBefore(n,t)}),this.focus(r.focusElement||this._getElementName(l)),this.editor._onAction("moveNodes",{count:c.length,fieldNames:c.map(o),oldParentPath:f.getInternalPath(),newParentPath:h.parent.getInternalPath(),oldIndex:nt.getIndex(),newIndex:h.getIndex(),oldIndexRedo:tt,newIndexRedo:it,oldParentPathRedo:rt,newParentPathRedo:ut,oldSelection:g,newSelection:this.editor.getDomSelection()})))):p==40&&(w&&!v?(i=this._nextNode(),i&&(this.editor.deselect(!0),i.focus(r.focusElement||this._getElementName(l))),s=!0):!w&&d&&v&&k?(i=this._nextNode(),i&&(b=this.editor.multiselection,b.start=b.start||this,b.end=i,et=this.editor._findTopLevelNodes(b.start,b.end),this.editor.select(et),i.focus("field")),s=!0):w&&v&&k&&(i=y.expanded?y.append?y.append._nextNode():undefined:y._nextNode(),i&&!i.isVisible()&&(i=i.parent.showMore),i&&i instanceof e&&(i=y),a=i&&(i._nextNode()||i.parent.append),a&&a.parent&&(g=this.editor.getDomSelection(),f=h.parent,nt=f.childs[y.getIndex()+1]||f.append,tt=h.getIndex(),it=a.getIndex(),rt=f.getInternalPath(),ut=a.parent.getInternalPath(),c.forEach(function(n){a.parent.moveBefore(n,a)}),this.focus(r.focusElement||this._getElementName(l)),this.editor._onAction("moveNodes",{count:c.length,fieldNames:c.map(o),oldParentPath:f.getInternalPath(),newParentPath:h.parent.getInternalPath(),oldParentPathRedo:rt,newParentPathRedo:ut,oldIndexRedo:tt,newIndexRedo:it,oldIndex:nt.getIndex(),newIndex:h.getIndex(),oldSelection:g,newSelection:this.editor.getDomSelection()})),s=!0));s&&(n.preventDefault(),n.stopPropagation())};r.prototype._onExpand=function(n){if(n){var i=this.dom.tr.parentNode,t=i.parentNode,r=t.scrollTop;t.removeChild(i)}this.expanded?this.collapse(n):this.expand(n);n&&(t.appendChild(i),t.scrollTop=r)};r.prototype._showColorPicker=function(){var n,t;if(typeof this.editor.options.onColorPicker=="function"&&this.dom.color){n=this;n._deleteDomColor();n.updateDom();t=y(this.dom.color,this.editor.frame);this.editor.options.onColorPicker(t,this.value,function(t){typeof t=="string"&&t!==n.value&&(n._deleteDomColor(),n.value=t,n.updateDom(),n._debouncedOnChangeValue())})}};r.prototype.getFieldNames=function(n){return this.type==="object"?this.childs.filter(function(t){return t!==n}).map(function(n){return n.field}):[]};r.onRemove=function(n){var u,f,e;if(!Array.isArray(n))return r.onRemove([n]);if(n&&n.length>0){var i=n[0],o=i.parent,t=i.editor,h=i.getIndex();t.highlighter.unhighlight();u=t.getDomSelection();r.blurNodes(n);f=t.getDomSelection();e=n.map(s);n.forEach(function(n){n.parent._remove(n)});t._onAction("removeNodes",{nodes:n,paths:e,parentPath:o.getInternalPath(),index:h,oldSelection:u,newSelection:f})}};r.onDuplicate=function(n){var h;if(!Array.isArray(n))return r.onDuplicate([n]);if(n&&n.length>0){var f=n[n.length-1],e=f.parent,t=f.editor;t.deselect(t.multiselection.nodes);var c=t.getDomSelection(),o=f,i=n.map(function(n){var t=n.clone(),i;return n.parent.type==="object"&&(i=n.parent.getFieldNames(),t.field=u.findUniqueName(n.field,i)),e.insertAfter(t,o),o=t,t});n.length===1?i[0].parent.type==="object"?(i[0].dom.field.innerHTML=n[0].field,i[0].focus("field")):i[0].focus():t.select(i);h=t.getDomSelection();t._onAction("duplicateNodes",{paths:n.map(s),clonePaths:i.map(s),afterPath:f.getInternalPath(),parentPath:e.getInternalPath(),oldSelection:c,newSelection:h})}};r.prototype._onInsertBefore=function(n,t,i){var o=this.editor.getDomSelection(),u=new r(this.editor,{field:n!=undefined?n:"",value:t!=undefined?t:"",type:i}),f,e;u.expand(!0);f=this.getInternalPath();this.parent.insertBefore(u,this);this.editor.highlighter.unhighlight();u.focus("field");e=this.editor.getDomSelection();this.editor._onAction("insertBeforeNodes",{nodes:[u],paths:[u.getInternalPath()],beforePath:f,parentPath:this.parent.getInternalPath(),oldSelection:o,newSelection:e})};r.prototype._onInsertAfter=function(n,t,i){var e=this.editor.getDomSelection(),u=new r(this.editor,{field:n!=undefined?n:"",value:t!=undefined?t:"",type:i}),f;u.expand(!0);this.parent.insertAfter(u,this);this.editor.highlighter.unhighlight();u.focus("field");f=this.editor.getDomSelection();this.editor._onAction("insertAfterNodes",{nodes:[u],paths:[u.getInternalPath()],afterPath:this.getInternalPath(),parentPath:this.parent.getInternalPath(),oldSelection:e,newSelection:f})};r.prototype._onAppend=function(n,t,i){var e=this.editor.getDomSelection(),u=new r(this.editor,{field:n!=undefined?n:"",value:t!=undefined?t:"",type:i}),f;u.expand(!0);this.parent.appendChild(u);this.editor.highlighter.unhighlight();u.focus("field");f=this.editor.getDomSelection();this.editor._onAction("appendNodes",{nodes:[u],paths:[u.getInternalPath()],parentPath:this.parent.getInternalPath(),oldSelection:e,newSelection:f})};r.prototype._onChangeType=function(n){var t=this.type,i,r;n!=t&&(i=this.editor.getDomSelection(),this.changeType(n),r=this.editor.getDomSelection(),this.editor._onAction("changeType",{path:this.getInternalPath(),oldType:t,newType:n,oldSelection:i,newSelection:r}))};r.prototype.sort=function(n,t){var r,i;(typeof n=="string"&&(n=u.parsePath(n)),this._hasChilds())&&(this.hideChilds(),r=this.childs,this.childs=this.childs.concat(),i=t==="desc"?-1:1,this.type==="object"?this.childs.sort(function(n,t){return i*h(n.field,t.field)}):this.childs.sort(function(t,r){var e=t.getNestedChild(n),o=r.getNestedChild(n),u,f;return e?o?(u=e.value,f=o.value,typeof u!="string"&&typeof f!="string")?u>f?i:u<f?-i:0:i*h(u,f):-i:i}),this._updateDomIndexes(),this.editor._onAction("sort",{path:this.getInternalPath(),oldChilds:r,newChilds:this.childs}),this.showChilds())};r.prototype.update=function(n){var t=this.getInternalValue();this.setValue(n);this.editor._onAction("transform",{path:this.getInternalPath(),oldValue:t,newValue:this.getInternalValue()})};r.prototype._detachFromDom=function(){var i=this.dom.tr?this.dom.tr.parentNode:undefined,n,t;return n=this.expanded?this.getAppendDom():this.getDom(),t=n&&n.parentNode?n.nextSibling:undefined,this.hide({resetVisibleChilds:!1}),{table:i,nextTr:t}};r.prototype._attachToDom=function(n){n.table&&(n.nextTr?n.table.insertBefore(this.getDom(),n.nextTr):n.table.appendChild(this.getDom()));this.expanded&&this.showChilds()};r.prototype.transform=function(n){var t;if(this._hasChilds()){this.hideChilds();try{var i=this.getInternalValue(),r=this.getValue(),u=v.search(r,n);this.setValue(u);t=this.getInternalValue();this.editor._onAction("transform",{path:this.getInternalPath(),oldValue:i,newValue:t});this.showChilds()}catch(f){this.showChilds();this.editor._onError(f)}}};r.prototype.extract=function(){var n,t;this.editor.node.hideChilds();this.hideChilds();try{n=this.editor.node.getInternalValue();this.editor._setRoot(this);t=this.editor.node.getInternalValue();this.editor._onAction("transform",{path:this.editor.node.getInternalPath(),oldValue:n,newValue:t})}catch(i){this.editor._onError(i)}finally{this.updateDom({recurse:!0});this.showChilds()}};r.prototype.getNestedChild=function(n){for(var i=0,t=this;t&&i<n.length;)t=t.findChildByProperty(n[i]),i++;return t};r.prototype.findChildByProperty=function(n){return this.type!=="object"?undefined:this.childs.find(function(t){return t.field===n})};r.prototype.getAppendDom=function(){return this.append||(this.append=new e(this.editor),this.append.setParent(this)),this.append.getDom()};r.prototype.getShowMoreDom=function(){return this.showMore||(this.showMore=new a(this.editor,this)),this.showMore.getDom()};r.getNodeFromTarget=function(n){while(n){if(n.node)return n.node;n=n.parentNode}return undefined};r.targetIsColorPicker=function(n){var i=r.getNodeFromTarget(n),t;if(i)for(t=n&&n.parentNode;t;){if(t===i.dom.color)return!0;t=t.parentNode}return!1};r.blurNodes=function(n){if(!Array.isArray(n)){r.blurNodes([n]);return}var u=n[0],t=u.parent,i=u.getIndex();t.childs[i+n.length]?t.childs[i+n.length].focus():t.childs[i-1]?t.childs[i-1].focus():t.focus()};r.prototype.nextSibling=function(){var n=this.parent.childs.indexOf(this);return this.parent.childs[n+1]||this.parent.append};r.prototype._previousNode=function(){var n=null,i=this.getDom(),t;if(i&&i.parentNode){t=i;do t=t.previousSibling,n=r.getNodeFromTarget(t);while(t&&n&&n instanceof e&&!n.isVisible())}return n};r.prototype._nextNode=function(){var n=null,i=this.getDom(),t;if(i&&i.parentNode){t=i;do t=t.nextSibling,n=r.getNodeFromTarget(t);while(t&&n&&n instanceof e&&!n.isVisible())}return n};r.prototype._firstNode=function(){var t=null,n=this.getDom(),i;return n&&n.parentNode&&(i=n.parentNode.firstChild,t=r.getNodeFromTarget(i)),t};r.prototype._lastNode=function(){var t=null,i=this.getDom(),n;if(i&&i.parentNode)for(n=i.parentNode.lastChild,t=r.getNodeFromTarget(n);n&&t&&!t.isVisible();)n=n.previousSibling,t=r.getNodeFromTarget(n);return t};r.prototype._previousElement=function(n){var t=this.dom;switch(n){case t.value:if(this.fieldEditable)return t.field;case t.field:if(this._hasChilds())return t.expand;case t.expand:return t.menu;case t.menu:if(t.drag)return t.drag;default:return null}};r.prototype._nextElement=function(n){var t=this.dom;switch(n){case t.drag:return t.menu;case t.menu:if(this._hasChilds())return t.expand;case t.expand:if(this.fieldEditable)return t.field;case t.field:if(!this._hasChilds())return t.value;default:return null}};r.prototype._getElementName=function(n){var t=this.dom;for(var i in t)if(t.hasOwnProperty(i)&&t[i]==n)return i;return null};r.prototype._hasChilds=function(){return this.type=="array"||this.type=="object"};r.TYPE_TITLES={auto:f("autoType"),object:f("objectType"),array:f("arrayType"),string:f("stringType")};r.prototype.addTemplates=function(n,t){var i=this,r=i.editor.options.templates,u,f;r!=null&&(r.length&&n.push({type:"separator"}),u=function(n,t){i._onAppend(n,t)},f=function(n,t){i._onInsertBefore(n,t)},r.forEach(function(i){n.push({text:i.text,className:i.className||"jsoneditor-type-object",title:i.title,click:t?u.bind(this,i.field,i.value):f.bind(this,i.field,i.value)})}))};r.prototype.showContextMenu=function(n,t){var i=this,e=r.TYPE_TITLES,u=[],o,s,h,c,l;this.editable.value&&u.push({text:f("type"),title:f("typeTitle"),className:"jsoneditor-type-"+this.type,submenu:[{text:f("auto"),className:"jsoneditor-type-auto"+(this.type=="auto"?" jsoneditor-selected":""),title:e.auto,click:function(){i._onChangeType("auto")}},{text:f("array"),className:"jsoneditor-type-array"+(this.type=="array"?" jsoneditor-selected":""),title:e.array,click:function(){i._onChangeType("array")}},{text:f("object"),className:"jsoneditor-type-object"+(this.type=="object"?" jsoneditor-selected":""),title:e.object,click:function(){i._onChangeType("object")}},{text:f("string"),className:"jsoneditor-type-string"+(this.type=="string"?" jsoneditor-selected":""),title:e.string,click:function(){i._onChangeType("string")}}]});this._hasChilds()&&(this.editor.options.enableSort&&u.push({text:f("sort"),title:f("sortTitle",{type:this.type}),className:"jsoneditor-sort-asc",click:function(){i.showSortModal()}}),this.editor.options.enableTransform&&u.push({text:f("transform"),title:f("transformTitle",{type:this.type}),className:"jsoneditor-transform",click:function(){i.showTransformModal()}}),this.parent&&u.push({text:f("extract"),title:f("extractTitle",{type:this.type}),className:"jsoneditor-extract",click:function(){i.extract()}}));this.parent&&this.parent._hasChilds()&&(u.length&&u.push({type:"separator"}),o=i.parent.childs,i===o[o.length-1]&&(s=[{text:f("auto"),className:"jsoneditor-type-auto",title:e.auto,click:function(){i._onAppend("","","auto")}},{text:f("array"),className:"jsoneditor-type-array",title:e.array,click:function(){i._onAppend("",[])}},{text:f("object"),className:"jsoneditor-type-object",title:e.object,click:function(){i._onAppend("",{})}},{text:f("string"),className:"jsoneditor-type-string",title:e.string,click:function(){i._onAppend("","","string")}}],i.addTemplates(s,!0),u.push({text:f("appendText"),title:f("appendTitle"),submenuTitle:f("appendSubmenuTitle"),className:"jsoneditor-append",click:function(){i._onAppend("","","auto")},submenu:s})),h=[{text:f("auto"),className:"jsoneditor-type-auto",title:e.auto,click:function(){i._onInsertBefore("","","auto")}},{text:f("array"),className:"jsoneditor-type-array",title:e.array,click:function(){i._onInsertBefore("",[])}},{text:f("object"),className:"jsoneditor-type-object",title:e.object,click:function(){i._onInsertBefore("",{})}},{text:f("string"),className:"jsoneditor-type-string",title:e.string,click:function(){i._onInsertBefore("","","string")}}],i.addTemplates(h,!1),u.push({text:f("insert"),title:f("insertTitle"),submenuTitle:f("insertSub"),className:"jsoneditor-insert",click:function(){i._onInsertBefore("","","auto")},submenu:h}),this.editable.field&&(u.push({text:f("duplicateText"),title:f("duplicateField"),className:"jsoneditor-duplicate",click:function(){r.onDuplicate(i)}}),u.push({text:f("removeText"),title:f("removeField"),className:"jsoneditor-remove",click:function(){r.onRemove(i)}})));this.editor.options.onCreateMenu&&(c=i.getPath(),u=this.editor.options.onCreateMenu(u,{type:"single",path:c,paths:[c]}));l=new p(u,{close:t});l.show(n,this.editor.frame)};r.prototype.showSortModal=function(){function r(t){var i=t.path,r=u.parsePath(i);n.sortedBy=t;n.sort(r,t.direction)}var n=this,t=this.editor.options.modalAnchor||c,i=this.getValue();k(t,i,r,n.sortedBy)};r.prototype.showTransformModal=function(){var n=this,t=this.editor.options.modalAnchor||c,i=n.getValue();d(t,i,function(t){n.transform(t)})};r.prototype._getType=function(n){return n instanceof Array?"array":n instanceof Object?"object":typeof n=="string"&&typeof u.parseString(n)!="string"?"string":"auto"};r.prototype._escapeHTML=function(n){if(typeof n!="string")return String(n);var r=String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/  /g," &nbsp;").replace(/^ /,"&nbsp;").replace(/ $/,"&nbsp;"),i=JSON.stringify(r),t=i.substring(1,i.length-1);return this.editor.options.escapeUnicode===!0&&(t=u.escapeUnicodeChars(t)),t};r.prototype._unescapeHTML=function(n){var t='"'+this._escapeJSON(n)+'"',i=u.parse(t);return i.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;|\u00A0/g," ").replace(/&amp;/g,"&")};r.prototype._escapeJSON=function(n){for(var i="",r=0,t;r<n.length;)t=n.charAt(r),t=="\n"?i+="\\n":t=="\\"?(i+=t,r++,t=n.charAt(r),(t===""||'"\\/bfnrtu'.indexOf(t)==-1)&&(i+="\\"),i+=t):i+=t=='"'?'\\"':t,r++;return i};r.prototype.updateNodeName=function(){var n=this.childs?this.childs.length:0,t;if(this.type==="object"||this.type==="array"){if(this.editor.options.onNodeName)try{t=this.editor.options.onNodeName({path:this.getPath(),size:n,type:this.type})}catch(i){console.error("Error in onNodeName callback: ",i)}this.dom.value.innerHTML=this.type==="object"?"{"+(t||n)+"}":"["+(t||n)+"]"}};r.prototype.recursivelyUpdateNodeName=function(){if(this.expanded&&(this.updateNodeName(),this.childs!=="undefined"))for(var n in this.childs)this.childs[n].recursivelyUpdateNodeName()};e=w(r);a=b(r);n.exports=r},function(n,t,i){"use strict";function e(n){function t(n){this.editor=n;this.dom={}}return t.prototype=new n,t.prototype.getDom=function(){var n=this.dom,t,f,i,e,u;return n.tr?n.tr:(this._updateEditability(),t=document.createElement("tr"),t.className="jsoneditor-append",t.node=this,n.tr=t,this.editor.options.mode==="tree"&&(n.tdDrag=document.createElement("td"),f=document.createElement("td"),n.tdMenu=f,i=document.createElement("button"),i.type="button",i.className="jsoneditor-button jsoneditor-contextmenu",i.title="Click to open the actions menu (Ctrl+M)",n.menu=i,f.appendChild(n.menu)),e=document.createElement("td"),u=document.createElement("div"),u.innerHTML="("+r("empty")+")",u.className="jsoneditor-readonly",e.appendChild(u),n.td=e,n.text=u,this.updateDom(),t)},t.prototype.getPath=function(){return null},t.prototype.getIndex=function(){return null},t.prototype.updateDom=function(){var n=this.dom,i=n.td,u,t;i&&(i.style.paddingLeft=this.getLevel()*24+26+"px");u=n.text;u&&(u.innerHTML="("+r("empty")+" "+this.parent.type+")");t=n.tr;this.isVisible()?n.tr.firstChild||(n.tdDrag&&t.appendChild(n.tdDrag),n.tdMenu&&t.appendChild(n.tdMenu),t.appendChild(i)):n.tr.firstChild&&(n.tdDrag&&t.removeChild(n.tdDrag),n.tdMenu&&t.removeChild(n.tdMenu),t.removeChild(i))},t.prototype.isVisible=function(){return this.parent.childs.length==0},t.prototype.showContextMenu=function(t,i){var u=this,e=n.TYPE_TITLES,h=[{text:r("auto"),className:"jsoneditor-type-auto",title:e.auto,click:function(){u._onAppend("","","auto")}},{text:r("array"),className:"jsoneditor-type-array",title:e.array,click:function(){u._onAppend("",[])}},{text:r("object"),className:"jsoneditor-type-object",title:e.object,click:function(){u._onAppend("",{})}},{text:r("string"),className:"jsoneditor-type-string",title:e.string,click:function(){u._onAppend("","","string")}}],o,s,c;u.addTemplates(h,!0);o=[{text:r("appendText"),title:r("appendTitleAuto"),submenuTitle:r("appendSubmenuTitle"),className:"jsoneditor-insert",click:function(){u._onAppend("","","auto")},submenu:h}];this.editor.options.onCreateMenu&&(s=u.parent.getPath(),o=this.editor.options.onCreateMenu(o,{type:"append",path:s,paths:[s]}));c=new f(o,{close:i});c.show(t,this.editor.frame)},t.prototype.onEvent=function(n){var r=n.type,f=n.target||n.srcElement,t=this.dom,e=t.menu,i;if(f==e&&(r=="mouseover"?this.editor.highlighter.highlight(this.parent):r=="mouseout"&&this.editor.highlighter.unhighlight()),r=="click"&&f==t.menu&&(i=this.editor.highlighter,i.highlight(this.parent),i.lock(),u.addClassName(t.menu,"jsoneditor-selected"),this.showContextMenu(t.menu,function(){u.removeClassName(t.menu,"jsoneditor-selected");i.unlock();i.unhighlight()})),r=="keydown")this.onKeyDown(n)},t}var u=i(0),f=i(4),r=i(1).translate;n.exports=e},function(n,t,i){"use strict";function u(n){function t(n,t){this.editor=n;this.parent=t;this.dom={}}return t.prototype=new n,t.prototype.getDom=function(){var u,n,e,o,i;if(this.dom.tr)return this.dom.tr;if(this._updateEditability(),!this.dom.tr){var s=this,t=this.parent,f=document.createElement("a");f.appendChild(document.createTextNode(r("showMore")));f.href="#";f.onclick=function(n){return t.visibleChilds=Math.floor(t.visibleChilds/t.getMaxVisibleChilds()+1)*t.getMaxVisibleChilds(),s.updateDom(),t.showChilds(),n.preventDefault(),!1};u=document.createElement("a");u.appendChild(document.createTextNode(r("showAll")));u.href="#";u.onclick=function(n){return t.visibleChilds=Infinity,s.updateDom(),t.showChilds(),n.preventDefault(),!1};n=document.createElement("div");e=document.createTextNode(this._getShowMoreText());n.className="jsoneditor-show-more";n.appendChild(e);n.appendChild(f);n.appendChild(document.createTextNode(". "));n.appendChild(u);n.appendChild(document.createTextNode(". "));o=document.createElement("td");o.appendChild(n);i=document.createElement("tr");this.editor.options.mode==="tree"&&(i.appendChild(document.createElement("td")),i.appendChild(document.createElement("td")));i.appendChild(o);i.className="jsoneditor-show-more";this.dom.tr=i;this.dom.moreContents=n;this.dom.moreText=e}return this.updateDom(),this.dom.tr},t.prototype.updateDom=function(){if(this.isVisible()){if(this.dom.tr.node=this.parent.childs[this.parent.visibleChilds],!this.dom.tr.parentNode){var n=this.parent._getNextTr();n&&n.parentNode.insertBefore(this.dom.tr,n)}this.dom.moreText.nodeValue=this._getShowMoreText();this.dom.moreContents.style.marginLeft=(this.getLevel()+1)*24+"px"}else this.dom.tr&&this.dom.tr.parentNode&&this.dom.tr.parentNode.removeChild(this.dom.tr)},t.prototype._getShowMoreText=function(){return r("showMoreStatus",{visibleChilds:this.parent.visibleChilds,totalChilds:this.parent.childs.length})+" "},t.prototype.isVisible=function(){return this.parent.expanded&&this.parent.childs.length>this.parent.visibleChilds},t.prototype.onEvent=function(n){var t=n.type;if(t==="keydown")this.onKeyDown(n)},t}var r=i(1).translate;n.exports=u},function(n){"use strict";
/*!
 * Selectr 2.4.0
 * https://github.com/Mobius1/Selectr
 *
 * Released under the MIT license
 */
function r(n,t){return n.hasOwnProperty(t)&&(n[t]===!0||n[t].length)}function e(n,i,r){n.parentNode?n.parentNode.parentNode||i.appendChild(n.parentNode):i.appendChild(n);t.removeClass(n,"excluded");r||(n.innerHTML=n.textContent)}var c={defaultSelected:!0,width:"auto",disabled:!1,searchable:!0,clearable:!1,sortSelected:!1,allowDeselect:!1,closeOnScroll:!1,nativeDropdown:!1,placeholder:"Select an option...",taggable:!1,tagPlaceholder:"Enter a tag..."},u=function(){},t;u.prototype={on:function(n,t){this._events=this._events||{};this._events[n]=this._events[n]||[];this._events[n].push(t)},off:function(n,t){(this._events=this._events||{},n in this._events!=!1)&&this._events[n].splice(this._events[n].indexOf(t),1)},emit:function(n){if(this._events=this._events||{},n in this._events!=!1)for(var t=0;t<this._events[n].length;t++)this._events[n][t].apply(this,Array.prototype.slice.call(arguments,1))}};u.mixin=function(n){for(var i=["on","off","emit"],t=0;t<i.length;t++)typeof n=="function"?n.prototype[i[t]]=u.prototype[i[t]]:n[i[t]]=u.prototype[i[t]];return n};t={extend:function(n,t){t=t||{};for(var i in n)n.hasOwnProperty(i)&&(t.hasOwnProperty(i)||(t[i]=n[i]));return t},each:function(n,t,i){var u,r,f;if("[object Object]"===Object.prototype.toString.call(n))for(u in n)Object.prototype.hasOwnProperty.call(n,u)&&t.call(i,u,n[u],n);else for(r=0,f=n.length;r<f;r++)t.call(i,r,n[r],n)},createElement:function(n,t){var u=document,r=u.createElement(n),i,f;if(t&&"[object Object]"===Object.prototype.toString.call(t))for(i in t)i in r?r[i]=t[i]:"html"===i?r.innerHTML=t[i]:"text"===i?(f=u.createTextNode(t[i]),r.appendChild(f)):r.setAttribute(i,t[i]);return r},hasClass:function(n,t){if(n)return n.classList?n.classList.contains(t):!!n.className&&!!n.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function(n,i){t.hasClass(n,i)||(n.classList?n.classList.add(i):n.className=n.className.trim()+" "+i)},removeClass:function(n,i){t.hasClass(n,i)&&(n.classList?n.classList.remove(i):n.className=n.className.replace(new RegExp("(^|\\s)"+i.split(" ").join("|")+"(\\s|$)","gi")," "))},closest:function(n,i){return n&&n!==document.body&&(i(n)?n:t.closest(n.parentNode,i))},isInt:function(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n},debounce:function(n,t,i){var r;return function(){var u=this,f=arguments,e=function(){r=null;i||n.apply(u,f)},o=i&&!r;clearTimeout(r);r=setTimeout(e,t);o&&n.apply(u,f)}},rect:function(n,t){var r=window,i=n.getBoundingClientRect(),u=t?r.pageXOffset:0,f=t?r.pageYOffset:0;return{bottom:i.bottom+f,height:i.height,left:i.left+u,right:i.right+u,top:i.top+f,width:i.width}},includes:function(n,t){return n.indexOf(t)>-1},truncate:function(n){while(n.firstChild)n.removeChild(n.firstChild)}};var o=function(){var n,i;this.items.length&&(n=document.createDocumentFragment(),this.config.pagination?(i=this.pages.slice(0,this.pageIndex),t.each(i,function(i,r){t.each(r,function(t,i){e(i,n,this.customOption)},this)},this)):t.each(this.items,function(t,i){e(i,n,this.customOption)},this),n.childElementCount&&(t.removeClass(this.items[this.navIndex],"active"),this.navIndex=n.querySelector(".selectr-option").idx,t.addClass(this.items[this.navIndex],"active")),this.tree.appendChild(n))},l=function(n){var i=n.target;!this.container.contains(i)&&(this.opened||t.hasClass(this.container,"notice"))&&this.close()},f=function(n,i){i=i||n;var u=this.customOption?this.config.renderOption(i):n.textContent,r=t.createElement("li",{"class":"selectr-option",html:u,role:"treeitem","aria-selected":!1});return r.idx=n.idx,this.items.push(r),n.defaultSelected&&this.defaultSelected.push(n.idx),n.disabled&&(r.disabled=!0,t.addClass(r,"disabled")),r},a=function(){var e,s,u,n,h,i,c,o;for(this.requiresPagination=this.config.pagination&&this.config.pagination>0,r(this.config,"width")&&(t.isInt(this.config.width)?this.width=this.config.width+"px":this.config.width==="auto"?this.width="100%":t.includes(this.config.width,"%")&&(this.width=this.config.width)),this.container=t.createElement("div",{"class":"selectr-container"}),this.config.customClass&&t.addClass(this.container,this.config.customClass),this.mobileDevice?t.addClass(this.container,"selectr-mobile"):t.addClass(this.container,"selectr-desktop"),this.el.tabIndex=-1,this.config.nativeDropdown||this.mobileDevice?t.addClass(this.el,"selectr-visible"):t.addClass(this.el,"selectr-hidden"),this.selected=t.createElement("div",{"class":"selectr-selected",disabled:this.disabled,tabIndex:1,"aria-expanded":!1}),this.label=t.createElement(this.el.multiple?"ul":"span",{"class":"selectr-label"}),e=t.createElement("div",{"class":"selectr-options-container"}),this.tree=t.createElement("ul",{"class":"selectr-options",role:"tree","aria-hidden":!0,"aria-expanded":!1}),this.notice=t.createElement("div",{"class":"selectr-notice"}),this.el.setAttribute("aria-hidden",!0),this.disabled&&(this.el.disabled=!0),this.el.multiple&&(t.addClass(this.label,"selectr-tags"),t.addClass(this.container,"multiple"),this.tags=[],this.selectedValues=this.getSelectedProperties("value"),this.selectedIndexes=this.getSelectedProperties("idx")),this.selected.appendChild(this.label),this.config.clearable&&(this.selectClear=t.createElement("button",{"class":"selectr-clear",type:"button"}),this.container.appendChild(this.selectClear),t.addClass(this.container,"clearable")),this.config.taggable&&(s=t.createElement("li",{"class":"input-tag"}),this.input=t.createElement("input",{"class":"selectr-tag-input",placeholder:this.config.tagPlaceholder,tagIndex:0,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search"}),s.appendChild(this.input),this.label.appendChild(s),t.addClass(this.container,"taggable"),this.tagSeperators=[","],this.config.tagSeperators&&(this.tagSeperators=this.tagSeperators.concat(this.config.tagSeperators))),this.config.searchable&&(this.input=t.createElement("input",{"class":"selectr-input",tagIndex:-1,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search"}),this.inputClear=t.createElement("button",{"class":"selectr-input-clear",type:"button"}),this.inputContainer=t.createElement("div",{"class":"selectr-input-container"}),this.inputContainer.appendChild(this.input),this.inputContainer.appendChild(this.inputClear),e.appendChild(this.inputContainer)),e.appendChild(this.notice),e.appendChild(this.tree),this.items=[],this.options=[],this.el.options.length&&(this.options=[].slice.call(this.el.options)),u=!1,n=0,this.el.children.length&&t.each(this.el.children,function(i,r){r.nodeName==="OPTGROUP"?(u=t.createElement("ul",{"class":"selectr-optgroup",role:"group",html:"<li class='selectr-optgroup--label'>"+r.label+"<\/li>"}),t.each(r.children,function(t,i){i.idx=n;u.appendChild(f.call(this,i,u));n++},this)):(r.idx=n,f.call(this,r),n++)},this),this.config.data&&Array.isArray(this.config.data)&&(this.data=[],h=!1,u=!1,n=0,t.each(this.config.data,function(e,o){r(o,"children")?(h=t.createElement("optgroup",{label:o.text}),u=t.createElement("ul",{"class":"selectr-optgroup",role:"group",html:"<li class='selectr-optgroup--label'>"+o.text+"<\/li>"}),t.each(o.children,function(t,e){i=new Option(e.text,e.value,!1,e.hasOwnProperty("selected")&&e.selected===!0);i.disabled=r(e,"disabled");this.options.push(i);h.appendChild(i);i.idx=n;u.appendChild(f.call(this,i,e));this.data[n]=e;n++},this)):(i=new Option(o.text,o.value,!1,o.hasOwnProperty("selected")&&o.selected===!0),i.disabled=r(o,"disabled"),this.options.push(i),i.idx=n,f.call(this,i,o),this.data[n]=o,n++)},this)),this.setSelected(!0),this.navIndex=0,o=0;o<this.items.length;o++)if(c=this.items[o],!t.hasClass(c,"disabled")){t.addClass(c,"active");this.navIndex=o;break}this.requiresPagination&&(this.pageIndex=1,this.paginate());this.container.appendChild(this.selected);this.container.appendChild(e);this.placeEl=t.createElement("div",{"class":"selectr-placeholder"});this.setPlaceholder();this.selected.appendChild(this.placeEl);this.disabled&&this.disable();this.el.parentNode.insertBefore(this.container,this.el);this.container.appendChild(this.el)},v=function(n){var r,u,i;if(n=n||window.event,!this.items.length||!this.opened||!t.includes([13,38,40],n.which)){this.navigating=!1;return}if(n.preventDefault(),n.which===13)return this.config.taggable&&this.input.value.length>0?!1:this.change(this.navIndex);u=this.items[this.navIndex];switch(n.which){case 38:r=0;this.navIndex>0&&this.navIndex--;break;case 40:r=1;this.navIndex<this.items.length-1&&this.navIndex++}for(this.navigating=!0;t.hasClass(this.items[this.navIndex],"disabled")||t.hasClass(this.items[this.navIndex],"excluded");)if(r?this.navIndex++:this.navIndex--,this.searching)if(this.navIndex>this.tree.lastElementChild.idx){this.navIndex=this.tree.lastElementChild.idx;break}else if(this.navIndex<this.tree.firstElementChild.idx){this.navIndex=this.tree.firstElementChild.idx;break}i=t.rect(this.items[this.navIndex]);r?(this.navIndex===0?this.tree.scrollTop=0:i.top+i.height>this.optsRect.top+this.optsRect.height&&(this.tree.scrollTop=this.tree.scrollTop+(i.top+i.height-(this.optsRect.top+this.optsRect.height))),this.navIndex===this.tree.childElementCount-1&&this.requiresPagination&&h.call(this)):this.navIndex===0?this.tree.scrollTop=0:i.top-this.optsRect.top<0&&(this.tree.scrollTop=this.tree.scrollTop+(i.top-this.optsRect.top));u&&t.removeClass(u,"active");t.addClass(this.items[this.navIndex],"active")},y=function(n){var o=this,u,r=document.createDocumentFragment(),f=this.options[n.idx],s=this.data?this.data[n.idx]:f,h=this.customSelected?this.config.renderSelection(s):f.textContent,i=t.createElement("li",{"class":"selectr-tag",html:h}),c=t.createElement("button",{"class":"selectr-tag-remove",type:"button"}),e;i.appendChild(c);i.idx=n.idx;i.tag=f.value;this.tags.push(i);this.config.sortSelected?(e=this.tags.slice(),u=function(n,t){n.replace(/(\d+)|(\D+)/g,function(n,i,r){t.push([i||Infinity,r||""])})},e.sort(function(n,t){var i=[],r=[],f,e;for(o.config.sortSelected===!0?(f=n.tag,e=t.tag):o.config.sortSelected==="text"&&(f=n.textContent,e=t.textContent),u(f,i),u(e,r);i.length&&r.length;){var s=i.shift(),h=r.shift(),c=s[0]-h[0]||s[1].localeCompare(h[1]);if(c)return c}return i.length-r.length}),t.each(e,function(n,t){r.appendChild(t)}),this.label.innerHTML=""):r.appendChild(i);this.config.taggable?this.label.insertBefore(r,this.input.parentNode):this.label.appendChild(r)},p=function(n){var i=!1;t.each(this.tags,function(t,r){r.idx===n.idx&&(i=r)},this);i&&(this.label.removeChild(i),this.tags.splice(this.tags.indexOf(i),1))},h=function(){var n=this.tree,r=n.scrollTop,u=n.scrollHeight,f=n.offsetHeight,o=r>=u-f,i;o&&this.pageIndex<this.pages.length&&(i=document.createDocumentFragment(),t.each(this.pages[this.pageIndex],function(n,t){e(t,i,this.customOption)},this),n.appendChild(i),this.pageIndex++,this.emit("selectr.paginate",{items:this.items.length,total:this.data.length,page:this.pageIndex,pages:this.pages.length}))},s=function(){(this.config.searchable||this.config.taggable)&&(this.input.value=null,this.searching=!1,this.config.searchable&&t.removeClass(this.inputContainer,"active"),t.hasClass(this.container,"notice")&&(t.removeClass(this.container,"notice"),t.addClass(this.container,"open"),this.input.focus()),t.each(this.items,function(n,i){t.removeClass(i,"excluded");this.customOption||(i.innerHTML=i.textContent)},this))},w=function(n,t){var i=new RegExp(n,"i").exec(t.textContent);return i?t.textContent.replace(i[0],"<span class='selectr-match'>"+i[0]+"<\/span>"):!1},i=function(n,t){if(t=t||{},!n)throw new Error("You must supply either a HTMLSelectElement or a CSS3 selector string.");if(this.el=n,typeof n=="string"&&(this.el=document.querySelector(n)),this.el===null)throw new Error("The element you passed to Selectr can not be found.");if(this.el.nodeName.toLowerCase()!=="select")throw new Error("The element you passed to Selectr is not a HTMLSelectElement.");this.render(t)};i.prototype.render=function(n){if(!this.rendered){this.config=t.extend(c,n);this.originalType=this.el.type;this.originalIndex=this.el.tabIndex;this.defaultSelected=[];this.originalOptionCount=this.el.options.length;(this.config.multiple||this.config.taggable)&&(this.el.multiple=!0);this.disabled=r(this.config,"disabled");this.opened=!1;this.config.taggable&&(this.config.searchable=!1);this.navigating=!1;this.mobileDevice=!1;/Android|webOS|iPhone|iPad|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile/i.test(navigator.userAgent)&&(this.mobileDevice=!0);this.customOption=this.config.hasOwnProperty("renderOption")&&typeof this.config.renderOption=="function";this.customSelected=this.config.hasOwnProperty("renderSelection")&&typeof this.config.renderSelection=="function";u.mixin(this);a.call(this);this.bindEvents();this.update();this.optsRect=t.rect(this.tree);this.rendered=!0;this.el.multiple||(this.el.selectedIndex=this.selectedIndex);var i=this;setTimeout(function(){i.emit("selectr.init")},20)}};i.prototype.getSelected=function(){return this.el.querySelectorAll("option:checked")};i.prototype.getSelectedProperties=function(n){var t=this.getSelected();return[].slice.call(t).map(function(t){return t[n]}).filter(function(n){return n!==null&&n!==undefined})};i.prototype.bindEvents=function(){var n=this,i;this.events={};this.events.dismiss=l.bind(this);this.events.navigate=v.bind(this);this.events.reset=this.reset.bind(this);(this.config.nativeDropdown||this.mobileDevice)&&(this.container.addEventListener("touchstart",function(t){t.changedTouches[0].target===n.el&&n.toggle()}),(this.config.nativeDropdown||this.mobileDevice)&&this.container.addEventListener("click",function(t){t.preventDefault();t.stopPropagation();t.target===n.el&&n.toggle()}),i=function(n,t){for(var f=[],r=n.slice(0),u,i=0;i<t.length;i++)u=r.indexOf(t[i]),u>-1?r.splice(u,1):f.push(t[i]);return[f,r]},this.el.addEventListener("change",function(){if(n.el.multiple){var u=n.getSelectedProperties("idx"),r=i(n.selectedIndexes,u);t.each(r[0],function(t,i){n.select(i)},n);t.each(r[1],function(t,i){n.deselect(i)},n)}else n.el.selectedIndex>-1&&n.select(n.el.selectedIndex)}));this.config.nativeDropdown&&this.container.addEventListener("keydown",function(t){t.key==="Enter"&&n.selected===document.activeElement&&(n.toggle(),setTimeout(function(){n.el.focus()},200))});this.selected.addEventListener("click",function(t){n.disabled||n.toggle();t.preventDefault();t.stopPropagation()});this.label.addEventListener("click",function(i){t.hasClass(i.target,"selectr-tag-remove")&&n.deselect(i.target.parentNode.idx)});this.selectClear&&this.selectClear.addEventListener("click",this.clear.bind(this));this.tree.addEventListener("mousedown",function(n){n.preventDefault()});this.tree.addEventListener("click",function(i){i.preventDefault();i.stopPropagation();var r=t.closest(i.target,function(n){return n&&t.hasClass(n,"selectr-option")});r&&(t.hasClass(r,"disabled")||(t.hasClass(r,"selected")?(n.el.multiple||!n.el.multiple&&n.config.allowDeselect)&&n.deselect(r.idx):n.select(r.idx),n.opened&&!n.el.multiple&&n.close()))});this.tree.addEventListener("mouseover",function(i){t.hasClass(i.target,"selectr-option")&&(t.hasClass(i.target,"disabled")||(t.removeClass(n.items[n.navIndex],"active"),t.addClass(i.target,"active"),n.navIndex=[].slice.call(n.items).indexOf(i.target)))});this.config.searchable&&(this.input.addEventListener("focus",function(){n.searching=!0}),this.input.addEventListener("blur",function(){n.searching=!1}),this.input.addEventListener("keyup",function(){n.search();n.config.taggable||(this.value.length?t.addClass(this.parentNode,"active"):t.removeClass(this.parentNode,"active"))}),this.inputClear.addEventListener("click",function(){n.input.value=null;s.call(n);n.tree.childElementCount||o.call(n)}));this.config.taggable&&this.input.addEventListener("keyup",function(i){var r,u;n.search();n.config.taggable&&this.value.length&&(r=this.value.trim(),(i.which===13||t.includes(n.tagSeperators,i.key))&&(t.each(n.tagSeperators,function(n,t){r=r.replace(t,"")}),u=n.add({value:r,text:r,selected:!0},!0),u?(n.close(),s.call(n)):(this.value="",n.setMessage("That tag is already in use."))))});this.update=t.debounce(function(){n.opened&&n.config.closeOnScroll&&n.close();n.width&&(n.container.style.width=n.width);n.invert()},50);this.requiresPagination&&(this.paginateItems=t.debounce(function(){h.call(this)},50),this.tree.addEventListener("scroll",this.paginateItems.bind(this)));document.addEventListener("click",this.events.dismiss);window.addEventListener("keydown",this.events.navigate);window.addEventListener("resize",this.update);window.addEventListener("scroll",this.update);this.el.form&&this.el.form.addEventListener("reset",this.events.reset)};i.prototype.setSelected=function(){if(this.config.data||this.el.multiple||!this.el.options.length||(this.el.selectedIndex===0&&(this.el.options[0].defaultSelected||this.config.defaultSelected||(this.el.selectedIndex=-1)),this.selectedIndex=this.el.selectedIndex,this.selectedIndex>-1&&this.select(this.selectedIndex)),this.config.multiple&&this.originalType==="select-one"&&!this.config.data&&this.el.options[0].selected&&!this.el.options[0].defaultSelected&&(this.el.options[0].selected=!1),t.each(this.options,function(n,t){t.selected&&t.defaultSelected&&this.select(t.idx)},this),this.config.selectedValue&&this.setValue(this.config.selectedValue),this.config.data){!this.el.multiple&&this.config.defaultSelected&&this.el.selectedIndex<0&&this.select(0);var n=0;t.each(this.config.data,function(i,u){r(u,"children")?t.each(u.children,function(t,i){i.hasOwnProperty("selected")&&i.selected===!0&&this.select(n);n++},this):(u.hasOwnProperty("selected")&&u.selected===!0&&this.select(n),n++)},this)}};i.prototype.destroy=function(){this.rendered&&(this.emit("selectr.destroy"),this.originalType==="select-one"&&(this.el.multiple=!1),this.config.data&&(this.el.innerHTML=""),t.removeClass(this.el,"selectr-hidden"),this.el.form&&t.off(this.el.form,"reset",this.events.reset),t.off(document,"click",this.events.dismiss),t.off(document,"keydown",this.events.navigate),t.off(window,"resize",this.update),t.off(window,"scroll",this.update),this.container.parentNode.replaceChild(this.el,this.container),this.rendered=!1)};i.prototype.change=function(n){var r=this.items[n],i=this.options[n];i.disabled||(i.selected&&t.hasClass(r,"selected")?this.deselect(n):this.select(n),this.opened&&!this.el.multiple&&this.close())};i.prototype.select=function(n){var r=this.items[n],f=[].slice.call(this.el.options),i=this.options[n],u;if(this.el.multiple){if(t.includes(this.selectedIndexes,n))return!1;if(this.config.maxSelections&&this.tags.length===this.config.maxSelections)return this.setMessage("A maximum of "+this.config.maxSelections+" items can be selected.",!0),!1;this.selectedValues.push(i.value);this.selectedIndexes.push(n);y.call(this,r)}else u=this.data?this.data[n]:i,this.label.innerHTML=this.customSelected?this.config.renderSelection(u):i.textContent,this.selectedValue=i.value,this.selectedIndex=n,t.each(this.options,function(i,r){var u=this.items[i];i!==n&&(u&&t.removeClass(u,"selected"),r.selected=!1,r.removeAttribute("selected"))},this);t.includes(f,i)||this.el.add(i);r.setAttribute("aria-selected",!0);t.addClass(r,"selected");t.addClass(this.container,"has-selected");i.selected=!0;i.setAttribute("selected","");this.emit("selectr.change",i);this.emit("selectr.select",i)};i.prototype.deselect=function(n,i){var e=this.items[n],r=this.options[n],u,f;if(this.el.multiple)u=this.selectedIndexes.indexOf(n),this.selectedIndexes.splice(u,1),f=this.selectedValues.indexOf(r.value),this.selectedValues.splice(f,1),p.call(this,e),this.tags.length||t.removeClass(this.container,"has-selected");else{if(!i&&!this.config.clearable&&!this.config.allowDeselect)return!1;this.label.innerHTML="";this.selectedValue=null;this.el.selectedIndex=this.selectedIndex=-1;t.removeClass(this.container,"has-selected")}this.items[n].setAttribute("aria-selected",!1);t.removeClass(this.items[n],"selected");r.selected=!1;r.removeAttribute("selected");this.emit("selectr.change",null);this.emit("selectr.deselect",r)};i.prototype.setValue=function(n){var i=Array.isArray(n);if(i||(n=n.toString().trim()),!this.el.multiple&&i)return!1;t.each(this.options,function(r,u){(i&&t.includes(n.toString(),u.value)||u.value===n)&&this.change(u.idx)},this)};i.prototype.getValue=function(n,i){var r,u;return this.el.multiple?n?this.selectedIndexes.length&&(r={},r.values=[],t.each(this.selectedIndexes,function(n,t){var i=this.options[t];r.values[n]={value:i.value,text:i.textContent}},this)):r=this.selectedValues.slice():n?(u=this.options[this.selectedIndex],r={value:u.value,text:u.textContent}):r=this.selectedValue,n&&i&&(r=JSON.stringify(r)),r};i.prototype.add=function(n,i){var u,r;if(n){if(this.data=this.data||[],this.items=this.items||[],this.options=this.options||[],Array.isArray(n))t.each(n,function(n,t){this.add(t,i)},this);else if("[object Object]"===Object.prototype.toString.call(n))return i&&(u=!1,t.each(this.options,function(t,i){i.value.toLowerCase()===n.value.toLowerCase()&&(u=!0)}),u)?!1:(r=t.createElement("option",n),this.data.push(n),this.options.push(r),r.idx=this.options.length>0?this.options.length-1:0,f.call(this,r),n.selected&&this.select(r.idx),r);return this.setPlaceholder(),this.config.pagination&&this.paginate(),!0}};i.prototype.remove=function(n){var i=[],r;Array.isArray(n)?t.each(n,function(r,u){t.isInt(u)?i.push(this.getOptionByIndex(u)):typeof n=="string"&&i.push(this.getOptionByValue(u))},this):t.isInt(n)?i.push(this.getOptionByIndex(n)):typeof n=="string"&&i.push(this.getOptionByValue(n));i.length&&(t.each(i,function(n,i){r=i.idx;this.el.remove(i);this.options.splice(r,1);var u=this.items[r].parentNode;u&&u.removeChild(this.items[r]);this.items.splice(r,1);t.each(this.options,function(n,t){t.idx=n;this.items[n].idx=n},this)},this),this.setPlaceholder(),this.config.pagination&&this.paginate())};i.prototype.removeAll=function(){this.clear(!0);t.each(this.el.options,function(n,t){this.el.remove(t)},this);t.truncate(this.tree);this.items=[];this.options=[];this.data=[];this.navIndex=0;this.requiresPagination&&(this.requiresPagination=!1,this.pageIndex=1,this.pages=[]);this.setPlaceholder()};i.prototype.search=function(n){var i,u,r;this.navigating||(n=n||this.input.value,i=document.createDocumentFragment(),this.removeMessage(),t.truncate(this.tree),n.length>1?(t.each(this.options,function(r,u){var f=this.items[u.idx],o=t.includes(u.textContent.toLowerCase(),n.toLowerCase());o&&!u.disabled?(e(f,i,this.customOption),t.removeClass(f,"excluded"),this.customOption||(f.innerHTML=w(n,u))):t.addClass(f,"excluded")},this),i.childElementCount?(u=this.items[this.navIndex],r=i.firstElementChild,t.removeClass(u,"active"),this.navIndex=r.idx,t.addClass(r,"active")):this.config.taggable||this.setMessage("no results.")):o.call(this),this.tree.appendChild(i))};i.prototype.toggle=function(){this.disabled||(this.opened?this.close():this.open())};i.prototype.open=function(){var n=this;if(!this.options.length)return!1;if(this.opened||this.emit("selectr.open"),this.opened=!0,this.mobileDevice||this.config.nativeDropdown){t.addClass(this.container,"native-open");this.config.data&&t.each(this.options,function(n,t){this.el.add(t)},this);return}t.addClass(this.container,"open");o.call(this);this.invert();this.tree.scrollTop=0;t.removeClass(this.container,"notice");this.selected.setAttribute("aria-expanded",!0);this.tree.setAttribute("aria-hidden",!1);this.tree.setAttribute("aria-expanded",!0);this.config.searchable&&!this.config.taggable&&setTimeout(function(){n.input.focus();n.input.tabIndex=0},10)};i.prototype.close=function(){if(this.opened&&this.emit("selectr.close"),this.opened=!1,this.mobileDevice||this.config.nativeDropdown){t.removeClass(this.container,"native-open");return}var n=t.hasClass(this.container,"notice");this.config.searchable&&!n&&(this.input.blur(),this.input.tabIndex=-1,this.searching=!1);n&&(t.removeClass(this.container,"notice"),this.notice.textContent="");t.removeClass(this.container,"open");t.removeClass(this.container,"native-open");this.selected.setAttribute("aria-expanded",!1);this.tree.setAttribute("aria-hidden",!0);this.tree.setAttribute("aria-expanded",!1);t.truncate(this.tree);s.call(this)};i.prototype.enable=function(){this.disabled=!1;this.el.disabled=!1;this.selected.tabIndex=this.originalIndex;this.el.multiple&&t.each(this.tags,function(n,t){t.lastElementChild.tabIndex=0});t.removeClass(this.container,"selectr-disabled")};i.prototype.disable=function(n){n||(this.el.disabled=!0);this.selected.tabIndex=-1;this.el.multiple&&t.each(this.tags,function(n,t){t.lastElementChild.tabIndex=-1});this.disabled=!0;t.addClass(this.container,"selectr-disabled")};i.prototype.reset=function(){this.disabled||(this.clear(),this.setSelected(!0),t.each(this.defaultSelected,function(n,t){this.select(t)},this),this.emit("selectr.reset"))};i.prototype.clear=function(n){if(this.el.multiple){if(this.selectedIndexes.length){var i=this.selectedIndexes.slice();t.each(i,function(n,t){this.deselect(t)},this)}}else this.selectedIndex>-1&&this.deselect(this.selectedIndex,n);this.emit("selectr.clear")};i.prototype.serialise=function(n){var i=[];return t.each(this.options,function(n,t){var r={value:t.value,text:t.textContent};t.selected&&(r.selected=!0);t.disabled&&(r.disabled=!0);i[n]=r}),n?JSON.stringify(i):i};i.prototype.serialize=function(n){return this.serialise(n)};i.prototype.setPlaceholder=function(n){n=n||this.config.placeholder||this.el.getAttribute("placeholder");this.options.length||(n="No options available");this.placeEl.innerHTML=n};i.prototype.paginate=function(){if(this.items.length){var n=this;return this.pages=this.items.map(function(t,i){return i%n.config.pagination==0?n.items.slice(i,i+n.config.pagination):null}).filter(function(n){return n}),this.pages}};i.prototype.setMessage=function(n,i){i&&this.close();t.addClass(this.container,"notice");this.notice.textContent=n};i.prototype.removeMessage=function(){t.removeClass(this.container,"notice");this.notice.innerHTML=""};i.prototype.invert=function(){var n=t.rect(this.selected),i=this.tree.parentNode.offsetHeight,r=window.innerHeight,u=n.top+n.height+i>r;u?(t.addClass(this.container,"inverted"),this.isInverted=!0):(t.removeClass(this.container,"inverted"),this.isInverted=!1);this.optsRect=t.rect(this.tree)};i.prototype.getOptionByIndex=function(n){return this.options[n]};i.prototype.getOptionByValue=function(n){for(var i=!1,t=0,r=this.options.length;t<r;t++)if(this.options[t].value.trim()===n.toString().trim()){i=this.options[t];break}return i};n.exports=i},function(n,t){"use strict";function u(n,t,u){var f,e;return typeof t=="number"?t>10?f=r(" ",10):t>=1&&(f=r(" ",t)):typeof t=="string"&&t!==""&&(f=t),e=i(n,f,"",u),e.length>u?o(e,u)+"...":e}function i(n,t,i,r){return typeof n=="boolean"||n instanceof Boolean||n===null||typeof n=="number"||n instanceof Number||typeof n=="string"||n instanceof String||n instanceof Date?JSON.stringify(n):Array.isArray(n)?f(n,t,i,r):n&&typeof n=="object"?e(n,t,i,r):undefined}function f(n,t,r,u){for(var o,s=t?r+t:undefined,f=t?"[\n":"[",e=0;e<n.length;e++)if(o=n[e],t&&(f+=s),f+=typeof o!="undefined"&&typeof o!="function"?i(o,t,s,u):"null",e<n.length-1&&(f+=t?",\n":","),f.length>u)return f+"...";return f+(t?"\n"+r+"]":"]")}function e(n,t,r,u){var o=t?r+t:undefined,s=!0,f=t?"{\n":"{",e,h;if(typeof n.toJSON=="function")return i(n.toJSON(),t,r,u);for(e in n)if(n.hasOwnProperty(e)&&(h=n[e],s?s=!1:f+=t?",\n":",",f+=t?o+'"'+e+'": ':'"'+e+'":',f+=i(h,t,o,u),f.length>u))return f+"...";return f+(t?"\n"+r+"}":"}")}function r(n,t){for(var i="";t-->0;)i+=n;return i}function o(n,t){return typeof t=="number"?n.slice(0,t):n}function s(n){return/^\s*\[/.test(n)}t.stringifyPartial=u;t.containsArray=s},function(n){"use strict";function i(n){function c(n){var t,i;document.createRange?(t=document.createRange(),t.selectNodeContents(n),t.collapse(!1),i=window.getSelection(),i.removeAllRanges(),i.addRange(t)):document.selection&&(t=document.body.createTextRange(),t.moveToElementText(n),t.collapse(!1),t.select())}function l(n){return r===undefined&&(r=document.createElement("span"),r.style.visibility="hidden",r.style.position="fixed",r.style.outline="0",r.style.margin="0",r.style.padding="0",r.style.border="0",r.style.left="0",r.style.whiteSpace="pre",r.style.fontSize=s,r.style.fontFamily=h,r.style.fontWeight="normal",document.body.appendChild(r)),r.innerHTML=String(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),r.getBoundingClientRect().right}var u,r,e,a;n=n||{};n.filter=n.filter||"start";n.trigger=n.trigger||"keydown";n.confirmKeys=n.confirmKeys||[39,35,9];n.caseSensitive=n.caseSensitive||!1;var s="",h="",f=document.createElement("div");f.style.position="relative";f.style.outline="0";f.style.border="0";f.style.margin="0";f.style.padding="0";u=document.createElement("div");u.className="autocomplete dropdown";u.style.position="absolute";u.style.visibility="hidden";a=function(i,r){var u=[],f=0,o=-1,s=function(){this.style.outline="1px solid #ddd"},h=function(){this.style.outline="0"},c=function(){e.hide();e.onmouseselection(this.__hint,e.rs)},e={rs:r,hide:function(){i.style.visibility="hidden"},refresh:function(r,o){var l,p;i.style.visibility="hidden";f=0;i.innerHTML="";var w=window.innerHeight||document.documentElement.clientHeight,a=i.parentNode.getBoundingClientRect(),v=a.top-6,y=w-a.bottom-6;(u=[],l=typeof n.filter=="function"?n.filter:t[n.filter],p=l?o.filter(function(t){return l(n.caseSensitive?r:r.toLowerCase(),n.caseSensitive?t:t.toLowerCase(),n)}):[],u=p.map(function(n){var t=document.createElement("div");return t.className="item",t.onmouseover=s,t.onmouseout=h,t.onmousedown=c,t.__hint=n,t.innerHTML=n.substring(0,r.length)+"<b>"+n.substring(r.length)+"<\/b>",i.appendChild(t),t}),u.length!==0)&&(u.length!==1||(r.toLowerCase()!==u[0].__hint.toLowerCase()||n.caseSensitive)&&(r!==u[0].__hint||!n.caseSensitive))&&(u.length<2||(e.highlight(0),v>y*3?(i.style.maxHeight=v+"px",i.style.top="",i.style.bottom="100%"):(i.style.top="100%",i.style.bottom="",i.style.maxHeight=y+"px"),i.style.visibility="visible"))},highlight:function(n){o!=-1&&u[o]&&(u[o].className="item");u[n].className="item hover";o=n},move:function(n){return i.style.visibility==="hidden"?"":f+n===-1||f+n===u.length?u[f].__hint:(f+=n,e.highlight(f),u[f].__hint)},onmouseselection:function(){}};return e};var i={onArrowDown:function(){},onArrowUp:function(){},onEnter:function(){},onTab:function(){},startFrom:0,options:[],element:null,elementHint:null,elementStyle:null,wrapper:f,show:function(n,t,i){this.startFrom=t;this.wrapper.remove();this.elementHint&&(this.elementHint.remove(),this.elementHint=null);s==""&&(s=window.getComputedStyle(n).getPropertyValue("font-size"));h==""&&(h=window.getComputedStyle(n).getPropertyValue("font-family"));var r=n.getBoundingClientRect().right-n.getBoundingClientRect().left;u.style.marginLeft="0";u.style.marginTop=n.getBoundingClientRect().height+"px";this.options=i;this.element!=n&&(this.element=n,this.elementStyle={zIndex:this.element.style.zIndex,position:this.element.style.position,backgroundColor:this.element.style.backgroundColor,borderColor:this.element.style.borderColor});this.element.style.zIndex=3;this.element.style.position="relative";this.element.style.backgroundColor="transparent";this.element.style.borderColor="transparent";this.elementHint=n.cloneNode();this.elementHint.className="autocomplete hint";this.elementHint.style.zIndex=2;this.elementHint.style.position="absolute";this.elementHint.onfocus=function(){this.element.focus()}.bind(this);this.element.addEventListener&&(this.element.removeEventListener("keydown",v),this.element.addEventListener("keydown",v,!1),this.element.removeEventListener("blur",y),this.element.addEventListener("blur",y,!1));f.appendChild(this.elementHint);f.appendChild(u);n.parentElement.appendChild(f);this.repaint(n)},setText:function(n){this.element.innerText=n},getText:function(){return this.element.innerText},hideDropDown:function(){this.wrapper.remove();this.elementHint&&(this.elementHint.remove(),this.elementHint=null,o.hide(),this.element.style.zIndex=this.elementStyle.zIndex,this.element.style.position=this.elementStyle.position,this.element.style.backgroundColor=this.elementStyle.backgroundColor,this.element.style.borderColor=this.elementStyle.borderColor)},repaint:function(t){var f=t.innerText,s,r,h;f=f.replace("\n","");var a=this.startFrom,v=this.options,c=this.options.length,i=f.substring(this.startFrom);for(e=f.substring(0,this.startFrom),s=0;s<c;s++)if(r=this.options[s],!n.caseSensitive&&r.toLowerCase().indexOf(i.toLowerCase())===0||n.caseSensitive&&r.indexOf(i)===0){this.elementHint.innerText=e+i+r.substring(i.length);this.elementHint.realInnerText=e+r;break}u.style.left=l(e)+"px";o.refresh(i,this.options);this.elementHint.style.width=l(this.elementHint.innerText)+10+"px";h=u.style.visibility=="hidden";h||(this.elementHint.style.width=l(this.elementHint.innerText)+u.clientWidth+"px")}},o=a(u,i),v=function(t){var r,h,a,l,s,f;if((t=t||window.event,r=t.keyCode,this.elementHint!=null)&&r!=33&&r!=34){if(r==27){i.hideDropDown();i.element.focus();t.preventDefault();t.stopPropagation();return}if(h=this.element.innerText,h=h.replace("\n",""),a=this.startFrom,n.confirmKeys.indexOf(r)>=0){r==9&&this.elementHint.innerText.length==0&&i.onTab();this.elementHint.innerText.length>0&&this.element.innerText!=this.elementHint.realInnerText&&(this.element.innerText=this.elementHint.realInnerText,i.hideDropDown(),c(this.element),r==9&&(i.element.focus(),t.preventDefault(),t.stopPropagation()));return}if(r==13){if(this.elementHint.innerText.length==0)i.onEnter();else{if(l=u.style.visibility=="hidden",o.hide(),l){i.hideDropDown();i.element.focus();i.onEnter();return}this.element.innerText=this.elementHint.realInnerText;i.hideDropDown();c(this.element);t.preventDefault();t.stopPropagation()}return}if(r==40){s=h.substring(this.startFrom);f=o.move(1);f==""&&i.onArrowDown();this.elementHint.innerText=e+s+f.substring(s.length);this.elementHint.realInnerText=e+f;t.preventDefault();t.stopPropagation();return}if(r==38){s=h.substring(this.startFrom);f=o.move(-1);f==""&&i.onArrowUp();this.elementHint.innerText=e+s+f.substring(s.length);this.elementHint.realInnerText=e+f;t.preventDefault();t.stopPropagation();return}}}.bind(i),y=function(){i.hideDropDown()}.bind(i);return o.onmouseselection=function(n,t){t.element.innerText=t.elementHint.innerText=e+n;t.hideDropDown();window.setTimeout(function(){t.element.focus();c(t.element)},1)},i}var t={start:function(n,t){return t.indexOf(n)===0},contain:function(n,t){return t.indexOf(n)>-1}};n.exports=i},function(n,t,i){function e(n,t){if(!t)return Promise.resolve([]);try{var i=t(n),e=r(i)?i:Promise.resolve(i);return e.then(function(n){return Array.isArray(n)?n.filter(function(n){var t=u(n);return t||console.warn('Ignoring a custom validation error with invalid structure. Expected structure: {path: [...], message: "..."}. Actual error:',n),t}).map(function(n){return{dataPath:f(n.path),message:n.message}}):[]})}catch(o){return Promise.reject(o)}}var r=i(0).isPromise,u=i(0).isValidValidationError,f=i(0).stringifyPath;t.validateCustom=e},function(){ace.define("ace/theme/jsoneditor",["require","exports","module","ace/lib/dom"],function(n,t){t.isDark=!1;t.cssClass="ace-jsoneditor";t.cssText='.ace-jsoneditor .ace_gutter {background: #ebebeb;color: #333}.ace-jsoneditor.ace_editor {font-family: "dejavu sans mono", "droid sans mono", consolas, monaco, "lucida console", "courier new", courier, monospace, sans-serif;line-height: 1.3;background-color: #fff;}.ace-jsoneditor .ace_print-margin {width: 1px;background: #e8e8e8}.ace-jsoneditor .ace_scroller {background-color: #FFFFFF}.ace-jsoneditor .ace_text-layer {color: gray}.ace-jsoneditor .ace_variable {color: #1a1a1a}.ace-jsoneditor .ace_cursor {border-left: 2px solid #000000}.ace-jsoneditor .ace_overwrite-cursors .ace_cursor {border-left: 0px;border-bottom: 1px solid #000000}.ace-jsoneditor .ace_marker-layer .ace_selection {background: lightgray}.ace-jsoneditor.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #FFFFFF;border-radius: 2px}.ace-jsoneditor .ace_marker-layer .ace_step {background: rgb(255, 255, 0)}.ace-jsoneditor .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #BFBFBF}.ace-jsoneditor .ace_marker-layer .ace_active-line {background: #FFFBD1}.ace-jsoneditor .ace_gutter-active-line {background-color : #dcdcdc}.ace-jsoneditor .ace_marker-layer .ace_selected-word {border: 1px solid lightgray}.ace-jsoneditor .ace_invisible {color: #BFBFBF}.ace-jsoneditor .ace_keyword,.ace-jsoneditor .ace_meta,.ace-jsoneditor .ace_support.ace_constant.ace_property-value {color: #AF956F}.ace-jsoneditor .ace_keyword.ace_operator {color: #484848}.ace-jsoneditor .ace_keyword.ace_other.ace_unit {color: #96DC5F}.ace-jsoneditor .ace_constant.ace_language {color: darkorange}.ace-jsoneditor .ace_constant.ace_numeric {color: red}.ace-jsoneditor .ace_constant.ace_character.ace_entity {color: #BF78CC}.ace-jsoneditor .ace_invalid {color: #FFFFFF;background-color: #FF002A;}.ace-jsoneditor .ace_fold {background-color: #AF956F;border-color: #000000}.ace-jsoneditor .ace_storage,.ace-jsoneditor .ace_support.ace_class,.ace-jsoneditor .ace_support.ace_function,.ace-jsoneditor .ace_support.ace_other,.ace-jsoneditor .ace_support.ace_type {color: #C52727}.ace-jsoneditor .ace_string {color: green}.ace-jsoneditor .ace_comment {color: #BCC8BA}.ace-jsoneditor .ace_entity.ace_name.ace_tag,.ace-jsoneditor .ace_entity.ace_other.ace_attribute-name {color: #606060}.ace-jsoneditor .ace_markup.ace_underline {text-decoration: underline}.ace-jsoneditor .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y}';var i=n("../lib/dom");i.importCssString(t.cssText,t.cssClass)})},function(n,t,i){"use strict";var s=i(5),f=i(1).translate,h=i(11),c=i(28),e=i(27)[0].mixin,l=i(9),a=i(10),v=i(2).MAX_PREVIEW_CHARACTERS,o=i(2).DEFAULT_MODAL_ANCHOR,y=i(2).SIZE_LARGE,p=i(2).PREVIEW_HISTORY_LIMIT,u=i(0),w=i(85),r={};r.create=function(n,t){var i,l,a,v,e,y,b,k,o,s,r;t=t||{};typeof t.statusBar=="undefined"&&(t.statusBar=!0);t.mainMenuBar=t.mainMenuBar!==!1;t.enableSort=t.enableSort!==!1;t.enableTransform=t.enableTransform!==!1;this.options=t;this.indentation=t.indentation?Number(t.indentation):2;this.mode="preview";i=this;this.container=n;this.dom={};this.json=undefined;this.text="";this._debouncedValidate=u.debounce(this.validate.bind(this),this.DEBOUNCE_INTERVAL);this.width=n.clientWidth;this.height=n.clientHeight;this.frame=document.createElement("div");this.frame.className="jsoneditor jsoneditor-mode-preview";this.frame.onclick=function(n){n.preventDefault()};this.content=document.createElement("div");this.content.className="jsoneditor-outer";this.dom.busy=document.createElement("div");this.dom.busy.className="jsoneditor-busy";this.dom.busyContent=document.createElement("span");this.dom.busyContent.innerHTML="busy...";this.dom.busy.appendChild(this.dom.busyContent);this.content.appendChild(this.dom.busy);this.dom.previewContent=document.createElement("pre");this.dom.previewContent.className="jsoneditor-preview";this.dom.previewText=document.createTextNode("");this.dom.previewContent.appendChild(this.dom.previewText);this.content.appendChild(this.dom.previewContent);this.options.mainMenuBar&&(u.addClassName(this.content,"has-main-menu-bar"),this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu),l=document.createElement("button"),l.type="button",l.className="jsoneditor-format",l.title="Format JSON data, with proper indentation and line feeds (Ctrl+\\)",this.menu.appendChild(l),l.onclick=function(){i.executeWithBusyMessage(function(){try{i.format()}catch(n){i._onError(n)}},"formatting...")},a=document.createElement("button"),a.type="button",a.className="jsoneditor-compact",a.title="Compact JSON data, remove all whitespaces (Ctrl+Shift+\\)",this.menu.appendChild(a),a.onclick=function(){i.executeWithBusyMessage(function(){try{i.compact()}catch(n){i._onError(n)}},"compacting...")},this.options.enableSort&&(v=document.createElement("button"),v.type="button",v.className="jsoneditor-sort",v.title=f("sortTitleShort"),v.onclick=function(){i._showSortModal()},this.menu.appendChild(v)),this.options.enableTransform&&(e=document.createElement("button"),e.type="button",e.title=f("transformTitleShort"),e.className="jsoneditor-transform",e.onclick=function(){i._showTransformModal()},this.dom.transform=e,this.menu.appendChild(e)),y=document.createElement("button"),y.type="button",y.className="jsoneditor-repair",y.title="Repair JSON: fix quotes and escape characters, remove comments and JSONP notation, turn JavaScript objects into JSON.",this.menu.appendChild(y),y.onclick=function(){i.json===undefined&&i.executeWithBusyMessage(function(){try{i.repair()}catch(n){i._onError(n)}},"repairing...")},this.options.history!==!1&&(b=function(){i.dom.undo.disabled=!i.history.canUndo();i.dom.redo.disabled=!i.history.canRedo()},k=function(n){return n.text.length*2},this.history=new w(b,k,p),o=document.createElement("button"),o.type="button",o.className="jsoneditor-undo jsoneditor-separator",o.title=f("undo"),o.onclick=function(){var n=i.history.undo();n&&i._applyHistory(n)},this.menu.appendChild(o),this.dom.undo=o,s=document.createElement("button"),s.type="button",s.className="jsoneditor-redo",s.title=f("redo"),s.onclick=function(){var n=i.history.redo();n&&i._applyHistory(n)},this.menu.appendChild(s),this.dom.redo=s,this.history.onChange()),this.options&&this.options.modes&&this.options.modes.length&&(this.modeSwitcher=new h(this.menu,this.options.modes,this.options.mode,function(n){i.setMode(n);i.modeSwitcher.focus()})));this.errorTable=new c({errorTableVisible:!0,onToggleVisibility:function(){i.validate()},onFocusLine:null,onChangeHeight:function(n){var r=i.dom.statusBar?i.dom.statusBar.clientHeight:0,t=n+r+1;i.content.style.marginBottom=-t+"px";i.content.style.paddingBottom=t+"px"}});this.frame.appendChild(this.content);this.frame.appendChild(this.errorTable.getErrorTable());this.container.appendChild(this.frame);t.statusBar&&(u.addClassName(this.content,"has-status-bar"),r=document.createElement("div"),this.dom.statusBar=r,r.className="jsoneditor-statusbar",this.frame.appendChild(r),this.dom.fileSizeInfo=document.createElement("span"),this.dom.fileSizeInfo.className="jsoneditor-size-info",this.dom.fileSizeInfo.innerText="",r.appendChild(this.dom.fileSizeInfo),this.dom.arrayInfo=document.createElement("span"),this.dom.arrayInfo.className="jsoneditor-size-info",this.dom.arrayInfo.innerText="",r.appendChild(this.dom.arrayInfo),r.appendChild(this.errorTable.getErrorCounter()),r.appendChild(this.errorTable.getWarningIcon()),r.appendChild(this.errorTable.getErrorIcon()));this._renderPreview();this.setSchema(this.options.schema,this.options.schemaRefs)};r._renderPreview=function(){var n=this.getText();this.dom.previewText.nodeValue=u.limitCharacters(n,v);this.dom.fileSizeInfo&&(this.dom.fileSizeInfo.innerText="Size: "+u.formatSize(n.length));this.dom.arrayInfo&&(this.dom.arrayInfo.innerText=Array.isArray(this.json)?"Array: "+this.json.length+" items":"")};r._onChange=function(){if(this._debouncedValidate(),this.options.onChange)try{this.options.onChange()}catch(n){console.error("Error in onChange callback: ",n)}if(this.options.onChangeJSON)try{this.options.onChangeJSON(this.get())}catch(n){console.error("Error in onChangeJSON callback: ",n)}if(this.options.onChangeText)try{this.options.onChangeText(this.getText())}catch(n){console.error("Error in onChangeText callback: ",n)}};r._showSortModal=function(){function t(t,i){var r,f;Array.isArray(t)&&(r=u.sort(t,i.path,i.direction),n.sortedBy=i,n._setAndFireOnChange(r));u.isObject(t)&&(f=u.sortObjectKeys(t,i.direction),n.sortedBy=i,n._setAndFireOnChange(f))}var n=this;this.executeWithBusyMessage(function(){var r=n.options.modalAnchor||o,i=n.get();n._renderPreview();l(r,i,function(r){n.executeWithBusyMessage(function(){t(i,r)},"sorting...")},n.sortedBy)},"parsing...")};r._showTransformModal=function(){var n=this;this.executeWithBusyMessage(function(){var i=n.options.modalAnchor||o,t=n.get();n._renderPreview();a(i,t,function(i){n.executeWithBusyMessage(function(){var r=s.search(t,i);n._setAndFireOnChange(r)},"transforming...")})},"parsing...")};r.destroy=function(){this.frame&&this.container&&this.frame.parentNode===this.container&&this.container.removeChild(this.frame);this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null);this._debouncedValidate=null;this.history.clear();this.history=null};r.compact=function(){var n=this.get(),t=JSON.stringify(n);this._setTextAndFireOnChange(t,n)};r.format=function(){var n=this.get(),t=JSON.stringify(n,null,this.indentation);this._setTextAndFireOnChange(t,n)};r.repair=function(){var n=this.getText(),t=u.repair(n);this._setTextAndFireOnChange(t)};r.focus=function(){this.dom.transform.focus()};r.set=function(n){this.history&&this.history.clear();this._set(n)};r.update=function(n){this._set(n)};r._set=function(n){this.text=undefined;this.json=n;this._renderPreview();this._pushHistory();this._debouncedValidate()};r._setAndFireOnChange=function(n){this._set(n);this._onChange()};r.get=function(){if(this.json===undefined){var n=this.getText();this.json=u.parse(n)}return this.json};r.getText=function(){return this.text===undefined&&(this.text=JSON.stringify(this.json,null,this.indentation),this.options.escapeUnicode===!0&&(this.text=u.escapeUnicodeChars(this.text))),this.text};r.setText=function(n){this.history&&this.history.clear();this._setText(n)};r.updateText=function(n){this.getText()!==n&&this._setText(n)};r._setText=function(n,t){if(this.text=this.options.escapeUnicode===!0?u.escapeUnicodeChars(n):n,this.json=t,this._renderPreview(),this.json===undefined){var i=this;this.executeWithBusyMessage(function(){try{i.json=i.get();i._renderPreview();i._pushHistory()}catch(n){}},"parsing...")}else this._pushHistory();this._debouncedValidate()};r._setTextAndFireOnChange=function(n,t){this._setText(n,t);this._onChange()};r._applyHistory=function(n){this.json=n.json;this.text=n.text;this._renderPreview();this._debouncedValidate()};r._pushHistory=function(){if(this.history){var n={text:this.text,json:this.json};this.history.add(n)}};r.executeWithBusyMessage=function(n,t){var r=this.getText().length,i;r>y?(i=this,u.addClassName(i.frame,"busy"),i.dom.busyContent.innerText=t,setTimeout(function(){n();u.removeClassName(i.frame,"busy");i.dom.busyContent.innerText=""},100)):n()};r.validate=e.validate;r._renderErrors=e._renderErrors;n.exports=[{mode:"preview",mixin:r,data:"json"}]},function(n){function t(n,t,i){this.onChange=n;this.calculateItemSize=t||function(){return 1};this.limit=i;this.items=[];this.index=-1}t.prototype.add=function(n){while(this._calculateHistorySize()>this.limit&&this.items.length>1)this.items.shift(),this.index--;this.items=this.items.slice(0,this.index+1);this.items.push(n);this.index++;this.onChange()};t.prototype._calculateHistorySize=function(){var t=this.calculateItemSize,n=0;return this.items.forEach(function(i){n+=t(i)}),n};t.prototype.undo=function(){if(this.canUndo())return this.index--,this.onChange(),this.items[this.index]};t.prototype.redo=function(){if(this.canRedo())return this.index++,this.onChange(),this.items[this.index]};t.prototype.canUndo=function(){return this.index>0};t.prototype.canRedo=function(){return this.index<this.items.length-1};t.prototype.clear=function(){this.items=[];this.index=-1;this.onChange()};n.exports=t},function(n){n.exports=JSON.parse('{"id":"http://json-schema.org/draft-04/schema#","$schema":"http://json-schema.org/draft-04/schema#","description":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"positiveInteger":{"type":"integer","minimum":0},"positiveIntegerDefault0":{"allOf":[{"$ref":"#/definitions/positiveInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"minItems":1,"uniqueItems":true}},"type":"object","properties":{"id":{"type":"string"},"$schema":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"multipleOf":{"type":"number","minimum":0,"exclusiveMinimum":true},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"boolean","default":false},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"boolean","default":false},"maxLength":{"$ref":"#/definitions/positiveInteger"},"minLength":{"$ref":"#/definitions/positiveIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/positiveInteger"},"minItems":{"$ref":"#/definitions/positiveIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxProperties":{"$ref":"#/definitions/positiveInteger"},"minProperties":{"$ref":"#/definitions/positiveIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"dependencies":{"exclusiveMaximum":["maximum"],"exclusiveMinimum":["minimum"]},"default":{}}')},function(n){n.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-06/schema#","$id":"http://json-schema.org/draft-06/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"examples":{"type":"array","items":{}},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":{},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":{}}')}])});