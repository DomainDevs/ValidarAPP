@using Sistran.Core.Framework.UIF.Web.Resources

@{
    ViewBag.Title = @Global.BallotCardInternalDeposit;
    Layout = "~/Views/Shared/_UIFLayout-r2-BigMenu.cshtml";
}

@section Breadcrumb
{
    <ol class="breadcrumb global-header-breadcrumb">
        <li>@Global.AccountingAdministrative</li>
        <li>@Global.BallotsAdministration</li>
        <li>@Global.InternalBallot</li>
    </ol>
}

@section Toolbar
{
    <footer>
        @if (Sistran.Core.Framework.UIF.Web.Helpers.SessionHelper.IsAuthorize("0543"))
        {
            <button class="btn btn-default" id="CancelTicket">
                <i class="fa fa-remove"></i>@Global.Cancel
            </button>
        }
        @if (Sistran.Core.Framework.UIF.Web.Helpers.SessionHelper.IsAuthorize("0542"))
        {
            <button class="btn btn-primary" id="SaveTicketCardInternal">
                <i class="fa fa-save"></i> @Global.Accept
            </button>
        }
    </footer>
}

@section Modals
{
    <div class="uif-modal" id="ModalCardInternalSave">
        <div class="uif-modalbody">
            @Html.Partial("CardInternalDepositSlipSaveSuccessModal")
        </div>
    </div>
}


@*Código html*@

<form id="InternalBallot" onsubmit="return false">
    <div class="uif-row">
        <div class="uif-col-4">
            <label>@Global.CardType</label>
            <div class="radio">
                <label>
                    <input type="radio" name="options" id="cardTypeA" value="C" checked>
                    @Global.Creditable
                </label>
                <label>
                    &nbsp;&nbsp;&nbsp;<input type="radio" name="options" id="cardTypeB" value="U">
                    @Global.Ncreditable
                </label>
            </div>
        </div>

        <div class="uif-col-4">
            <label class="control-label">
                @Global.Conduit
            </label>
            @Html.DropDownList("CreditCardType", Enumerable.Empty<SelectListItem>(), new
            {
                 @class = "uif-select form-control",
                 data_source = @Url.Content("~/Accounting/Common/GetCreditCardTypes"),
                 data_id = "Id",
                 data_name = "Description",
                 data_val = "true",
                 data_native = "true",
                 data_val_required = @Global.RequiredField
            })
            <span class="text-danger" data-valmsg-for="CreditCardType" data-valmsg-replace="true" />
        </div>
        <div class="uif-col-4">
            <label class="control-label">
                @Global.Branch
            </label>
            @Html.DropDownList("Branch", Enumerable.Empty<SelectListItem>(), new
            {
                @class = "uif-select form-control",
                data_source = @Url.Content("~/Accounting/Common/GetListBranchesbyUserName"),
                data_id = "Id",
                data_name = "Description",
                data_selectedid = @ViewBag.BranchDefault,
                data_val = "true",
                data_native = "true",
                data_val_required = @Global.RequiredField
            })
            <span class="text-danger" data-valmsg-for="Branch" data-valmsg-replace="true" />
        </div>
    </div>
    <div class="uif-row">
        <div class="uif-col-4">
            <label class="control-label">
                @Global.ToDate
            </label>
            <input type="text" value="@ViewBag.CurrentDate" class="uif-datepicker" data-mask="99/99/9999" id="DateInternalDeposit"
                   name="DateInternalDeposit" data-val="true" data-val-required='@Global.RequiredField' />
            <span class="text-danger" data-valmsg-for="DateInternalDeposit" data-valmsg-replace="true" />
        </div>
        <div class="uif-col-4">
            <label class="control-label">
                @Global.ReceivingBank
            </label>
            @Html.DropDownList("ReceivingBankCardInternal", Enumerable.Empty<SelectListItem>(), new
            {
                @class = "uif-select form-control",
                    @*data_source = @Url.Content("~/Accounting/Common/GetAccountBanks"),*@
                    data_id = "Id",
                    data_name = "Description",
                    data_val = "true",
                    data_native = "true",
                    data_val_required = @Global.RequiredField
                })
                <span class="text-danger" data-valmsg-for="ReceivingBankCardInternal" data-valmsg-replace="true" />
            </div>
            <div class="uif-col-4">
                <label class="control-label">
                    @Global.AccountNumber
                </label>
                @Html.DropDownList("ReceivingAccountNumber", Enumerable.Empty<SelectListItem>(), new
                 {
                     @class = "uif-select form-control",
                     data_id = "Id",
                     data_name = "Number",
                     data_val = "true",
                     data_native = "true",
                     data_val_required = @Global.RequiredField
                 })
                <span class="text-danger" data-valmsg-for="ReceivingAccountNumber" data-valmsg-replace="true" />
            </div>
        </div>
        <div class="uif-row">
            <div class="uif-col-4">
                <label class="control-label">
                    @Global.AccountCurrency
                </label>
                <input type="text" value="" id="AccountCurrency" placeholder="" style="text-align: left" disabled="disabled" class="uif2_required" />
            </div>
            <div class="uif-col-4">
                <label class="control-label">
                    @Global.AmountCard
                </label>
                <input type="text" value="" id="CardAmount" style="text-align: left" disabled="disabled" onkeypress="return OnlyDecimalNumber(event,this)" />
            </div>
            <div class="uif-col-4">
                <label class="control-label">
                    @Global.Commissionamount
                </label>
                <input type="text" value="" id="CommissionAmount" placeholder="" style="text-align: left" disabled="disabled" class="uif2_required" />
            </div>
        </div>
        <div class="uif-row">
            <div class="uif-col-12">
                <h4>@Global.SearchCardsToDeposit</h4>
            </div>
        </div>
        <div class="uif-row">
            <div class="uif-col-6">
                <label class="control-label">
                    @Global.VoucherNumber
                </label>
                <input type="text" value="" id="VoucherNumber" style="text-align: left"  onkeypress=" return JustNumbers(event, this); " maxlength="12" />
            </div>
            <div class="uif-col-6">
                <label class="control-label">
                    @Global.IssuingBank
                </label>
                <input class="uif-autocomplete" type="text" data-source="@Url.Action("GetBanks", "CheckInternalDepositSlip")" data-displaykey="bankDescription" placeholder='@Global.EnterBankName' id="IssuingBank">
            </div>
        </div>
    </form>

    <div class="uif-row">
        <div class="uif-col-12">
            <div class="form-footer">
                @if (Sistran.Core.Framework.UIF.Web.Helpers.SessionHelper.IsAuthorize("0541"))
                {
                    <button id="CleanInternalDeposit" class="btn btn-default" role="button">
                        <i class="fa fa-paint-brush"></i>  @Global.Clean
                    </button>
                }
                @if (Sistran.Core.Framework.UIF.Web.Helpers.SessionHelper.IsAuthorize("0540"))
                {
                    <button id="SearchIntenalDeposit" class="btn btn-primary" role="button">
                        <i class="fa fa-search"></i>  @Global.Search
                    </button>
                }
            </div>
        </div>
    </div>

    <div class="uif-row">
        <div class="uif-col-12">
            <div class="uif-alert" id="alertInternalDeposit"></div>
        </div>
    </div>

    <div class="uif-row">
        <div class="uif-col-12">
            <table class="uif-table" id="CardsDeposit" data-exporttocsv="false" data-edit="false" data-delete="false" data-selectiontype="multiple" data-filter="true"
                   data-paginate="true" data-add="true" data-title="@Global.CardsToDeposit">
                <thead>
                    <tr>
                        <th data-property="PaymentCode" data-visible="false">PaymentCode</th>
                        <th data-property="PaymentMethodTypeCode" data-visible="false">PaymentMethodTypeCode</th>
                        <th data-property="CurrencyCode" data-visible="false">CurrencyCode</th>
                        <th data-property="BankName" data-visible="false">BankName</th>
                        <th data-property="VoucherNumber">@Global.VoucherNumber</th>
                        <th data-property="CardNumber">@Global.CardNumber</th>
                        <th data-property="CardDate">@Global.InternalBallotDepositCardGridCardDate</th>
                        <th data-property="TechnicalTransaction">@Global.TransactionNumber</th>
                        <th data-property="ReceiptNumber" data-visible="false">@Global.BillNum</th>
                        <th data-property="CurrencyName">@Global.Currency</th>
                        <th data-property="Amount">@Global.Amount</th>
                        <th data-property="TaxAmount">@Global.TotalTaxes</th>
                        <th data-property="CommissionAmount">@Global.Commission</th>
                        <th data-property="Holder" data-visible="false">Holder</th>
                        <th data-property="BranchCode" data-visible="false">BranchCode</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>

    <div class="uif-row">
        <div class="pull-left">
            <div class="uif-col-12">
                <button id="AddIntenalDepositSlip" class="btn btn-primary" role="button">
                    <span class="glyphicon glyphicon-plus"></span>  @Global.Add
                </button>
            </div>
        </div>
    </div>

    <div class="uif-row">
        <div class="uif-col-12">
            <table class="uif-table" id="CardsSelect" data-exporttocsv="false" data-exportname="cultura" data-add="false" data-edit="false"
                   data-delete="true" data-filter="false" data-selectiontype="none" data-title="@Global.InternalBallotDepositCardSelectedCards">
                <thead>
                    <tr>
                        <th data-property="PaymentCode" data-visible="false">PaymentCode</th>
                        <th data-property="PaymentMethodTypeCode" data-visible="false">PaymentMethodTypeCode</th>
                        <th data-property="CurrencyCode" data-visible="false">CurrencyCode</th>
                        <th data-property="BankName" data-visible="false">BankName</th>
                        <th data-property="VoucherNumber">@Global.VoucherNumber</th>
                        <th data-property="CardNumber">@Global.CardNumber</th>
                        <th data-property="CardDate">@Global.InternalBallotDepositCardGridCardDate</th>
                        <th data-property="TechnicalTransaction">@Global.TransactionNumber</th>
                        <th data-property="ReceiptNumber" data-visible="false">@Global.BillNum</th>
                        <th data-property="CurrencyName">@Global.Currency</th>
                        <th data-property="Amount">@Global.Amount</th>
                        <th data-property="TaxAmount">@Global.TotalTaxes</th>
                        <th data-property="CommissionAmount">@Global.Commission</th>
                        <th data-property="Holder" data-visible="false">Holder</th>
                        <th data-property="BranchCode" data-visible="false">BranchCode</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>
    <div class="uif-row">
        <div class="uif-col-12">
            <div class="uif-alert" id="alert"></div>
        </div>
    </div>

    @*VIEWBAGS*@
            <input type="hidden" id="ViewBagCreditable" value="@ViewBag.Creditable" />
            <input type="hidden" id="ViewBagNoCreditable" value="@ViewBag.NoCreditable" />
            <input type="hidden" id="ViewBagBranchDisable" value="@ViewBag.BranchDisable" />
            <input type="hidden" id="ViewBagPaymentMethodCash" value="@ViewBag.PaymentMethodCash" />

            @section scripts
{
                @Scripts.Render("~/accounting/bundles/MainCardInternalDepositSlip")
            }
